/*! For license information please see 2.637c1618.chunk.js.LICENSE.txt */
(this.webpackJsonpsmsapp=this.webpackJsonpsmsapp||[]).push([[2],[function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",(function(){return i})),n.d(t,"__assign",(function(){return o})),n.d(t,"__rest",(function(){return a})),n.d(t,"__decorate",(function(){return s})),n.d(t,"__param",(function(){return u})),n.d(t,"__metadata",(function(){return c})),n.d(t,"__awaiter",(function(){return l})),n.d(t,"__generator",(function(){return h})),n.d(t,"__createBinding",(function(){return f})),n.d(t,"__exportStar",(function(){return d})),n.d(t,"__values",(function(){return p})),n.d(t,"__read",(function(){return v})),n.d(t,"__spread",(function(){return g})),n.d(t,"__spreadArrays",(function(){return y})),n.d(t,"__spreadArray",(function(){return m})),n.d(t,"__await",(function(){return b})),n.d(t,"__asyncGenerator",(function(){return _})),n.d(t,"__asyncDelegator",(function(){return w})),n.d(t,"__asyncValues",(function(){return E})),n.d(t,"__makeTemplateObject",(function(){return T})),n.d(t,"__importStar",(function(){return S})),n.d(t,"__importDefault",(function(){return C})),n.d(t,"__classPrivateFieldGet",(function(){return k})),n.d(t,"__classPrivateFieldSet",(function(){return O}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function y(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function b(e){return this instanceof b?(this.v=e,this):new b(e)}function _(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof b?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:b(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function T(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function S(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return I(t,e),t}function C(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"CONSTANTS",(function(){return i})),n.d(t,"Deferred",(function(){return d})),n.d(t,"ErrorFactory",(function(){return N})),n.d(t,"FirebaseError",(function(){return x})),n.d(t,"MAX_VALUE_MILLIS",(function(){return ae})),n.d(t,"RANDOM_FACTOR",(function(){return se})),n.d(t,"Sha1",(function(){return Q})),n.d(t,"areCookiesEnabled",(function(){return O})),n.d(t,"assert",(function(){return o})),n.d(t,"assertionError",(function(){return a})),n.d(t,"async",(function(){return X})),n.d(t,"base64",(function(){return u})),n.d(t,"base64Decode",(function(){return l})),n.d(t,"base64Encode",(function(){return c})),n.d(t,"calculateBackoffMillis",(function(){return ue})),n.d(t,"contains",(function(){return V})),n.d(t,"createMockUserToken",(function(){return p})),n.d(t,"createSubscribe",(function(){return $})),n.d(t,"decode",(function(){return L})),n.d(t,"deepCopy",(function(){return h})),n.d(t,"deepExtend",(function(){return f})),n.d(t,"errorPrefix",(function(){return ee})),n.d(t,"extractQuerystring",(function(){return G})),n.d(t,"getGlobal",(function(){return P})),n.d(t,"getModularInstance",(function(){return le})),n.d(t,"getUA",(function(){return v})),n.d(t,"isAdmin",(function(){return q})),n.d(t,"isBrowser",(function(){return m})),n.d(t,"isBrowserExtension",(function(){return b})),n.d(t,"isElectron",(function(){return w})),n.d(t,"isEmpty",(function(){return z})),n.d(t,"isIE",(function(){return E})),n.d(t,"isIndexedDBAvailable",(function(){return C})),n.d(t,"isMobileCordova",(function(){return g})),n.d(t,"isNode",(function(){return y})),n.d(t,"isNodeSdk",(function(){return I})),n.d(t,"isReactNative",(function(){return _})),n.d(t,"isSafari",(function(){return S})),n.d(t,"isUWP",(function(){return T})),n.d(t,"isValidFormat",(function(){return U})),n.d(t,"isValidTimestamp",(function(){return M})),n.d(t,"issuedAtTime",(function(){return F})),n.d(t,"jsonEval",(function(){return D})),n.d(t,"map",(function(){return K})),n.d(t,"ordinal",(function(){return ce})),n.d(t,"querystring",(function(){return W})),n.d(t,"querystringDecode",(function(){return H})),n.d(t,"safeGet",(function(){return B})),n.d(t,"stringLength",(function(){return oe})),n.d(t,"stringToByteArray",(function(){return ie})),n.d(t,"stringify",(function(){return j})),n.d(t,"validateArgCount",(function(){return Z})),n.d(t,"validateCallback",(function(){return ne})),n.d(t,"validateContextObject",(function(){return re})),n.d(t,"validateIndexedDBOpenable",(function(){return k})),n.d(t,"validateNamespace",(function(){return te}));var r=n(0),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return f(void 0,e)}function f(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=f(e[n],t[n]));return e}var d=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function p(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[u.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),u.encodeString(JSON.stringify(a),!1),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())}function y(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function m(){return"object"===typeof self&&self.self===self}function b(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function _(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function w(){return v().indexOf("Electron/")>=0}function E(){var e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function T(){return v().indexOf("MSAppHost/")>=0}function I(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function S(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function O(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("Unable to locate global object.")}var x=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return Object(r.__extends)(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?A(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new x(i,s,r);return u},e}();function A(e,t){return e.replace(R,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var R=/\{\$([^}]+)}/g;function D(e){return JSON.parse(e)}function j(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=D(l(o[0])||""),n=D(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},M=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(e){var t=L(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},U=function(e){var t=L(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},q=function(e){var t=L(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function W(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function H(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function G(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function $(e,t){var n=new Y(e,t);return n.subscribe.bind(n)}var Y=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function X(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function J(){}var Z=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ee(e,t){return e+" failed: "+t+" argument "}function te(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(ee(e,"namespace")+"must be a valid firebase namespace.")}function ne(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ee(e,t)+"must be a valid function.")}function re(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ee(e,t)+"must be a valid context object.")}var ie=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oe=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ae=144e5,se=.5;function ue(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(se*r*(Math.random()-.5)*2);return Math.min(ae,r+i)}function ce(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function le(e){return e&&e._delegate?e._delegate:e}}.call(this,n(24))},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";e.exports=n(79)},function(e,t,n){"use strict";n.r(t),n.d(t,"firebase",(function(){return _}));var r,i,o=n(0),a=n(1),s=n(7),u=n(6),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=Object(a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=f),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");Object(u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.7.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||f,!Object(a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&Object(a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,h=Object.keys(t);c<h.length;c++){var f=h[c];t[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=Object(o.__assign)(Object(o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),y=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(Object(a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Object(a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var _=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new y(e)}),"PRIVATE")),e.registerVersion(h,"0.6.28",t),e.registerVersion("fire-js","")}(_),t.default=_},function(e,t,n){e.exports=n(88)()},function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,"LogLevel",(function(){return o})),n.d(t,"Logger",(function(){return h})),n.d(t,"setLogLevel",(function(){return f})),n.d(t,"setUserLogHandler",(function(){return d}));var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},h=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function f(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Component",(function(){return o})),n.d(t,"ComponentContainer",(function(){return u})),n.d(t,"Provider",(function(){return s}));var r=n(0),i=n(1),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),Object(r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(r.__read)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=Object(r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(125),o=(r=i)&&r.__esModule?r:{default:r};function a(e){return[e].join(".").replace(/\[/g,".").replace(/\]/g,"").split(".")}t.default=Object.assign(o.default,{get:function(e,t){var n=e[t];if(void 0!==n&&null!==n)return n;var r=a(t),i=void 0;try{i=r.reduce((function(e,t){return e[t]}),e)}catch(o){}return i},set:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=a(t),o=0;i.reduce((function(e,t){if(o+=1,"undefined"===typeof e[t]){if(!r)throw new Error(e+"."+t+" is undefined");return e[t]={},e[t]}return o===i.length?(e[t]=n,n):e[t]}),e)},isDefined:function(e){return"undefined"!==typeof e&&null!==e},isEmptyObject:function(e){if(!o.default.isObject(e))return!1;for(var t=Object.prototype.hasOwnProperty,n=Object.keys(e),r=0;r<n.length;r+=1)if(t.call(e,n[r]))return!1;return!0},sleep:function(e,t){return setTimeout((function(){return e()}),t)},debounce:function(e,t,n){var r=this,i=arguments,o=void 0;return function(){var a=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(r,i)}),t||0),a&&e.apply(r,i)}},contains:function(e,t){return o.default.includes?o.default.includes(e,t):e.indexOf(t)>-1}})},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oc})),n.d(t,"b",(function(){return Xs})),n.d(t,"c",(function(){return zs})),n.d(t,"d",(function(){return fc})),n.d(t,"e",(function(){return uc})),n.d(t,"f",(function(){return I})),n.d(t,"g",(function(){return cc})),n.d(t,"h",(function(){return yc})),n.d(t,"i",(function(){return gc})),n.d(t,"j",(function(){return mc})),n.d(t,"k",(function(){return ic})),n.d(t,"l",(function(){return Cc})),n.d(t,"m",(function(){return _c})),n.d(t,"n",(function(){return Tc})),n.d(t,"o",(function(){return lc})),n.d(t,"p",(function(){return wc})),n.d(t,"q",(function(){return Sc})),n.d(t,"r",(function(){return Bs})),n.d(t,"s",(function(){return ac})),n.d(t,"t",(function(){return Ic}));var r=n(0),i=n(1),o=n(6),a=n(14),s=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();s.o=-1;var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(r.__extends)(t,e),t}(Error),l=new o.Logger("@firebase/firestore");function h(){return l.logLevel}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.DEBUG){var i=t.map(v);l.debug.apply(l,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var i=t.map(v);l.error.apply(l,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.WARN){var i=t.map(v);l.warn.apply(l,Object(r.__spreadArray)(["Firestore (8.7.0): "+e],i))}}function v(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function g(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.7.0) INTERNAL ASSERTION FAILED: "+e;throw d(t),new Error(t)}function y(e,t){e||g()}function m(e,t){return e}function b(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function w(e,t){return e<t?-1:e>t?1:0}function E(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function T(e){return e+"\0"}var I=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?w(this.nanoseconds,e.nanoseconds):w(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),S=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new I(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function C(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function O(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var P=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&g(),void 0===n?n=e.length-t:n>e.length-t&&g(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(P),N=/^[_a-zA-Z][_a-zA-Z0-9]*$/,A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return N.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(P),R=function(){function e(e){this.fields=e,e.sort(A.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return E(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),D=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return w(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();D.EMPTY_BYTE_STRING=new D("");var j=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function L(e){if(y(!!e),"string"==typeof e){var t=0,n=j.exec(e);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:M(e.seconds),nanos:M(e.nanos)}}function M(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function F(e){return"string"==typeof e?D.fromBase64String(e):D.fromUint8Array(e)}function U(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q(e){var t=e.mapValue.fields.__previous_value__;return U(t)?q(t):t}function V(e){var t=L(e.mapValue.fields.__local_write_time__.timestampValue);return new I(t.seconds,t.nanos)}function B(e){return null==e}function z(e){return 0===e&&1/e==-1/0}function K(e){return"number"==typeof e&&Number.isInteger(e)&&!z(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var W=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(x.fromString(t))},e.fromName=function(t){return new e(x.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===x.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return x.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new x(t.slice()))},e}();function H(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?U(e)?4:10:g()}function G(e,t){var n=H(e);if(n!==H(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return V(e).isEqual(V(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=L(e.timestampValue),r=L(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return F(e.bytesValue).isEqual(F(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return M(e.geoPointValue.latitude)===M(t.geoPointValue.latitude)&&M(e.geoPointValue.longitude)===M(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return M(e.integerValue)===M(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=M(e.doubleValue),r=M(t.doubleValue);return n===r?z(n)===z(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return E(e.arrayValue.values||[],t.arrayValue.values||[],G);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(C(n)!==C(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(e,t);default:return g()}}function Q(e,t){return void 0!==(e.values||[]).find((function(e){return G(e,t)}))}function $(e,t){var n=H(e),r=H(t);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=M(e.integerValue||e.doubleValue),r=M(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Y(e.timestampValue,t.timestampValue);case 4:return Y(V(e),V(t));case 5:return w(e.stringValue,t.stringValue);case 6:return function(e,t){var n=F(e),r=F(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=w(M(e.latitude),M(t.latitude));return 0!==n?n:w(M(e.longitude),M(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=$(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=$(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(e.mapValue,t.mapValue);default:throw g()}}function Y(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return w(e,t);var n=L(e),r=L(t),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function X(e){return J(e)}function J(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=L(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?F(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,W.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=J(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+J(e.fields[o])}return t+"}"}(e.mapValue):g();var t,n}function Z(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ee(e){return!!e&&"integerValue"in e}function te(e){return!!e&&"arrayValue"in e}function ne(e){return!!e&&"nullValue"in e}function re(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ie(e){return!!e&&"mapValue"in e}function oe(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},L(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return k(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=oe(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oe(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ae=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ie(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oe(t)},e.prototype.setAll=function(e){var t=this,n=A.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=oe(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());ie(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return G(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ie(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){k(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(oe(this.value))},e}();function se(e){var t=[];return k(e.fields,(function(e,n){var r=new A([e]);if(ie(n)){var i=se(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new R(t)}var ue=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,S.min(),ae.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ae.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ae.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ae.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ae.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ce=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function le(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ce(e,t,n,r,i,o,a)}function he(e){var t=m(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+X(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),B(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Ie(t.startAt)),t.endAt&&(n+="|ub:",n+=Ie(t.endAt)),t.h=n}return t.h}function fe(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ce(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!G(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Oe(e.startAt,t.startAt)&&Oe(e.endAt,t.endAt)}function de(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var pe=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return Object(r.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ve(e,n,r):"array-contains"===n?new be(e,r):"in"===n?new _e(e,r):"not-in"===n?new we(e,r):"array-contains-any"===n?new Ee(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ge(e,n):new ye(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m($(t,this.value)):null!==t&&H(this.value)===H(t)&&this.m($(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return g()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ve=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=W.fromName(r.referenceValue),i}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=W.comparator(e.key,this.key);return this.m(t)},t}(pe),ge=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=me("in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe),ye=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=me("not-in",n),r}return Object(r.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(pe);function me(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return W.fromName(e.referenceValue)}))}var be=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return te(t)&&Q(t.arrayValue,this.value)},t}(pe),_e=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Q(this.value.arrayValue,t)},t}(pe),we=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){if(Q(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Q(this.value.arrayValue,t)},t}(pe),Ee=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return Object(r.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!te(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Q(t.value.arrayValue,e)}))},t}(pe),Te=function(e,t){this.position=e,this.before=t};function Ie(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return X(e)})).join(",")}var Se=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Ce(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function ke(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?W.comparator(W.fromName(a.referenceValue),n.key):$(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Oe(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!G(e.position[n],t.position[n]))return!1;return!0}var Pe=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function xe(e,t,n,r,i,o,a,s){return new Pe(e,t,n,r,i,o,a,s)}function Ne(e){return new Pe(e)}function Ae(e){return!B(e.limit)&&"F"===e.limitType}function Re(e){return!B(e.limit)&&"L"===e.limitType}function De(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function je(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Le(e){return null!==e.collectionGroup}function Me(e){var t=m(e);if(null===t.p){t.p=[];var n=je(t),r=De(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Se(n)),t.p.push(new Se(A.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Se(A.keyField(),u))}}}return t.p}function Fe(e){var t=m(e);if(!t.T)if("F"===t.limitType)t.T=le(t.path,t.collectionGroup,Me(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Me(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Se(o.field,a))}var s=t.endAt?new Te(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Te(t.startAt.position,!t.startAt.before):null;t.T=le(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function Ue(e,t,n){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function qe(e,t){return fe(Fe(e),Fe(t))&&e.limitType===t.limitType}function Ve(e){return he(Fe(e))+"|lt:"+e.limitType}function Be(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+X(t.value);var t})).join(", ")+"]"),B(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+Ie(e.startAt)),e.endAt&&(t+=", endAt: "+Ie(e.endAt)),"Target("+t+")"}(Fe(e))+"; limitType="+e.limitType+")"}function ze(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):W.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!ke(e.startAt,Me(e),t))&&(!e.endAt||!ke(e.endAt,Me(e),t))}(e,t)}function Ke(e){return function(t,n){for(var r=!1,i=0,o=Me(e);i<o.length;i++){var a=o[i],s=We(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function We(e,t,n){var r=e.field.isKeyField()?W.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$(r,i):g()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}function He(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z(t)?"-0":t}}function Ge(e){return{integerValue:""+e}}function Qe(e,t){return K(t)?Ge(t):He(e,t)}var $e=function(){this._=void 0};function Ye(e,t,n){return e instanceof Ze?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof et?tt(e,t):e instanceof nt?rt(e,t):function(e,t){var n=Je(e,t),r=ot(n)+ot(e.A);return ee(n)&&ee(e.A)?Ge(r):He(e.R,r)}(e,t)}function Xe(e,t,n){return e instanceof et?tt(e,t):e instanceof nt?rt(e,t):n}function Je(e,t){return e instanceof it?ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t}($e),et=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}($e);function tt(e,t){for(var n=at(t),r=function(e){n.some((function(t){return G(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var nt=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return Object(r.__extends)(t,e),t}($e);function rt(e,t){for(var n=at(t),r=function(e){n=n.filter((function(t){return!G(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var it=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return Object(r.__extends)(t,e),t}($e);function ot(e){return M(e.integerValue||e.doubleValue)}function at(e){return te(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var st=function(e,t){this.field=e,this.transform=t},ut=function(e,t){this.version=e,this.transformResults=t},ct=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function lt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ht=function(){};function ft(e,t,n){e instanceof yt?function(e,t,n){var r=e.value.clone(),i=_t(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof mt?function(e,t,n){if(lt(e.precondition,t)){var r=_t(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function dt(e,t,n){e instanceof yt?function(e,t,n){if(lt(e.precondition,t)){var r=e.value.clone(),i=wt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof mt?function(e,t,n){if(lt(e.precondition,t)){var r=wt(e.fieldTransforms,n,t),i=t.data;i.setAll(bt(e)),i.setAll(r),t.convertToFoundDocument(gt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){lt(e.precondition,t)&&t.convertToNoDocument(S.min())}(e,t)}function pt(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=Je(o.transform,a||null);null!=s&&(null==n&&(n=ae.empty()),n.set(o.field,s))}return n||null}function vt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&E(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof et&&t instanceof et||e instanceof nt&&t instanceof nt?E(e.elements,t.elements,G):e instanceof it&&t instanceof it?G(e.A,t.A):e instanceof Ze&&t instanceof Ze}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gt(e){return e.isFoundDocument()?e.version:S.min()}var yt=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(r.__extends)(t,e),t}(ht),mt=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(r.__extends)(t,e),t}(ht);function bt(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _t(e,t,n){var r=new Map;y(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,Xe(a,s,n[i]))}return r}function wt(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Ye(s,u,t))}return r}var Et,Tt,It=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ht),St=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(r.__extends)(t,e),t}(ht),Ct=function(e){this.count=e};function kt(e){switch(e){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function Ot(e){if(void 0===e)return d("GRPC error has no .code"),u.UNKNOWN;switch(e){case Et.OK:return u.OK;case Et.CANCELLED:return u.CANCELLED;case Et.UNKNOWN:return u.UNKNOWN;case Et.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case Et.INTERNAL:return u.INTERNAL;case Et.UNAVAILABLE:return u.UNAVAILABLE;case Et.UNAUTHENTICATED:return u.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case Et.NOT_FOUND:return u.NOT_FOUND;case Et.ALREADY_EXISTS:return u.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return u.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case Et.ABORTED:return u.ABORTED;case Et.OUT_OF_RANGE:return u.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return u.UNIMPLEMENTED;case Et.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(Tt=Et||(Et={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";var Pt=function(){function e(e,t){this.comparator=e,this.root=t||Nt.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nt.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nt.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new xt(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new xt(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new xt(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new xt(this.root,e,this.comparator,!0)},e}(),xt=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Nt=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var e=this.left.check();if(e!==this.right.check())throw g();return e+(this.isRed()?0:1)},e}();Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1,Nt.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Nt(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var At=function(){function e(e){this.comparator=e,this.data=new Pt(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Rt(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Rt(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Rt=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Dt=new Pt(W.comparator);function jt(){return Dt}var Lt=new Pt(W.comparator);function Mt(){return Lt}var Ft=new Pt(W.comparator);function Ut(){return Ft}var qt=new At(W.comparator);function Vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=qt,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Bt=new At(w);function zt(){return Bt}var Kt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Wt.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(S.min(),r,zt(),jt(),Vt())},e}(),Wt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(D.EMPTY_BYTE_STRING,n,Vt(),Vt(),Vt())},e}(),Ht=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Gt=function(e,t){this.targetId=e,this.V=t},Qt=function(e,t,n,r){void 0===n&&(n=D.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},$t=function(){function e(){this.S=0,this.D=Jt(),this.C=D.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Vt(),t=Vt(),n=Vt();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:g()}})),new Wt(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=Jt()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Yt=function(){function e(e){this.W=e,this.G=new Map,this.H=jt(),this.J=Xt(),this.Y=new At(w)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:g()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(de(i))if(0===n){var o=new W(i.path);this.tt(t,o,ue.newNoDocument(o,S.min()))}else y(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&de(o.target)){var a=new W(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,ue.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Vt();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Kt(e,n,this.Y,this.H,r);return this.H=jt(),this.J=Xt(),this.Y=new At(w),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new $t,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new At(w),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new $t),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function Xt(){return new Pt(W.comparator)}function Jt(){return new Pt(W.comparator)}var Zt={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tn=function(e,t){this.databaseId=e,this.I=t};function nn(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function rn(e,t){return e.I?t.toBase64():t.toUint8Array()}function on(e,t){return nn(e,t.toTimestamp())}function an(e){return y(!!e),S.fromTimestamp(function(e){var t=L(e);return new I(t.seconds,t.nanos)}(e))}function sn(e,t){return function(e){return new x(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function un(e){var t=x.fromString(e);return y(An(t)),t}function cn(e,t){return sn(e.databaseId,t.path)}function ln(e,t){var n=un(t);if(n.get(1)!==e.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new W(pn(n))}function hn(e,t){return sn(e.databaseId,t)}function fn(e){var t=un(e);return 4===t.length?x.emptyPath():pn(t)}function dn(e){return new x(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pn(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function vn(e,t,n){return{name:cn(e,t),fields:n.value.mapValue.fields}}function gn(e,t,n){var r=ln(e,t.name),i=an(t.updateTime),o=new ae({mapValue:{fields:t.fields}}),a=ue.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function yn(e,t){var n;if(t instanceof yt)n={update:vn(e,t.key,t.value)};else if(t instanceof It)n={delete:cn(e,t.key)};else if(t instanceof mt)n={update:vn(e,t.key,t.data),updateMask:Nn(t.fieldMask)};else{if(!(t instanceof St))return g();n={verify:cn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ze)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof it)return{fieldPath:t.field.canonicalString(),increment:n.A};throw g()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:on(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:g()}(e,t.precondition)),n}function mn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ct.updateTime(an(e.updateTime)):void 0!==e.exists?ct.exists(e.exists):ct.none()}(t.currentDocument):ct.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)y("REQUEST_TIME"===t.setToServerValue),n=new Ze;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new et(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nt(i)}else"increment"in t?n=new it(e,t.increment):g();var o=A.fromServerFormat(t.fieldPath);return new st(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=ln(e,t.update.name),o=new ae({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new R(t.map((function(e){return A.fromServerFormat(e)})))}(t.updateMask);return new mt(i,o,a,n,r)}return new yt(i,o,n,r)}if(t.delete){var s=ln(e,t.delete);return new It(s,n)}if(t.verify){var u=ln(e,t.verify);return new St(u,n)}return g()}function bn(e,t){return{documents:[hn(e,t.path)]}}function _n(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(re(e.value))return{unaryFilter:{field:kn(e.field),op:"IS_NAN"}};if(ne(e.value))return{unaryFilter:{field:kn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(re(e.value))return{unaryFilter:{field:kn(e.field),op:"IS_NOT_NAN"}};if(ne(e.value))return{unaryFilter:{field:kn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kn(e.field),op:Cn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:kn(e.field),direction:Sn(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||B(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Tn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Tn(t.endAt)),n}function wn(e){var t=fn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=En(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Se(On(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return B(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=In(n.startAt));var l=null;return n.endAt&&(l=In(n.endAt)),xe(t,i,s,a,u,"F",c,l)}function En(e){return e?void 0!==e.unaryFilter?[xn(e)]:void 0!==e.fieldFilter?[Pn(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return En(e)})).reduce((function(e,t){return e.concat(t)})):g():[]}function Tn(e){return{before:e.before,values:e.position}}function In(e){var t=!!e.before,n=e.values||[];return new Te(n,t)}function Sn(e){return Zt[e]}function Cn(e){return en[e]}function kn(e){return{fieldPath:e.canonicalString()}}function On(e){return A.fromServerFormat(e.fieldPath)}function Pn(e){return pe.create(On(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return g()}}(e.fieldFilter.op),e.fieldFilter.value)}function xn(e){switch(e.unaryFilter.op){case"IS_NAN":var t=On(e.unaryFilter.field);return pe.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=On(e.unaryFilter.field);return pe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(e.unaryFilter.field);return pe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=On(e.unaryFilter.field);return pe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return g()}}function Nn(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function An(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Rn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=jn(t)),t=Dn(e.get(n),t);return jn(t)}function Dn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function jn(e){return e+"\x01\x01"}function Ln(e){var t=e.length;if(y(t>=2),2===t)return y("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),x.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&g(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:g()}o=a+2}return new x(r)}var Mn=function(e,t){this.seconds=e,this.nanoseconds=t},Fn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";var Un=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Un.store="mutationQueues",Un.keyPath="userId";var qn=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qn.store="mutations",qn.keyPath="batchId",qn.userMutationsIndex="userMutationsIndex",qn.userMutationsKeyPath=["userId","batchId"];var Vn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Rn(t)]},e.key=function(e,t,n){return[e,Rn(t),n]},e}();Vn.store="documentMutations",Vn.PLACEHOLDER=new Vn;var Bn=function(e,t){this.path=e,this.readTime=t},zn=function(e,t){this.path=e,this.version=t},Kn=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Kn.store="remoteDocuments",Kn.readTimeIndex="readTimeIndex",Kn.readTimeIndexPath="readTime",Kn.collectionReadTimeIndex="collectionReadTimeIndex",Kn.collectionReadTimeIndexPath=["parentPath","readTime"];var Wn=function(e){this.byteSize=e};Wn.store="remoteDocumentGlobal",Wn.key="remoteDocumentGlobalKey";var Hn=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];var Gn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];var Qn=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Qn.key="targetGlobalKey",Qn.store="targetGlobal";var $n=function(e,t){this.collectionId=e,this.parent=t};$n.store="collectionParents",$n.keyPath=["collectionId","parent"];var Yn=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Yn.store="clientMetadata",Yn.keyPath="clientId";var Xn=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Jn=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__spreadArray)(Object(r.__spreadArray)([],[Un.store,qn.store,Vn.store,Kn.store,Hn.store,Fn.store,Qn.store,Gn.store]),[Yn.store])),[Wn.store])),[$n.store])),[Xn.store,Jn.store]),er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tr=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),nr=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},rr=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ir=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new sr(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=fr(t.target.error);n.ft.reject(new sr(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sr(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new cr(t)},e}(),or=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(i.getUA)())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return f("SimpleDb","Removing database:",e),lr(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(i.getUA)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"/smsapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===t?void 0:t.Tt)},t.It=function(e,t){return e.store(t)},t._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new sr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sr(e,n))},i.onupgradeneeded=function(e){f("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){f("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},t.prototype.runTransaction=function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c;return Object(r.__generator)(this,(function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=r.sent(),t=ir.open(u.db,e,o?"readonly":"readwrite",n),s=i(t).catch((function(e){return t.abort(e),rr.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),h="FirebaseError"!==l.name&&a<3,f("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ar=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return lr(this.Pt.delete())},e}(),sr=function(e){function t(t,n){var r=this;return(r=e.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(r.__extends)(t,e),t}(c);function ur(e){return"IndexedDbTransactionError"===e.name}var cr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),lr(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),lr(this.store.add(e))},e.prototype.get=function(e){var t=this;return lr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),lr(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),lr(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new rr((function(n,r){t.onerror=function(e){var t=fr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new rr((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ar(i),a=t(i.primaryKey,i.value,o);if(a instanceof rr){var s=a.catch((function(e){return o.done(),rr.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function lr(e){return new rr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=fr(e.target.error);n(t)}}))}var hr=!1;function fr(e){var t=or._t(Object(i.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return hr||(hr=!0,setTimeout((function(){throw r}),0)),r}}return e}var dr=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return Object(r.__extends)(t,e),t}(tr);function pr(e,t){var n=m(e);return or.It(n.Mt,t)}var vr=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ft(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&dt(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&dt(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(S.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Vt())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&E(this.mutations,e.mutations,(function(e,t){return vt(e,t)}))&&E(this.baseMutations,e.baseMutations,(function(e,t){return vt(e,t)}))},e}(),gr=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){y(t.mutations.length===r.length);for(var i=Ut(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),yr=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=S.min()),void 0===o&&(o=S.min()),void 0===a&&(a=D.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),mr=function(e){this.Lt=e};function br(e,t){if(t.document)return gn(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=W.fromSegments(t.noDocument.path),r=Ir(t.noDocument.readTime),i=ue.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=W.fromSegments(t.unknownDocument.path);return r=Ir(t.unknownDocument.version),ue.newUnknownDocument(o,r)}return g()}function _r(e,t,n){var r=wr(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:cn(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nn(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Kn(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Tr(t.version);return a=t.hasCommittedMutations,new Kn(null,new Bn(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Tr(t.version);return new Kn(new zn(c,l),null,null,!0,r,i)}return g()}function wr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Er(e){var t=new I(e[0],e[1]);return S.fromTimestamp(t)}function Tr(e){var t=e.toTimestamp();return new Mn(t.seconds,t.nanoseconds)}function Ir(e){var t=new I(e.seconds,e.nanoseconds);return S.fromTimestamp(t)}function Sr(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mn(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return mn(e.Lt,t)})),s=I.fromMillis(t.localWriteTimeMs);return new vr(t.batchId,s,n,a)}function Cr(e){var t,n,r=Ir(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ir(e.lastLimboFreeSnapshotVersion):S.min();return void 0!==e.query.documents?(y(1===(n=e.query).documents.length),t=Fe(Ne(fn(n.documents[0])))):t=function(e){return Fe(wn(e))}(e.query),new yr(t,e.targetId,0,e.lastListenSequenceNumber,r,i,D.fromBase64String(e.resumeToken))}function kr(e,t){var n,r=Tr(t.snapshotVersion),i=Tr(t.lastLimboFreeSnapshotVersion);n=de(t.target)?bn(e.Lt,t.target):_n(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Hn(t.targetId,he(t.target),r,o,t.sequenceNumber,i,n)}function Or(e){var t=wn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ue(t,t.limit,"L"):t}var Pr=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return xr(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ir(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return xr(e).put({bundleId:(n=t).id,createTime:Tr(an(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Nr(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Or(t.bundledQuery),readTime:Ir(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Nr(e).put(function(e){return{name:e.name,readTime:Tr(an(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function xr(e){return pr(e,Xn.store)}function Nr(e){return pr(e,Jn.store)}var Ar=function(){function e(){this.Bt=new Rr}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),rr.resolve()},e.prototype.getCollectionParents=function(e,t){return rr.resolve(this.Bt.getEntries(t))},e}(),Rr=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new At(x.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new At(x.comparator)).toArray()},e}(),Dr=function(){function e(){this.qt=new Rr}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Rn(i)};return jr(e).put(o)}return rr.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[T(t),""],!1,!0);return jr(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Ln(o.parent))}return n}))},e}();function jr(e){return pr(e,$n.store)}var Lr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mr=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Fr(e,t,n){var r=e.store(qn.store),i=e.store(Vn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){y(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Vn.key(t,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return rr.waitFor(o).next((function(){return c}))}function Ur(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw g();t=e.noDocument}return JSON.stringify(t).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);var qr=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return y(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).$t({index:qn.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=zr(e),a=Br(e);return a.add({}).next((function(s){y("number"==typeof s);for(var u=new vr(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return yn(e.Lt,t)})),i=n.mutations.map((function(t){return yn(e.Lt,t)}));return new qn(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new At((function(e,t){return w(e.canonicalString(),t.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Vn.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Vn.PLACEHOLDER))}return h.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),rr.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Br(e).get(t).next((function(e){return e?(y(e.userId===n.userId),Sr(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?rr.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Br(e).$t({index:qn.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(y(t.batchId>=r),o=Sr(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Br(e).$t({index:qn.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).Nt(qn.userMutationsIndex,n).next((function(e){return e.map((function(e){return Sr(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Vn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return zr(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ln(u);if(s===n.userId&&t.path.isEqual(l))return Br(e).get(c).next((function(e){if(!e)throw g();y(e.userId===n.userId),o.push(Sr(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(w),i=[];return t.forEach((function(t){var o=Vn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=zr(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Ln(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),rr.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=Vn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new At(w);return zr(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Ln(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Br(e).get(t).next((function(e){if(null===e)throw g();y(e.userId===n.userId),r.push(Sr(n.R,e))})))})),rr.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Fr(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),rr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(Vn.prefixForUser(t.userId)),i=[];return zr(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Ln(e[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return Vr(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Kr(e).get(this.userId).next((function(e){return e||new Un(t.userId,-1,"")}))},e}();function Vr(e,t,n){var r=Vn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return zr(e).$t({range:o,kt:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Br(e){return pr(e,qn.store)}function zr(e){return pr(e,Vn.store)}function Kr(e){return pr(e,Un.store)}var Wr=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Hr=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Wr(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return S.fromTimestamp(new I(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Gr(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return y(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return Gr(e).$t((function(a,s){var u=Cr(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return rr.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return Gr(e).$t((function(e,n){var r=Cr(n);t(r)}))},e.prototype.Xt=function(e){return Qr(e).get(Qn.key).next((function(e){return y(null!==e),e}))},e.prototype.Zt=function(e,t){return Qr(e).put(Qn.key,t)},e.prototype.te=function(e,t){return Gr(e).put(kr(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=he(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gr(e).$t({range:r,index:Hn.queryTargetsIndexName},(function(e,n,r){var o=Cr(n);fe(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=$r(e);return t.forEach((function(t){var a=Rn(t.path);i.push(o.put(new Gn(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),rr.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=$r(e);return rr.forEach(t,(function(t){var o=Rn(t.path);return rr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=$r(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=$r(e),i=Vt();return r.$t({range:n,kt:!0},(function(e,t,n){var r=Ln(e[1]),o=new W(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Rn(t.path),r=IDBKeyRange.bound([n],[T(n)],!1,!0),i=0;return $r(e).$t({index:Gn.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return Gr(e).get(t).next((function(e){return e?Cr(e):null}))},e}();function Gr(e){return pr(e,Hn.store)}function Qr(e){return pr(e,Qn.store)}function $r(e){return pr(e,Gn.store)}function Yr(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){if(e.code!==u.FAILED_PRECONDITION||e.message!==er)throw e;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Xr(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=w(n,i);return 0===a?w(r,o):a}var Jr=function(){function e(e){this.ne=e,this.buffer=new At(Xr),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Xr(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Zr=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(t=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Yr(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),ei=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return rr.resolve(s.o);var r=new Jr(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(Lr)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Lr):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,a,s,u,c,l=this,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),h()<=o.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),ti=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new ei(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return ni(e,n)},e.prototype.removeReference=function(e,t,n){return ni(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return ni(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Kr(e).Ot((function(r){return Vr(e,r,t).next((function(e){return e&&(n=!0),rr.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),$r(e).delete([0,Rn(a.path)])}))}));i.push(u)}})).next((function(){return rr.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return ni(e,t)},e.prototype.we=function(e,t){var n,r=$r(e),i=s.o;return r.$t({index:Gn.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==s.o&&t(new W(Ln(n)),i),i=u,n=a):i=s.o})).next((function(){i!==s.o&&t(new W(Ln(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function ni(e,t){return $r(e).put(function(e,t){return new Gn(0,Rn(e.path),t)}(t,e.currentSequenceNumber))}var ri=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return O(this.inner)},e}(),ii=function(){function e(){this.changes=new ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:S.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:ue.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?rr.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),oi=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return ui(e).put(ci(t),n)},e.prototype.removeEntry=function(e,t){var n=ui(e),r=ci(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return ui(e).get(ci(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return ui(e).get(ci(t)).next((function(e){return{document:n.ye(t,e),size:Ur(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=jt();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=jt(),i=new Pt(W.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,Ur(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ui(e).$t({range:r},(function(e,t,r){for(var a=W.fromSegments(e);o&&W.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=jt(),o=t.path.length+1,a={};if(n.isEqual(S.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=wr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Kn.collectionReadTimeIndex}return ui(e).$t(a,(function(e,n,a){if(e.length===o){var s=br(r.R,n);t.path.isPrefixOf(s.key.path)?ze(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new ai(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return si(e).get(Wn.key).next((function(e){return y(!!e),e}))},e.prototype.me=function(e,t){return si(e).put(Wn.key,t)},e.prototype.ye=function(e,t){if(t){var n=br(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(S.min()))return n}return ue.newInvalidDocument(e)},e}(),ai=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ri((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new At((function(e,t){return w(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=_r(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=Ur(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=_r(t.Ie.R,ue.newNoDocument(o,S.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(ii);function si(e){return pr(e,Wn.store)}function ui(e){return pr(e,Kn.store)}function ci(e){return e.path.toArray()}var li=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;y(n<r&&n>=0&&r<=11);var o=new ir("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Fn.store)}(e),function(e){e.createObjectStore(Un.store,{keyPath:Un.keyPath}),e.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Vn.store)}(e),hi(e),function(e){e.createObjectStore(Kn.store)}(e));var a=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Gn.store),e.deleteObjectStore(Hn.store),e.deleteObjectStore(Qn.store)}(e),hi(e)),a=a.next((function(){return function(e){var t=e.store(Qn.store),n=new Qn(0,0,S.min().toTimestamp(),0);return t.put(Qn.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(qn.store).Nt().next((function(n){e.deleteObjectStore(qn.store),e.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0});var r=t.store(qn.store),i=n.map((function(e){return r.put(e)}));return rr.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Yn.store,{keyPath:Yn.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Wn.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Kn.store);t.createIndex(Kn.readTimeIndex,Kn.readTimeIndexPath,{unique:!1}),t.createIndex(Kn.collectionReadTimeIndex,Kn.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(e),function(e){e.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Kn.store).$t((function(e,n){t+=Ur(n)})).next((function(){var n=new Wn(t);return e.store(Wn.store).put(Wn.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(Un.store),r=e.store(qn.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(qn.userMutationsIndex,i).next((function(r){return rr.forEach(r,(function(r){y(r.userId===n.userId);var i=Sr(t.R,r);return Fr(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(Gn.store),n=e.store(Kn.store);return e.store(Qn.store).get(Qn.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new x(n),a=function(e){return[0,Rn(e)]}(o);r.push(t.get(a).next((function(n){return n?rr.resolve():function(n){return t.put(new Gn(0,Rn(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return rr.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore($n.store,{keyPath:$n.keyPath});var n=t.store($n.store),r=new Rr,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rn(i)})}};return t.store(Kn.store).$t({kt:!0},(function(e,t){var n=new x(e);return i(n.popLast())})).next((function(){return t.store(Vn.store).$t({kt:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Ln(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Hn.store);return n.$t((function(e,r){var i=Cr(r),o=kr(t.R,i);return n.put(o)}))},e}();function hi(e){e.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Qn.store)}var fi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",di=function(){function e(t,n,r,i,o,a,s,l,h,f){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=h,this.Ce=f,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ti(this,i),this.Le=n+"main",this.R=new mr(l),this.Be=new or(this.Le,11,new li(this.R)),this.qe=new Hr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(e,t){return new oi(e,t)}(this.R,this.Ut),this.Ke=new Pr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===f&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,fi);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new s(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return vi(t).put(new Yn(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(ur(t))return f("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return pi(e).get(Fn.key).next((function(e){return rr.resolve(t.tn(e))}))},e.prototype.en=function(e){return vi(e).delete(this.clientId)},e.prototype.nn=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,o=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=pr(e,Yn.store);return t.Nt().next((function(e){var n=o.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return rr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)i=n[t],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?rr.resolve(!0):pi(e).get(Fn.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,fi);return!1}}return!(!t.networkEnabled||!t.inForeground)||vi(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&f("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e=this;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,Yn.store],(function(t){var n=new dr(t,s.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return vi(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return qr.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,Zn,(function(o){return i=new dr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw d("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new c(u.FAILED_PRECONDITION,er);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return pi(e).get(Fn.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,fi)}))},e.prototype.Ze=function(e){var t=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return pi(e).put(Fn.key,t)},e.yt=function(){return or.yt()},e.prototype.Xe=function(e){var t=this,n=pi(e);return n.get(Fn.key).next((function(e){return t.tn(e)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Fn.key)):rr.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(d("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return f("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return d("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){d("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function pi(e){return pr(e,Fn.store)}function vi(e){return pr(e,Yn.store)}function gi(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var yi=function(e,t){this.progress=e,this.wn=t},mi=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return W.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Le(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new W(t)).next((function(e){var t=Mt();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Mt();return this.Ut.getCollectionParents(e,i).next((function(a){return rr.forEach(a,(function(a){var s=function(e,t){return new Pe(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ue.newInvalidDocument(c),r=r.insert(c,l)),dt(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){ze(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Vt(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof mt&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),bi=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Vt(),i=Vt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),_i=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(S.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(a){var s=i.Cn(t,a);return(Ae(t)||Re(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(h()<=o.LogLevel.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Be(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new At(Ke(e));return t.forEach((function(t,r){ze(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return h()<=o.LogLevel.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Be(t)),this.Sn.getDocumentsMatchingQuery(e,t,S.min())},e}(),wi=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Pt(w),this.kn=new ri((function(e){return he(e)}),fe),this.$n=S.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new mi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function Ei(e,t,n,r){return new wi(e,t,n,r)}function Ti(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var r;return n._n.getAllMutationBatches(e).next((function(a){return r=a,i=n.persistence.getMutationQueue(t),o=new mi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(t){for(var n=[],i=[],a=Vt(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return o.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function Ii(e,t){var n=m(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=rr.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);y(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Si(e){var t=m(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Ci(e,t){var n=m(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return y(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=jt();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(ki(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(S.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return rr.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.Fn=i,e}))}function ki(e,t,n,r,i){var o=Vt();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=jt();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(S.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Oi(e,t){var n=m(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Pi(e,t){var n=m(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,rr.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new yr(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function xi(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=m(e),o=i.Fn.get(t),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(s=r.sent()))throw s;return f("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return i.Fn=i.Fn.remove(t),i.kn.delete(o.target),[2]}}))}))}function Ni(e,t,n){var r=m(e),i=S.min(),o=Vt();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=m(e),i=r.kn.get(n);return void 0!==i?rr.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,Fe(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:S.min(),n?o:Vt())})).next((function(e){return{documents:e,Bn:o}}))}))}function Ai(e,t){var n=m(e),r=m(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ri(e){var t=m(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=m(e),i=jt(),o=wr(n),a=ui(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:Kn.readTimeIndex,range:s},(function(e,t){var n=br(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Er(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Di(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return[2,(t=m(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ui(e),n=S.min();return t.$t({index:Kn.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Er(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function ji(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f,d,p;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:for(o=m(e),a=Vt(),s=jt(),u=Ut(),c=0,l=n;c<l.length;c++)h=l[c],f=t.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,t.Un(h)),u=u.insert(f,t.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Pi(o,function(e){return Fe(Ne(x.fromString("__bundle__/docs/"+e)))}(i))];case 1:return p=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ki(e,d,s,S.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Li(e,t,n){return void 0===n&&(n=Vt()),Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Pi(e,Fe(Or(t.bundledQuery)))];case 1:return i=r.sent(),[2,(o=m(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var r=an(t.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(e,t);var a=i.withResumeToken(D.EMPTY_BYTE_STRING,r);return o.Fn=o.Fn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next((function(){return o.qe.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return o.qe.addMatchingKeys(e,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Mi=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return rr.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:an(n.createTime)}),rr.resolve()},e.prototype.getNamedQuery=function(e,t){return rr.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Or(e.bundledQuery),readTime:an(e.readTime)}}(t)),rr.resolve()},e}(),Fi=function(){function e(){this.Wn=new At(Ui.Gn),this.zn=new At(Ui.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new Ui(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new Ui(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new W(new x([])),r=new Ui(n,e),i=new Ui(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new W(new x([])),n=new Ui(t,e),r=new Ui(t,e+1),i=Vt();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new Ui(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Ui=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return W.comparator(e.key,t.key)||w(e.ns,t.ns)},e.Hn=function(e,t){return w(e.ns,t.ns)||W.comparator(e.key,t.key)},e}(),qi=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new At(Ui.Gn)}return e.prototype.checkEmpty=function(e){return rr.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new vr(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ui(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return rr.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return rr.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return rr.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return rr.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),rr.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new At(w);return t.forEach((function(e){var t=new Ui(e,0),i=new Ui(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),rr.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;W.isDocumentKey(i)||(i=i.child(""));var o=new Ui(new W(i),0),a=new At(w);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),rr.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;y(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(t.mutations,(function(i){var o=new Ui(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new Ui(t,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,rr.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),Vi=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Pt(W.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return rr.resolve(n?n.document.clone():ue.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=jt();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():ue.newInvalidDocument(e))})),rr.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=jt(),i=new W(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||ze(t,c)&&(r=r.insert(c.key,c.clone()))}return rr.resolve(r)},e.prototype.fs=function(e,t){return rr.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Bi(this)},e.prototype.getSize=function(e){return rr.resolve(this.size)},e}(),Bi=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return Object(r.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),rr.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(ii),zi=function(){function e(e){this.persistence=e,this.ds=new ri((function(e){return he(e)}),fe),this.lastRemoteSnapshotVersion=S.min(),this.highestTargetId=0,this.ws=0,this._s=new Fi,this.targetCount=0,this.ys=Wr.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),rr.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return rr.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return rr.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),rr.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Wr(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,rr.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),rr.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,rr.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),rr.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return rr.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return rr.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),rr.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),rr.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),rr.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return rr.resolve(n)},e.prototype.containsKey=function(e,t){return rr.resolve(this._s.containsKey(t))},e}(),Ki=function(){function e(e,t){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new zi(this),this.Ut=new Ar,this.Ue=function(e,t){return new Vi(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new mr(t),this.Ke=new Mi(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new qi(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var i=new Wi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Wi=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return Object(r.__extends)(t,e),t}(tr),Hi=function(){function e(e){this.persistence=e,this.As=new Fi,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),rr.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),rr.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),rr.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var i=W.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),Gi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Qi(e,t){return"firestore_clients_"+e+"_"+t}function $i(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Yi(e,t){return"firestore_targets_"+e+"_"+t}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid");var Xi=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ji=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new e(t,i.state,r):(d("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Zi=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=zt(),a=0;i&&a<r.activeTargetIds.length;++a)i=K(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(d("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),eo=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+t),null)},e}(),to=function(){function e(){this.activeTargetIds=zt()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),no=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Pt(w),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Qi(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new to),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,o,a,s,u,c,l,h,f=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=r.sent(),t=0,n=e;t<n.length;t++)(i=n[t])!==this.Ns&&(o=this.getItem(Qi(this.persistenceKey,i)))&&(a=Zi.Vs(i,o))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.Fs(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Yi(this.persistenceKey,e));if(n){var r=Ji.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Yi(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){f("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var e,t,i,o,a,u;return Object(r.__generator)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(u=function(e){var t=s.o;if(null!=e)try{var n=JSON.parse(e);y("number"==typeof n),t=n}catch(e){d("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Xi(this.currentUser,e,t,n),i=$i(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=$i(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Yi(this.persistenceKey,e),i=new Ji(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return Zi.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xi.Vs(new Gi(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return Ji.Vs(r,t)},e.prototype.js=function(e){return eo.Vs(e)},e.prototype.ii=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=zt();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),ro=function(){function e(){this.li=new to,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new to,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),io=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),oo=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),ao={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},so=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),uo=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return Object(r.__extends)(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var s=new a.g;s.listenOnce(a.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.a.NO_ERROR:var t=s.getResponseJson();f("Connection","XHR received:",JSON.stringify(t)),i(t);break;case a.a.TIMEOUT:f("Connection",'RPC "'+e+'" timed out'),o(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.a.HTTP_ERROR:var n=s.getStatus();if(f("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(t)>=0?t:u.UNKNOWN}(r.status);o(new c(l,r.message))}else o(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new c(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{f("Connection",'RPC "'+e+'" completed.')}}));var l=JSON.stringify(r);s.send(t,"POST",l,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(a.h)(),o=Object(a.i)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.d({})),this.Fi(s.initMessageHeaders,t),Object(i.isMobileCordova)()||Object(i.isReactNative)()||Object(i.isElectron)()||Object(i.isIE)()||Object(i.isUWP)()||Object(i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");f("Connection","Creating WebChannel: "+l,s);var h=r.createWebChannel(l,s),d=!1,v=!1,g=new so({Ei:function(e){v?f("Connection","Not sending because WebChannel is closed:",e):(d||(f("Connection","Opening WebChannel transport."),h.open(),d=!0),f("Connection","WebChannel sending:",e),h.send(e))},Ti:function(){return h.close()}}),m=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return m(h,a.f.EventType.OPEN,(function(){v||f("Connection","WebChannel transport opened.")})),m(h,a.f.EventType.CLOSE,(function(){v||(v=!0,f("Connection","WebChannel transport closed"),g.Vi())})),m(h,a.f.EventType.ERROR,(function(e){v||(v=!0,p("Connection","WebChannel transport errored:",e),g.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))})),m(h,a.f.EventType.MESSAGE,(function(e){var t;if(!v){var n=e.data[0];y(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){f("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Et[e];if(void 0!==t)return Ot(t)}(o),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),v=!0,g.Vi(new c(a,s)),h.close()}else f("Connection","WebChannel received:",n),g.Si(n)}})),m(o,a.b.STAT_EVENT,(function(e){e.stat===a.e.PROXY?f("Connection","Detected buffering proxy"):e.stat===a.e.NOPROXY&&f("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);f("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return f("RestConnection","Received: ",e),e}),(function(t){throw p("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=ao[e];return this.Di+"/v1/"+t+":"+n},e}());function co(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}function ho(e){return new tn(e,!0)}var fo=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),po=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new fo(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(d(t.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return f("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),vo=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return Object(r.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:g()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(y(void 0===t||"string"==typeof t),D.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),D.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?u.UNKNOWN:Ot(e.code);return new c(t,e.message||"")}(s);n=new Qt(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=ln(e,r.document.name),o=an(r.document.updateTime);var s=new ae({mapValue:{fields:r.document.fields}}),l=(a=ue.newFoundDocument(i,o,s),r.targetIds||[]),h=r.removedTargetIds||[];n=new Ht(l,h,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=ln(e,r.document),o=r.readTime?an(r.readTime):S.min(),s=ue.newNoDocument(i,o),a=r.removedTargetIds||[],n=new Ht([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=ln(e,r.document),o=r.removedTargetIds||[],n=new Ht([],o,i,null);else{if(!("filter"in t))return g();t.filter;var f=t.filter;f.targetId,r=f.count||0,i=new Ct(r),o=f.targetId,n=new Gt(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return S.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?S.min():t.readTime?an(t.readTime):S.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=dn(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=de(r)?{documents:bn(e,r)}:{query:_n(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rn(e,t.resumeToken):t.snapshotVersion.compareTo(S.min())>0&&(n.readTime=nn(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=dn(this.R),t.removeTarget=e,this.cr(t)},t}(po),go=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?an(e.updateTime):an(t);return n.isEqual(S.min())&&(n=an(t)),new ut(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=an(e.commitTime);return this.listener.Tr(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=dn(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yn(t.R,e)}))};this.cr(n)},t}(po),yo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(r.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new c(u.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),mo=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(d(t),this.Vr=!1):f("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),bo=function(e,t,n,i,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(e){n.enqueueAndForget((function(){return Object(r.__awaiter)(a,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return Oo(this)?(f("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(4),[4,wo(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,_o(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new mo(n,i)};function _o(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(!Oo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function wo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Eo(e,t){var n=m(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ko(n)?Co(n):zo(n).er()&&Io(n,t))}function To(e,t){var n=m(e),r=zo(n);n.$r.delete(t),r.er()&&So(n,t),0===n.$r.size&&(r.er()?r.ir():Oo(n)&&n.Br.set("Unknown"))}function Io(e,t){e.qr.U(t.targetId),zo(e).mr(t)}function So(e,t){e.qr.U(t),zo(e).yr(t)}function Co(e){e.qr=new Yt({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),zo(e).start(),e.Br.Sr()}function ko(e){return Oo(e)&&!zo(e).tr()&&e.$r.size>0}function Oo(e){return 0===m(e).Or.size}function Po(e){e.qr=void 0}function xo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Io(e,t)})),[2]}))}))}function No(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){return Po(e),ko(e)?(e.Br.Nr(t),Co(e)):e.Br.set("Unknown"),[2]}))}))}function Ao(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return Object(r.__generator)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof Qt&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=t.cause,i=0,o=t.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),e.$r.delete(a),e.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Ro(e,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Ht?e.qr.X(t):t instanceof Gt?e.qr.rt(t):e.qr.et(t),n.isEqual(S.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Si(e.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(D.EMPTY_BYTE_STRING,n.snapshotVersion)),So(e,t);var r=new yr(n.target,t,1,n.sequenceNumber);Io(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Ro(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Ro(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i=this;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:if(!ur(t))throw t;return e.Or.add(1),[4,wo(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Si(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,_o(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Do(e,t){return t().catch((function(n){return Ro(e,n,t)}))}function jo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:t=m(e),n=Ko(t),i=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,r.label=1;case 1:if(!function(e){return Oo(e)&&e.kr.length<10}(t))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Oi(t.localStore,i)];case 3:return null===(o=r.sent())?(0===t.kr.length&&n.ir(),[3,7]):(i=o.batchId,function(e,t){e.kr.push(t);var n=Ko(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=r.sent(),[4,Ro(t,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Lo(t)&&Mo(t),[2]}}))}))}function Lo(e){return Oo(e)&&!Ko(e).tr()&&e.kr.length>0}function Mo(e){Ko(e).start()}function Fo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){return Ko(e).Ar(),[2]}))}))}function Uo(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n,i,o;return Object(r.__generator)(this,(function(r){for(t=Ko(e),n=0,i=e.kr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]}))}))}function qo(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=e.kr.shift(),o=gr.from(i,t,n),[4,Do(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,jo(e)];case 2:return r.sent(),[2]}}))}))}function Vo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t&&Ko(e).pr?[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return kt(i=t.code)&&i!==u.ABORTED?(n=e.kr.shift(),Ko(e).sr(),[4,Do(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,jo(e)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Lo(e)&&Mo(e),[2]}}))}))}function Bo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),t?(n.Or.delete(2),[4,_o(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,wo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function zo(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=m(e);return r.br(),new vo(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:xo.bind(null,e),Ri:No.bind(null,e),_r:Ao.bind(null,e)}),e.Mr.push((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),ko(e)?Co(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Po(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Ko(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=m(e);return r.br(),new go(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Fo.bind(null,e),Ri:Vo.bind(null,e),Ir:Uo.bind(null,e),Tr:qo.bind(null,e)}),e.Mr.push((function(n){return Object(r.__awaiter)(t,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,jo(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.kr.length>0&&(f("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var Wo=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ho(e,t){if(d("AsyncQueue",t+": "+e),ur(e))return new c(u.UNAVAILABLE,t+": "+e);throw e}var Go=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||W.comparator(t.key,n.key)}:function(e,t){return W.comparator(e.key,t.key)},this.keyedMap=Mt(),this.sortedSet=new Pt(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Qo=function(){function e(){this.Qr=new Pt(W.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):g():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),$o=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Go.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qe(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Yo=function(){this.Wr=void 0,this.listeners=[]},Xo=function(){this.queries=new ri((function(e){return Ve(e)}),qe),this.onlineState="Unknown",this.Gr=new Set};function Jo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:if(n=m(e),i=t.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new Yo),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=Ho(u,"Initialization of query '"+Be(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&na(n),[2]}}))}))}function Zo(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s;return Object(r.__generator)(this,(function(r){return n=m(e),i=t.query,o=!1,(a=n.queries.get(i))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function ea(e,t){for(var n=m(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&na(n)}function ta(e,t,n){var r=m(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function na(e){e.Gr.forEach((function(e){e.next()}))}var ra=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new $o(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ia=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),oa=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ln(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?gn(this.R,e.document,!1):ue.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return an(e)},e}(),aa=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=sa(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new oa(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||Vt()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,ji(this.localStore,new oa(this.R),this.documents,this.ro.id)];case 1:e=r.sent(),t=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Li(this.localStore,o,t.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new yi(Object.assign({},this.progress),e))]}}))}))},e}();function sa(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ua=function(e){this.key=e},ca=function(e){this.key=e},la=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Vt(),this.mutatedKeys=Vt(),this.lo=Ke(e),this.fo=new Go(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Qo,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Ae(this.query)&&i.size===this.query.limit?i.last():null,c=Re(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=ze(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Ae(this.query)||Re(this.query))for(;a.size>this.query.limit;){var l=Ae(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new $o(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Qo,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Vt(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new ca(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ua(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Vt();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return $o.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),ha=function(e,t,n){this.query=e,this.targetId=t,this.view=n},fa=function(e){this.key=e,this.bo=!1},da=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ri((function(e){return Ve(e)}),qe),this.Vo=new Map,this.So=new Set,this.Do=new Pt(W.comparator),this.Co=new Map,this.No=new Fi,this.xo={},this.Fo=new Map,this.ko=Wr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function pa(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=za(e),(a=n.Po.get(t))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Pi(n.localStore,Fe(t))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,va(n,t,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&Eo(n.remoteStore,s),r.label=4;case 4:return[2,o]}}))}))}function va(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return Object(r.__generator)(this,(function(h){switch(h.label){case 0:return e.Oo=function(t,n,i){return function(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(o=t.view._o(n)).Nn?[4,Ni(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(Oa(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,i)},[4,Ni(e.localStore,t,!0)];case 1:return o=h.sent(),a=new la(t,o.Bn),s=a._o(o.documents),u=Wt.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),Oa(e,n,c.To),l=new ha(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function ga(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(e){return!qe(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,xi(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),To(n.remoteStore,i.targetId),Ca(n,i.targetId)})).catch(Yr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ca(n,i.targetId),[4,xi(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ya(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=Ka(e),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(e,t){var n,r=m(e),i=I.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Vt());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=pt(c,n.get(c.key));null!=l&&a.push(new mt(c.key,l,se(l.value.mapValue),ct.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,t)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Pt(w)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(i,o.batchId,n),[4,Na(i,o.changes)];case 3:return r.sent(),[4,jo(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Ho(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ma(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ci(n.localStore,t)];case 2:return i=r.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?y(r.bo):e.removedDocuments.size>0&&(y(r.bo),r.bo=!1))})),[4,Na(n,i,t)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function ba(e,t,n){var r=m(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=m(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&na(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function _a(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(i=m(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(a=o&&o.key)?(s=(s=new Pt(W.comparator)).insert(a,ue.newNoDocument(a,S.min())),u=Vt().add(a),c=new Kt(S.min(),new Map,new At(w),s,u),[4,ma(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(t),xa(i),[3,4];case 2:return[4,xi(i.localStore,t,!1).then((function(){return Ca(i,t,n)})).catch(Yr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function wa(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),i=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ii(n.localStore,t)];case 2:return o=r.sent(),Sa(n,i,null),Ia(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Na(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ea(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:i=m(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return y(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(i.localStore,t)];case 2:return o=r.sent(),Sa(i,t,n),Ia(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Na(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Yr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ta(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:Oo((n=m(e)).remoteStore)||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(e){var t=m(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void t.resolve()]:((o=n.Fo.get(i)||[]).push(t),n.Fo.set(i,o),[3,4]);case 3:return a=r.sent(),s=Ho(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ia(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Sa(e,t,n){var r=m(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Ca(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||ka(e,t)}))}function ka(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(To(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),xa(e))}function Oa(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ua?(e.No.addReference(o.key,t),Pa(e,o)):o instanceof ca?(f("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ka(e,o.key)):g()}}function Pa(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(f("SyncEngine","New document in limbo: "+n),e.So.add(r),xa(e))}function xa(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new W(x.fromString(t)),r=e.ko.next();e.Co.set(r,new fa(n)),e.Do=e.Do.insert(n,r),Eo(e.remoteStore,new yr(Fe(Ne(n.path)),r,2,s.o))}}function Na(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return Object(r.__generator)(this,(function(u){switch(u.label){case 0:return i=m(e),o=[],a=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(e,r){s.push(i.Oo(r,t,n).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=bi.Pn(r.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(o),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return rr.forEach(t,(function(t){return rr.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return rr.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ur(i=r.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.Fn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.Fn=n.Fn.insert(u,h));return[2]}}))}))}(i.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Aa(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(n=m(e)).currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.toKey()),[4,Ti(n.localStore,t)]);case 1:return i=r.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Na(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Ra(e,t){var n=m(e),r=n.Co.get(t);if(r&&r.bo)return Vt().add(r.key);var i=Vt(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Da(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Ni((n=m(e)).localStore,t.query,!0)];case 1:return i=r.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Oa(n,t.targetId,o.To),o)]}}))}))}function ja(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){return[2,Ri((t=m(e)).localStore).then((function(e){return Na(t,e)}))]}))}))}function La(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(e,t){var n=m(e),r=m(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):rr.resolve(null)}))}))}((o=m(e)).localStore,t)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,jo(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Sa(o,t,i||null),Ia(o,t),function(e,t){m(m(e)._n).Gt(t)}(o.localStore,t)):g(),r.label=4;case 4:return[4,Na(o,a)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+t),r.label=7;case 7:return[2]}}))}))}function Ma(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return za(n=m(e)),Ka(n),!0!==t||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Fa(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Bo(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],Eo(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Ca(n,t),xi(n.localStore,t,!0)})),To(n.remoteStore,t)})),[4,l]);case 4:return r.sent(),[4,Fa(n,c)];case 5:return r.sent(),function(e){var t=m(e);t.Co.forEach((function(e,n){To(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Pt(W.comparator)}(n),n.$o=!1,[4,Bo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Fa(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,h,f,d,p,v,g;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:n=m(e),i=[],o=[],a=0,s=t,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Pi(n.localStore,Fe(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Da(n,p)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.localStore,u)];case 8:return g=r.sent(),[4,Pi(n.localStore,g)];case 9:return c=r.sent(),[4,va(n,Ua(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Ua(e){return xe(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qa(e){var t=m(e);return m(m(t.localStore).persistence).fn()}function Va(e,t,n,i){return Object(r.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(o=m(e)).$o?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ri(o.localStore)];case 3:return a=r.sent(),s=Kt.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Na(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,xi(o.localStore,t,!0)];case 6:return r.sent(),Ca(o,t,i),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))}function Ba(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,d,p;return Object(r.__generator)(this,(function(v){switch(v.label){case 0:if(!(i=za(e)).$o)return[3,10];o=0,a=t,v.label=1;case 1:return o<a.length?(s=a[o],i.Vo.has(s)?(f("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ai(i.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,Pi(i.localStore,u)];case 3:return c=v.sent(),[4,va(i,Ua(u),c.targetId,!1)];case 4:v.sent(),Eo(i.remoteStore,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(e){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return i.Vo.has(e)?[4,xi(i.localStore,e,!1).then((function(){To(i.remoteStore,e),Ca(i,e)})).catch(Yr)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},h=0,d=n,v.label=7;case 7:return h<d.length?(p=d[h],[5,l(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function za(e){var t=m(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ma.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ra.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_a.bind(null,t),t.vo._r=ea.bind(null,t.eventManager),t.vo.Mo=ta.bind(null,t.eventManager),t}function Ka(e){var t=m(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wa.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ea.bind(null,t),t}function Wa(e,t,n){var i=m(e);(function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return i=r.sent(),[4,function(e,t){var n=m(e),r=an(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,i)];case 2:return r.sent()?[4,t.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)))];case 4:return n._updateProgress(sa(i)),o=new aa(i,e.localStore,t.R),[4,t.Lo()];case 5:a=r.sent(),r.label=6;case 6:return a?[4,o.oo(a)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:a=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Na(e,u.wn,void 0)];case 12:return r.sent(),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return p("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(i,t,n).then((function(){i.sharedClientState.notifyBundleLoaded()}))}var Ha=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return this.R=ho(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Ei(this.persistence,new _i,e.initialUser,this.R)},e.prototype.qo=function(e){return new Ki(Hi.bs,this.R)},e.prototype.Bo=function(e){return new ro},e.prototype.terminate=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Ga=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Di(this.localStore)];case 2:return n.sent(),[4,this.Qo.initialize(this,t)];case 3:return n.sent(),[4,Ka(this.Qo.syncEngine)];case 4:return n.sent(),[4,jo(this.Qo.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Ei(this.persistence,new _i,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Zr(t,e.asyncQueue)},t.prototype.qo=function(e){var t=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new di(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,co(),lo(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ro},t}(Ha),Qa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(r.__extends)(t,e),t.prototype.initialize=function(t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof no?(this.sharedClientState.syncEngine={ui:La.bind(null,n),ai:Va.bind(null,n),hi:Ba.bind(null,n),fn:qa.bind(null,n),ci:ja.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(e){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ma(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=co();if(!no.yt(t))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gi(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new no(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Ga),$a=function(){function e(){}return e.prototype.initialize=function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return ba(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Aa.bind(null,this.syncEngine),[4,Bo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Xo},e.prototype.createDatastore=function(e){var t,n=ho(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new uo(t));return function(e,t,n){return new yo(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return ba(a.syncEngine,e,0)},o=oo.yt()?new oo:new io,new bo(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new da(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=m(e),f("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,wo(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function Ya(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){return n<e.byteLength?(i={value:e.slice(n,n+t),done:!1},[2,(n+=t,i)]):[2,{done:!0}]}))}))},cancel:function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Xa=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Ja=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t,n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new ia(JSON.parse(i),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),Za=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=dn(n.R)+"/documents",o={documents:t.map((function(e){return cn(n.R,e)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){y(!!t.found),t.found.name,t.found.updateTime;var n=ln(e,t.found.name),r=an(t.found.updateTime),i=new ae({mapValue:{fields:t.found.fields}});return ue.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){y(!!t.missing),y(!!t.readTime);var n=ln(e,t.missing),r=an(t.readTime);return ue.newNoDocument(n,r)}(e,t):g()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());y(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=i.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new It(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=W.fromPath(n);t.mutations.push(new St(r,t.precondition(r)))})),[4,function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=m(e),i=dn(n.R)+"/documents",o={writes:t.map((function(e){return yn(n.R,e)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw g();t=S.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ct.updateTime(t):ct.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(S.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ct.updateTime(t)}return ct.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),es=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new fo(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return Object(r.__generator)(this,(function(r){return e=new Za(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!B(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!kt(t)}return!1},e}(),ts=function(){function e(e,t,n){var i=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=Gi.UNAUTHENTICATED,this.clientId=_.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Object(r.__awaiter)(i,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return f("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Ho(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ns(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i,o=this;return Object(r.__generator)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),i=n.initialUser,e.setCredentialChangeListener((function(e){return Object(r.__awaiter)(o,void 0,void 0,(function(){return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return i.isEqual(e)?[3,2]:[4,Ti(t.localStore,e)];case 1:n.sent(),i=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function rs(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,is(e)];case 1:return n=o.sent(),f("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Object(r.__awaiter)(this,void 0,void 0,(function(){var n,i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return(n=m(e)).asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials"),i=Oo(n),n.Or.add(3),[4,wo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return r.sent(),n.Or.delete(3),[4,_o(n)];case 3:return r.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function is(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(f("FirestoreClient","Using default OfflineComponentProvider"),[4,ns(e,new Ha)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function os(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(f("FirestoreClient","Using default OnlineComponentProvider"),[4,rs(e,new $a)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function as(e){return is(e).then((function(e){return e.persistence}))}function ss(e){return is(e).then((function(e){return e.localStore}))}function us(e){return os(e).then((function(e){return e.remoteStore}))}function cs(e){return os(e).then((function(e){return e.syncEngine}))}function ls(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,os(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=pa.bind(null,t.syncEngine),n.onUnlisten=ga.bind(null,t.syncEngine),n)]}}))}))}function hs(e,t,n){var i=this;void 0===n&&(n={});var o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Xa({next:function(o){t.enqueueAndForget((function(){return Zo(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new ra(Ne(n.path),o,{includeMetadataChanges:!0,so:!0});return Jo(e,a)},[4,ls(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}function fs(e,t,n){var i=this;void 0===n&&(n={});var o=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(e,t,n,r,i){var o=new Xa({next:function(n){t.enqueueAndForget((function(){return Zo(e,a)})),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new ra(n,o,{includeMetadataChanges:!0,so:!0});return Jo(e,a)},[4,ls(e)];case 1:return[2,i.apply(void 0,[r.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}var ds=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},ps=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),vs=new Map,gs=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ys=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(Gi.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ms=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),bs=function(){function e(e){var t=this;this.currentUser=Gi.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){f("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(f("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(y("string"==typeof n.accessToken),new gs(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new Gi(e)},e}(),_s=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),ws=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new _s(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(Gi.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Es(e,t,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ts(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Is(e,t,n,r){if(!0===t&&!0===r)throw new c(u.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Ss(e){if(!W.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Cs(e){if(W.isDocumentKey(e))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function ks(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":g()}function Os(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ks(e);throw new c(u.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Ps(e,t){if(t<=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var xs=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Is("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Ns=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xs({}),this._settingsFrozen=!1,e instanceof ps?(this._databaseId=e,this._credentials=new ys):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(e.options.projectId)}(e),this._credentials=new bs(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xs(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new ys;switch(e.type){case"gapi":var t=e.client;return y(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ws(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=vs.get(this))&&(f("ComponentProvider","Removing Datastore"),vs.delete(this),e.terminate()),Promise.resolve();var e},e}(),As=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ds(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Rs=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Ds=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ne(r))||this)._path=r,i.type="collection",i}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new As(this.firestore,null,new W(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Rs);function js(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.getModularInstance)(e),Es("collection","path",t),e instanceof Ns)return Cs(n=x.fromString.apply(x,Object(r.__spreadArray)([t],o))),new Ds(e,null,n);if(!(e instanceof As||e instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cs(n=x.fromString.apply(x,Object(r.__spreadArray)([e.path],o)).child(x.fromString(t))),new Ds(e.firestore,null,n)}function Ls(e,t){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(e=Object(i.getModularInstance)(e),1===arguments.length&&(t=_.u()),Es("doc","path",t),e instanceof Ns)return Ss(n=x.fromString.apply(x,Object(r.__spreadArray)([t],o))),new As(e,null,new W(n));if(!(e instanceof As||e instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ss(n=e._path.child(x.fromString.apply(x,Object(r.__spreadArray)([t],o)))),new As(e.firestore,e instanceof Ds?e.converter:null,new W(n))}function Ms(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),(e instanceof As||e instanceof Ds)&&(t instanceof As||t instanceof Ds)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Fs(e,t){return e=Object(i.getModularInstance)(e),t=Object(i.getModularInstance)(t),e instanceof Rs&&t instanceof Rs&&e.firestore===t.firestore&&qe(e._query,t._query)&&e.converter===t.converter}var Us=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new fo(this,"async_queue_retry"),this.Tc=function(){var t=lo();t&&f("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=lo();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},e.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var e=lo();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc)}},e.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},e.prototype.Rc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(e=n.sent()))throw e;return f("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,d("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ic(),this.Ec.indexOf(e)>-1&&(t=0);var i=Wo.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)}));return this.mc.push(i),i},e.prototype.Ic=function(){this.yc&&g()},e.prototype.verifyOperationInProgress=function(){},e.prototype.vc=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var e;return Object(r.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()}))},e.prototype.Sc=function(e){this.Ec.push(e)},e.prototype.bc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function qs(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var Vs=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),Bs=-1,zs=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Us,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return Object(r.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||Ws(this),this._firestoreClient.terminate()},t}(Ns);function Ks(e){return e._firestoreClient||Ws(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ws(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ds(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new ts(e._credentials,e._queue,r)}function Hs(e,t,n){var i=this,o=new nr;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(i,void 0,void 0,(function(){var i;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,ns(e,n)];case 1:return r.sent(),[4,rs(e,t)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===u.FAILED_PRECONDITION||e.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Gs(e){if(e._initialized||e._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Qs=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new A(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),$s=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(D.fromBase64String(t))}catch(t){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(D.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Ys=function(e){this._methodName=e},Xs=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return w(this._lat,e._lat)||w(this._long,e._long)},e}(),Js=/^__.*__$/,Zs=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new mt(e,this.data,this.fieldMask,t,this.fieldTransforms):new yt(e,this.data,t,this.fieldTransforms)},e}(),eu=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new mt(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function tu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var nu=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),e.prototype.Nc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.xc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.kc(e),r},e.prototype.$c=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},e.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},e.prototype.Mc=function(e){return Eu(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},e.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(tu(this.Cc)&&Js.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},e}(),ru=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||ho(e)}return e.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new nu({Cc:e,methodName:t,Bc:n,path:A.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function iu(e){var t=e._freezeSettings(),n=ho(e._databaseId);return new ru(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ou(e,t,n,r,i,o){void 0===o&&(o={});var a=e.qc(o.merge||o.mergeFields?2:0,t,n,i);mu("Data must be an object, but it was:",a,r);var s,l,h=gu(r,a);if(o.merge)s=new R(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var f=[],d=0,p=o.mergeFields;d<p.length;d++){var v=bu(t,p[d],n);if(!a.contains(v))throw new c(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Tu(f,v)||f.push(v)}s=new R(f),l=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,l=a.fieldTransforms;return new Zs(new ae(h),s,l)}var au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Ys);function su(e,t,n){return new nu({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new st(e.path,new Ze)},t.prototype.isEqual=function(e){return e instanceof t},t}(Ys),cu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Uc.map((function(e){return vu(e,t)})),r=new et(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ys),lu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=su(this,e,!0),n=this.Uc.map((function(e){return vu(e,t)})),r=new nt(n);return new st(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Ys),hu=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return Object(r.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new it(e.R,Qe(e.R,this.Kc));return new st(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Ys);function fu(e,t,n,r){var o=e.qc(1,t,n);mu("Data must be an object, but it was:",o,r);var a=[],s=ae.empty();k(r,(function(e,r){var u=wu(t,e,n);r=Object(i.getModularInstance)(r);var c=o.$c(u);if(r instanceof au)a.push(u);else{var l=vu(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new R(a);return new eu(s,u,o.fieldTransforms)}function du(e,t,n,r,o,a){var s=e.qc(1,t,n),l=[bu(t,r,n)],h=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var f=0;f<a.length;f+=2)l.push(bu(t,a[f])),h.push(a[f+1]);for(var d=[],p=ae.empty(),v=l.length-1;v>=0;--v)if(!Tu(d,l[v])){var g=l[v],y=h[v];y=Object(i.getModularInstance)(y);var m=s.$c(g);if(y instanceof au)d.push(g);else{var b=vu(y,m);null!=b&&(d.push(g),p.set(g,b))}}var _=new R(d);return new eu(p,_,s.fieldTransforms)}function pu(e,t,n,r){return void 0===r&&(r=!1),vu(n,e.qc(r?4:3,t))}function vu(e,t){if(yu(e=Object(i.getModularInstance)(e)))return mu("Unsupported field value:",t,e),gu(e,t);if(e instanceof Ys)return function(e,t){if(!tu(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=vu(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Object(i.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qe(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=I.fromDate(e);return{timestampValue:nn(t.R,n)}}if(e instanceof I)return n=new I(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:nn(t.R,n)};if(e instanceof Xs)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $s)return{bytesValue:rn(t.R,e._byteString)};if(e instanceof As){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Mc("Unsupported field value: "+ks(e))}(e,t)}function gu(e,t){var n={};return O(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,(function(e,r){var i=vu(r,t.xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yu(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof I||e instanceof Xs||e instanceof $s||e instanceof As||e instanceof Ys)}function mu(e,t,n){if(!yu(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ks(n);throw"an object"===r?t.Mc(e+" a custom object"):t.Mc(e+" "+r)}}function bu(e,t,n){if((t=Object(i.getModularInstance)(t))instanceof Qs)return t._internalPath;if("string"==typeof t)return wu(e,t);throw Eu("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var _u=new RegExp("[~\\*/\\[\\]]");function wu(e,t,n){if(t.search(_u)>=0)throw Eu("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Qs.bind.apply(Qs,Object(r.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(i){throw Eu("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Eu(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+e+l)}function Tu(e,t){return e.some((function(e){return e.isEqual(t)}))}var Iu=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new As(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Su(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Iu);function Cu(e,t){return"string"==typeof t?wu(e,t):t instanceof Qs?t._internalPath:t._delegate._internalPath}var ku=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ou=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return Object(r.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Cu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Iu),Pu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Ou),xu=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ku(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Pu(n._firestore,n._userDataWriter,r.key,r,new ku(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Pu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Pu(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ku(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Nu(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Nu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Au(e,t){return e instanceof Ou&&t instanceof Ou?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof xu&&t instanceof xu&&e._firestore===t._firestore&&Fs(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Ru(e){if(Re(e)&&0===e.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function ju(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Lu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.jc=n,i.Wc=r,i.type="where",i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=iu(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){zu(a,o);for(var l=[],h=0,f=a;h<f.length;h++){var d=f[h];l.push(Bu(r,e,d))}s={arrayValue:{values:l}}}else s=Bu(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||zu(a,o),s=pu(n,"where",a,"in"===o||"not-in"===o);var p=pe.create(i,o,s);return function(e,t){if(t.g()){var n=je(e);if(null!==n&&!n.isEqual(t.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=De(e);null!==r&&Ku(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,p),p}(e._query,0,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc);return new Rs(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Du),Mu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Gc=n,r.type="orderBy",r}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Se(t,n);return function(e,t){if(null===De(e)){var n=je(e);null!==n&&Ku(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Gc);return new Rs(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Pe(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Du),Fu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.zc=n,i.Hc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){return new Rs(e.firestore,e.converter,Ue(e._query,this.zc,this.Hc))},t}(Du),Uu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=Vu(e,this.type,this.Jc,this.Yc);return new Rs(e.firestore,e.converter,function(e,t){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Du),qu=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Jc=n,i.Yc=r,i}return Object(r.__extends)(t,e),t.prototype._apply=function(e){var t=Vu(e,this.type,this.Jc,this.Yc);return new Rs(e.firestore,e.converter,function(e,t){return new Pe(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Du);function Vu(e,t,n,r){if(n[0]=Object(i.getModularInstance)(n[0]),n[0]instanceof Iu)return function(e,t,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Me(e);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push(Z(t,r.key));else{var h=r.data.field(l.field);if(U(h))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===h){var f=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(h)}}return new Te(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=iu(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var h=i[l];if(a[l].field.isKeyField()){if("string"!=typeof h)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof h);if(!Le(e)&&-1!==h.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+h+"' contains a slash.");var f=e.path.child(x.fromString(h));if(!W.isDocumentKey(f))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new W(f);s.push(Z(t,d))}else{var p=pu(n,r,h);s.push(p)}}return new Te(s,o)}(e._query,e.firestore._databaseId,o,t,n,r)}function Bu(e,t,n){if("string"==typeof(n=Object(i.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Le(t)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(x.fromString(n));if(!W.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(e,new W(r))}if(n instanceof As)return Z(e,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ks(n)+".")}function zu(e,t){if(!Array.isArray(e)||0===e.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ku(e,t,n){if(!n.isEqual(t))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Wu=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),H(e)){case 0:return null;case 1:return e.booleanValue;case 2:return M(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(F(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw g()}},e.prototype.convertObject=function(e,t){var n=this,r={};return k(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Xs(M(e.latitude),M(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=q(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(V(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=L(e);return new I(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=x.fromString(e);y(An(n));var r=new ps(n.get(1),n.get(3)),i=new W(n.popFirst(5));return r.isEqual(t)||d("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Hu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Gu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new $s(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,t)},t}(Wu),Qu=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=iu(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=$u(e,this._firestore),i=Hu(r.converter,t,n),o=ou(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ct.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=$u(e,this._firestore);return a="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Qs?du(this._dataReader,"WriteBatch.update",s._key,t,n,r):fu(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,ct.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=$u(e,this._firestore);return this._mutations=this._mutations.concat(new It(t._key,ct.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function $u(e,t){if((e=Object(i.getModularInstance)(e)).firestore!==t)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Yu=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new $s(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new As(this.firestore,null,t)},t}(Wu);function Xu(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=Os(e,As);var a=Os(e.firestore,zs),s=iu(a);return Zu(a,[("string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Qs?du(s,"updateDoc",e._key,t,n,r):fu(s,"updateDoc",e._key,t)).toMutation(e._key,ct.exists(!0))])}function Ju(e){for(var t,n,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];e=Object(i.getModularInstance)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||qs(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(qs(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}if(e instanceof As)h=Os(e.firestore,zs),f=Ne(e._key.path),l={next:function(t){a[c]&&a[c](ec(h,e,t))},error:a[c+1],complete:a[c+2]};else{var v=Os(e,Rs);h=Os(v.firestore,zs),f=v._query;var g=new Yu(h);l={next:function(e){a[c]&&a[c](new xu(h,g,v,e))},error:a[c+1],complete:a[c+2]},Ru(e._query)}return function(e,t,n,i){var o=this,a=new Xa(i),s=new ra(t,a,n);return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(o,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Jo,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(o,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Zo,[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(Ks(h),f,d,l)}function Zu(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=ya,[4,cs(e)];case 1:return[2,n.apply(void 0,[r.sent(),t,i])]}}))}))})),i.promise}(Ks(e),t)}function ec(e,t,n){var r=n.docs.get(t._key),i=new Yu(e);return new Ou(e,i,t._key,r,new ku(n.hasPendingWrites,n.fromCache),t.converter)}var tc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return Object(r.__extends)(t,e),t.prototype.get=function(t){var n=this,r=$u(t,this._firestore),i=new Yu(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Ou(n._firestore,i,r._key,e._document,new ku(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=iu(e)}return e.prototype.get=function(e){var t=this,n=$u(e,this._firestore),r=new Gu(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return g();var i=e[0];if(i.isFoundDocument())return new Iu(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Iu(t._firestore,r,n._key,null,n.converter);throw g()}))},e.prototype.set=function(e,t,n){var r=$u(e,this._firestore),i=Hu(r.converter,t,n),o=ou(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=$u(e,this._firestore);return a="string"==typeof(t=Object(i.getModularInstance)(t))||t instanceof Qs?du(this._dataReader,"Transaction.update",s._key,t,n,r):fu(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=$u(e,this._firestore);return this._transaction.delete(t._key),this},e}());function nc(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rc(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ic=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return rc(),new e($s.fromBase64String(t))},e.fromUint8Array=function(t){return nc(),new e($s.fromUint8Array(t))},e.prototype.toBase64=function(){return rc(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return nc(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),oc=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){Gs(e=Os(e,zs));var n=Ks(e),r=e._freezeSettings(),i=new $a;return Hs(n,i,new Ga(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){Gs(e=Os(e,zs));var t=Ks(e),n=e._freezeSettings(),r=new $a;return Hs(t,r,new Qa(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return or.yt()?(t=e+"main",[4,or.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gi(e._databaseId,e._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return t=i.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),ac=function(){function e(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof ps||(this.Zc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||p("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var o=(e=Os(e,Ns))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&p("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a=Object(i.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new ms(new gs(a,new Gi(s)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,as(e)];case 1:return t=r.sent(),[4,us(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=m(e);return t.Or.delete(0),_o(t)}(n))]}}))}))}))}(Ks(Os(this._delegate,zs)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(r.__generator)(this,(function(i){switch(i.label){case 0:return[4,as(e)];case 1:return t=i.sent(),[4,us(e)];case 2:return n=i.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return(t=m(e)).Or.add(0),[4,wo(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ks(Os(this._delegate,zs)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Is("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(t,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return t=Ta,[4,cs(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ks(Os(this._delegate,zs)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,i=new Xa(t);return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.add(t),t.next()},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){m(e).Gr.delete(t)},[4,ls(e)];case 1:return[2,t.apply(void 0,[n.sent(),i])]}}))}))}))}}(Ks(e=Os(e,zs)),qs(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Zc)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new wc(this,js(this._delegate,e))}catch(e){throw dc(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new fc(this,Ls(this._delegate,e))}catch(e){throw dc(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new mc(this,function(e,t){if(e=Os(e,Ns),Es("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Rs(e,null,function(e){return new Pe(x.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw dc(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(e){return os(e).then((function(e){return e.datastore}))}(e)];case 1:return n=r.sent(),new es(e.asyncQueue,n,t,i).run(),[2]}}))}))})),i.promise}(Ks(e),(function(n){return t(new tc(e,n))}))}(this._delegate,(function(n){return e(new cc(t,n))}))},e.prototype.batch=function(){var e=this;return Ks(this._delegate),new lc(new Qu(this._delegate,(function(t){return Zu(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),sc=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return Object(r.__extends)(t,e),t.prototype.convertBytes=function(e){return new ic(new $s(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return fc.tu(t,this.firestore,null)},t}(Wu);function uc(e){var t;t=e,l.setLogLevel(t)}var cc=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new sc(e)}return e.prototype.get=function(e){var t=this,n=Ec(e);return this._delegate.get(n).then((function(e){return new gc(t._firestore,new Ou(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Ec(e);return n?(Ts("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ec(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=Ec(e);return this._delegate.delete(t),this},e}(),lc=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Ec(e);return n?(Ts("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ec(e);return 2===arguments.length?this._delegate.update(s,t):(i=this._delegate).update.apply(i,Object(r.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=Ec(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),hc=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Pu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yc(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.eu=function(t,n){var r=e.nu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new sc(t),n),i.set(n,o)),o},e}();hc.nu=new WeakMap;var fc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sc(e)}return e.su=function(t,n,r){if(t.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new As(n._delegate,r,new W(t)))},e.tu=function(t,n,r){return new e(n,new As(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new wc(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new wc(this.firestore,js(this._delegate,e))}catch(e){throw dc(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof As&&Ms(this._delegate,e)},e.prototype.set=function(e,t){t=Ts("DocumentReference.set",t);try{return function(e,t,n){e=Os(e,As);var r=Os(e.firestore,zs),i=Hu(e.converter,t,n);return Zu(r,[ou(iu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ct.none())])}(this._delegate,e,t)}catch(e){throw dc(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Xu(this._delegate,e):Xu.apply(void 0,Object(r.__spreadArray)([this._delegate,e,t],n))}catch(e){throw dc(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zu(Os((e=this._delegate).firestore,zs),[new It(e._key,ct.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pc(t),i=vc(t,(function(t){return new gc(e.firestore,new Ou(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Ju(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Os(e,As);var t=Os(e.firestore,zs),n=Ks(t),i=new Yu(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e,t){var n=m(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=Ho(i,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}}))}))})),i.promise}(n,e._key).then((function(n){return new Ou(t,i,e._key,n,new ku(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Os(e,As);var t=Os(e.firestore,zs);return hs(Ks(t),e._key,{source:"server"}).then((function(n){return ec(t,e,n)}))}(this._delegate):function(e){e=Os(e,As);var t=Os(e.firestore,zs);return hs(Ks(t),e._key).then((function(n){return ec(t,e,n)}))}(this._delegate)).then((function(e){return new gc(t.firestore,new Ou(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hc.eu(this.firestore,t)):this._delegate.withConverter(null))},e}();function dc(e,t,n){return e.message=e.message.replace(t,n),e}function pc(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!qs(r))return r}return{}}function vc(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=qs(e[0])?e[0]:qs(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var gc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new fc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Au(this._delegate,e._delegate)},e}(),yc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(r.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(gc),mc=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new sc(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ju(this._delegate,function(e,t,n){var r=t,i=Cu("where",e);return new Lu(i,r,n)}(t,n,r)))}catch(t){throw dc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ju(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Cu("orderBy",e);return new Mu(r,n)}(t,n)))}catch(t){throw dc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ju(this._delegate,function(e){return Ps("limit",e),new Fu("limit",e,"F")}(t)))}catch(t){throw dc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ju(this._delegate,function(e){return Ps("limitToLast",e),new Fu("limitToLast",e,"L")}(t)))}catch(t){throw dc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw dc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Uu("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw dc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new qu("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw dc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ju(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new qu("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw dc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Fs(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Os(e,Rs);var t=Os(e.firestore,zs),n=Ks(t),i=new Yu(t);return function(e,t){var n=this,i=new nr;return e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return Object(r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ni(e,t,!0)];case 1:return u=r.sent(),i=new la(t,u.Bn),o=i._o(u.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=Ho(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,i])]}}))}))})),i.promise}(n,e._query).then((function(n){return new xu(t,i,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Os(e,Rs);var t=Os(e.firestore,zs),n=Ks(t),r=new Yu(t);return fs(n,e._query,{source:"server"}).then((function(n){return new xu(t,r,e,n)}))}(this._delegate):function(e){e=Os(e,Rs);var t=Os(e.firestore,zs),n=Ks(t),r=new Yu(t);return Ru(e._query),fs(n,e._query).then((function(n){return new xu(t,r,e,n)}))}(this._delegate)).then((function(e){return new _c(t.firestore,new xu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pc(t),i=vc(t,(function(t){return new _c(e.firestore,new xu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Ju(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hc.eu(this.firestore,t)):this._delegate.withConverter(null))},e}(),bc=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),_c=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new mc(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new yc(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new bc(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new yc(n._firestore,r))}))},e.prototype.isEqual=function(e){return Au(this._delegate,e._delegate)},e}(),wc=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return Object(r.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new fc(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new fc(this.firestore,void 0===e?Ls(this._delegate):Ls(this._delegate,e))}catch(e){throw dc(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Os(e.firestore,zs),r=Ls(e),i=Hu(e.converter,t);return Zu(n,[ou(iu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ct.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new fc(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ms(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hc.eu(this.firestore,e)):this._delegate.withConverter(null))},t}(mc);function Ec(e){return Os(e,As)}var Tc=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Qs.bind.apply(Qs,Object(r.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(A.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Object(i.getModularInstance)(e))instanceof Qs&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ic=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new uu("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new au("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new cu("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lu("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new hu("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function Sc(e){return function(e,t){var n=Ks(e=Os(e,zs)),i=new Vs;return function(e,t,n,i){var o=this,a=function(e,t){return function(e,t){return new Ja(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ya(e,t);if(e instanceof ArrayBuffer)return Ya(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ho(t));e.asyncQueue.enqueueAndForget((function(){return Object(r.__awaiter)(o,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(n){switch(n.label){case 0:return t=Wa,[4,cs(e)];case 1:return t.apply(void 0,[n.sent(),a,i]),[2]}}))}))}))}(n,e._databaseId,t,i),i}(this._delegate,e)}function Cc(e){var t,n,i=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Object(r.__awaiter)(n,void 0,void 0,(function(){var n;return Object(r.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=m(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,ss(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(Ks(t=Os(t,zs)),n).then((function(e){return e?new Rs(t,null,e.query):null}))).then((function(e){return e?new mc(i,e):null}))}}).call(this,n(32))},function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return k}));var r=n(12),i=n(3),o=n.n(i),a=(n(5),n(17)),s=n(71),u=n(19),c=n(9),l=n(46),h=n.n(l),f=(n(91),n(16)),d=(n(29),function(e){var t=Object(s.a)();return t.displayName=e,t}),p=d("Router-History"),v=d("Router"),g=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return o.a.createElement(v.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(p.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;o.a.Component;var y={},m=0;function b(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=y[n]||(y[n]={});if(r[e])return r[e];var i=[],o={regexp:h()(e,i,t),keys:i};return m<1e4&&(r[e]=o,m++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),d=e===l;return o&&!d?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:d,params:a.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var _=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(v.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?b(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,h=a.render;return Array.isArray(s)&&function(e){return 0===o.a.Children.count(e)}(s)&&(s=null),o.a.createElement(v.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):h?h(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function w(e){return"/"===e.charAt(0)?e:"/"+e}function E(e,t){if(!e)return t;var n=w(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function T(e){return"string"===typeof e?e:Object(a.e)(e)}function I(e){return function(){Object(u.a)(!1)}}function S(){}o.a.Component;o.a.Component;var C=o.a.useContext;function k(){return C(p)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return hr})),n.d(t,"b",(function(){return dr})),n.d(t,"c",(function(){return fr})),n.d(t,"d",(function(){return vr})),n.d(t,"e",(function(){return pr})),n.d(t,"f",(function(){return gr})),n.d(t,"g",(function(){return yr})),n.d(t,"h",(function(){return cr})),n.d(t,"i",(function(){return lr}));var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function l(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function h(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var f="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function g(e,t,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function y(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function m(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function b(){this.s=this.s,this.o=this.o}var _={};b.prototype.s=!1,b.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,f)&&e[f]||(e[f]=++d)}(this);delete _[e]}},b.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var w=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function T(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function S(e){return/^[\s\xa0]*$/.test(e)}var C,k=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function O(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var x=u.navigator;if(x){var N=x.userAgent;if(N){C=N;break e}}C=""}function A(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function R(e){var t={};for(var n in e)t[n]=e[n];return t}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<D.length;o++)n=D[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){return L[" "](e),e}L[" "]=c;var M,F=O(C,"Opera"),U=O(C,"Trident")||O(C,"MSIE"),q=O(C,"Edge"),V=q||U,B=O(C,"Gecko")&&!(O(C.toLowerCase(),"webkit")&&!O(C,"Edge"))&&!(O(C,"Trident")||O(C,"MSIE"))&&!O(C,"Edge"),z=O(C.toLowerCase(),"webkit")&&!O(C,"Edge");function K(){var e=u.document;return e?e.documentMode:void 0}e:{var W="",H=function(){var e=C;return B?/rv:([^\);]+)(\)|;)/.exec(e):q?/Edge\/([\d\.]+)/.exec(e):U?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):z?/WebKit\/(\S+)/.exec(e):F?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(H&&(W=H?H[1]:""),U){var G=K();if(null!=G&&G>parseFloat(W)){M=String(G);break e}}M=W}var Q,$={};function Y(){return function(e){var t=$;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=k(String(M)).split("."),n=k("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(u.document&&U){var X=K();Q=X||(parseInt(M,10)||void 0)}else Q=void 0;var J=Q,Z=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",c,t),u.removeEventListener("test",c,t)}catch(n){}return e}();function ee(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function te(e,t){if(ee.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(B){e:{try{L(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ne[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&te.Z.h.call(this)}}ee.prototype.h=function(){this.defaultPrevented=!0},m(te,ee);var ne={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),ie=0;function oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ie,this.ca=this.fa=!1}function ae(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function se(e){this.src=e,this.g={},this.h=0}function ue(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=w(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ae(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ce(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}se.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ce(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new oe(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var le="closure_lm_"+(1e6*Math.random()|0),he={};function fe(e,t,n,r,i){if(r&&r.once)return pe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)fe(e,t[o],n,r,i);return null}return n=we(n),e&&e[re]?e.N(t,n,h(r)?!!r.capture:!!r,i):de(e,t,n,!1,r,i)}function de(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=be(e);if(s||(e[le]=s=new se(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=me;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Z||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ye(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)pe(e,t[o],n,r,i);return null}return n=we(n),e&&e[re]?e.O(t,n,h(r)?!!r.capture:!!r,i):de(e,t,n,!0,r,i)}function ve(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ve(e,t[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=we(n),e&&e[re]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ce(o=e.g[t],n,r,i))&&(ae(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=be(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ce(t,n,r,i)),(n=-1<e?t[e]:null)&&ge(n))}function ge(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[re])ue(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ye(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=be(t))?(ue(n,e),0==n.h&&(n.src=null,t[le]=null)):ae(e)}}}function ye(e){return e in he?he[e]:he[e]="on"+e}function me(e,t){if(e.ca)e=!0;else{t=new te(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ge(e),e=n.call(r,t)}return e}function be(e){return(e=e[le])instanceof se?e:null}var _e="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(e){return"function"===typeof e?e:(e[_e]||(e[_e]=function(t){return e.handleEvent(t)}),e[_e])}function Ee(){b.call(this),this.i=new se(this),this.P=this,this.I=null}function Te(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ee(t,e);else if(t instanceof ee)t.target=t.target||e;else{var i=t;j(t=new ee(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ie(a,r,!0,t)&&i}if(i=Ie(a=t.g=e,r,!0,t)&&i,i=Ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ie(a=t.g=n[o],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ue(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}m(Ee,b),Ee.prototype[re]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){ve(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ae(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=u.JSON.stringify;function Ce(){var e=De,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ke,Oe=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Pe.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Pe=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new xe}),(function(e){return e.reset()})),xe=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Ne(e){u.setTimeout((function(){throw e}),0)}function Ae(e,t){ke||function(){var e=u.Promise.resolve(void 0);ke=function(){e.then(je)}}(),Re||(ke(),Re=!0),De.add(e,t)}var Re=!1,De=new Oe;function je(){for(var e;e=Ce();){try{e.h.call(e.g)}catch(n){Ne(n)}var t=Pe;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Re=!1}function Le(e,t){Ee.call(this),this.h=e||1,this.g=t||u,this.j=g(this.kb,this),this.l=Date.now()}function Me(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Fe(e,t,n){if("function"===typeof e)n&&(e=g(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=g(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function Ue(e){e.g=Fe((function(){e.g=null,e.i&&(e.i=!1,Ue(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}m(Le,Ee),(o=Le.prototype).da=!1,o.S=null,o.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Te(this,"tick"),this.da&&(Me(this),this.start()))}},o.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},o.M=function(){Le.Z.M.call(this),Me(this),delete this.g};var qe=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Ue(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(b);function Ve(e){b.call(this),this.h=e,this.g={}}m(Ve,b);var Be=[];function ze(e,t,n,r){Array.isArray(n)||(n&&(Be[0]=n.toString()),n=Be);for(var i=0;i<n.length;i++){var o=fe(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ke(e){A(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ge(e)}),e),e.g={}}function We(){this.g=!0}function He(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Se(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ve.prototype.M=function(){Ve.Z.M.call(this),Ke(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},We.prototype.Aa=function(){this.g=!1},We.prototype.info=function(){};var Ge={},Qe=null;function $e(){return Qe=Qe||new Ee}function Ye(e){ee.call(this,Ge.Ma,e)}function Xe(e){var t=$e();Te(t,new Ye(t,e))}function Je(e,t){ee.call(this,Ge.STAT_EVENT,e),this.stat=t}function Ze(e){var t=$e();Te(t,new Je(t,e))}function et(e,t){ee.call(this,Ge.Na,e),this.size=t}function tt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){e()}),t)}Ge.Ma="serverreachability",m(Ye,ee),Ge.STAT_EVENT="statevent",m(Je,ee),Ge.Na="timingevent",m(et,ee);var nt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function it(){}function ot(e){return e.h||(e.h=e.i())}function at(){}it.prototype.h=null;var st,ut={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ct(){ee.call(this,"d")}function lt(){ee.call(this,"c")}function ht(){}function ft(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ve(this),this.P=pt,e=V?125:void 0,this.W=new Le(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}m(ct,ee),m(lt,ee),m(ht,it),ht.prototype.g=function(){return new XMLHttpRequest},ht.prototype.i=function(){return{}},st=new ht;var pt=45e3,vt={},gt={};function yt(e,t,n){e.K=1,e.v=qt(Dt(t)),e.s=n,e.U=!0,mt(e,null)}function mt(e,t){e.F=Date.now(),Et(e),e.A=Dt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zt(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dt,e.g=nr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qe(g(e.Ia,e,e.g),e.O)),ze(e.V,e.g,"readystatechange",e.gb),t=e.H?R(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xe(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function _t(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wt(e,n))==gt){4==t&&(e.o=4,Ze(14),i=!1),He(e.j,e.m,null,"[Incomplete Response]");break}if(r==vt){e.o=4,Ze(15),He(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}He(e.j,e.m,r,null),kt(e,r)}bt(e)&&r!=gt&&r!=vt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ze(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qn(t),t.L=!0,Ze(11))):(He(e.j,e.m,n,"[Invalid Chunked Response]"),Ct(e),St(e))}function wt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?gt:(n=Number(t.substring(n,r)),isNaN(n)?vt:(r+=1)+n>t.length?gt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tt(g(e.eb,e),t)}function It(e){e.B&&(u.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||Xn(e.l,e)}function Ct(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Me(e.W),Ke(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function kt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||un(n.i,e)))if(n.I=e.N,!e.J&&un(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Yn(n),Un(n)}Gn(n),Ze(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tt(g(n.ab,n),6e3));if(1>=sn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Zn(n,11)}else if((e.J||n.g==e)&&Yn(n),!S(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(O(l,"spdy")||O(l,"quic")||O(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(cn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Ut(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tr(r,r.H?r.la:null,r.W),d.J){ln(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(It(p),Et(p)),r.g=d}else Hn(r);0<n.l.length&&Bn(n)}else"stop"!=o[0]&&"close"!=o[0]||Zn(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Zn(n,7):Fn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}Xe(4)}catch(o){}}function Ot(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||"string"===typeof e)E(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(l(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Nt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Nt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Nt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(o=ft.prototype).setTimeout=function(e){this.P=e},o.gb=function(e){e=e.target;var t=this.L;t&&3==Rn(e)?t.l():this.Ia(e)},o.Ia=function(e){try{if(e==this.g)e:{var t=Rn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||V||this.g&&(this.h.h||this.g.ga()||Dn(this.g)))){this.I||4!=t||7==n||Xe(8==n||0>=r?3:2),It(this);var i=this.g.ba();this.N=i;t:if(bt(this)){var o=Dn(this.g);e="";var a=o.length,s=4==Rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ct(this),St(this);var c="";break t}this.h.i=new u.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,h=this.g;if((l=h.g?h.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ze(12),Ct(this),St(this);break e}He(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kt(this,i)}this.U?(_t(this,t,c),V&&this.i&&3==t&&(ze(this.V,this.W,"tick",this.fb),this.W.start())):(He(this.j,this.m,c,null),kt(this,c)),4==t&&Ct(this),this.i&&!this.I&&(4==t?Xn(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<c.indexOf("Unknown SID")?(this.o=3,Ze(12)):(this.o=0,Ze(13)),Ct(this),St(this)}}}catch(t){}},o.fb=function(){if(this.g){var e=Rn(this.g),t=this.g.ga();this.C<t.length&&(It(this),_t(this,e,t),this.i&&4!=e&&Et(this))}},o.cancel=function(){this.I=!0,Ct(this)},o.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xe(3),Ze(17)),Ct(this),this.o=2,St(this)):Tt(this,this.Y-e)},(o=Pt.prototype).R=function(){xt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},o.T=function(){return xt(this),this.g.concat()},o.get=function(e,t){return Nt(this.h,e)?this.h[e]:t},o.set=function(e,t){Nt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},o.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var At=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rt){this.g=void 0!==t?t:e.g,jt(this,e.j),this.s=e.s,Lt(this,e.i),Mt(this,e.m),this.l=e.l,t=e.h;var n=new $t;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),Ft(this,n),this.o=e.o}else e&&(n=String(e).match(At))?(this.g=!!t,jt(this,n[1]||"",!0),this.s=Vt(n[2]||""),Lt(this,n[3]||"",!0),Mt(this,n[4]),this.l=Vt(n[5]||"",!0),Ft(this,n[6]||"",!0),this.o=Vt(n[7]||"")):(this.g=!!t,this.h=new $t(null,this.g))}function Dt(e){return new Rt(e)}function jt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lt(e,t,n){e.i=n?Vt(t,!0):t}function Mt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ft(e,t,n){t instanceof $t?(e.h=t,function(e,t){t&&!e.j&&(Yt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xt(this,t),Zt(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bt(t,Gt)),e.h=new $t(t,e.g))}function Ut(e,t,n){e.h.set(t,n)}function qt(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,zt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bt(t,Kt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bt(t,Kt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bt(n,"/"==n.charAt(0)?Ht:Wt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bt(n,Qt)),e.join("")};var Kt=/[#\/\?@]/g,Wt=/[#\?:]/g,Ht=/[#\?]/g,Gt=/[#\?@]/g,Qt=/#/g;function $t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Yt(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xt(e,t){Yt(e),t=en(e,t),Nt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Nt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xt(e)))}function Jt(e,t){return Yt(e),t=en(e,t),Nt(e.g.h,t)}function Zt(e,t,n){Xt(e,t),0<n.length&&(e.i=null,e.g.set(en(e,t),I(n)),e.h+=n.length)}function en(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(o=$t.prototype).add=function(e,t){Yt(this),this.i=null,e=en(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},o.forEach=function(e,t){Yt(this),this.g.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},o.T=function(){Yt(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},o.R=function(e){Yt(this);var t=[];if("string"===typeof e)Jt(this,e)&&(t=T(t,this.g.get(en(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=T(t,e[n])}return t},o.set=function(e,t){return Yt(this),this.i=null,Jt(this,e=en(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},o.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},o.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var tn=function(e,t){this.h=e,this.g=t};function nn(e){this.l=e||on,u.PerformanceNavigationTiming?e=0<(e=u.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(u.g&&u.g.Ea&&u.g.Ea()&&u.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rn,on=10;function an(e){return!!e.h||!!e.g&&e.g.size>=e.j}function sn(e){return e.h?1:e.g?e.g.size:0}function un(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cn(e,t){e.g?e.g.add(t):e.h=t}function ln(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function hn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=i(e.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return I(e.i)}function fn(){}function dn(){this.g=new fn}function pn(e,t,n){var r=n||"";try{Ot(e,(function(e,n){var i=e;h(e)&&(i=Se(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function gn(e){this.l=e.$b||null,this.j=e.ib||!1}function yn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn.prototype.cancel=function(){var e,t;if(this.i=hn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=i(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},fn.prototype.stringify=function(e){return u.JSON.stringify(e,void 0)},fn.prototype.parse=function(e){return u.JSON.parse(e,void 0)},m(gn,it),gn.prototype.g=function(){return new yn(this.l,this.j)},gn.prototype.i=(rn={},function(){return rn}),m(yn,Ee);var mn=0;function bn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function _n(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wn(e)}function wn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(o=yn.prototype).open=function(e,t){if(this.readyState!=mn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wn(this)},o.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||u).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},o.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_n(this)),this.readyState=mn},o.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wn(this)),this.g&&(this.readyState=3,wn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof u.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},o.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_n(this):wn(this),3==this.readyState&&bn(this)}},o.Ua=function(e){this.g&&(this.response=this.responseText=e,_n(this))},o.Ta=function(e){this.g&&(this.response=e,_n(this))},o.ha=function(){this.g&&_n(this)},o.setRequestHeader=function(e,t){this.v.append(e,t)},o.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},o.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=u.JSON.parse;function Tn(e){Ee.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}m(Tn,Ee);var In="",Sn=/^https?$/i,Cn=["POST","PUT"];function kn(e){return"content-type"==e.toLowerCase()}function On(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Nn(e)}function Pn(e){e.D||(e.D=!0,Te(e,"complete"),Te(e,"error"))}function xn(e){if(e.h&&"undefined"!=typeof s&&(!e.C[1]||4!=Rn(e)||2!=e.ba()))if(e.v&&4==Rn(e))Fe(e.Fa,0,e);else if(Te(e,"readystatechange"),4==Rn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(At)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sn.test(o?o.toLowerCase():"")}t=i}if(t)Te(e,"complete"),Te(e,"success");else{e.m=6;try{var c=2<Rn(e)?e.g.statusText:""}catch(l){c=""}e.j=c+" ["+e.ba()+"]",Pn(e)}}finally{Nn(e)}}}function Nn(e,t){if(e.g){An(e);var n=e.g,r=e.C[0]?c:null;e.g=null,e.C=null,t||Te(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function An(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(u.clearTimeout(e.A),e.A=null)}function Rn(e){return e.g?e.g.readyState:0}function Dn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case In:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function jn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return A(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ut(e,t,n))}function Ln(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Mn(e){this.za=0,this.l=[],this.h=new We,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ln("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ln("baseRetryDelayMs",5e3,e),this.$a=Ln("retryDelaySeedMs",1e4,e),this.Ya=Ln("forwardChannelMaxRetries",2,e),this.ra=Ln("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nn(e&&e.concurrentRequestLimit),this.Ca=new dn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Fn(e){if(qn(e),3==e.G){var t=e.V++,n=Dt(e.F);Ut(n,"SID",e.J),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),Kn(e,n),(t=new ft(e,e.h,t,void 0)).K=2,t.v=qt(Dt(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(t.v.toString(),"")),!n&&u.Image&&((new Image).src=t.v,n=!0),n||(t.g=nr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}er(e)}function Un(e){e.g&&(Qn(e),e.g.cancel(),e.g=null)}function qn(e){Un(e),e.u&&(u.clearTimeout(e.u),e.u=null),Yn(e),e.i.cancel(),e.m&&("number"===typeof e.m&&u.clearTimeout(e.m),e.m=null)}function Vn(e,t){e.l.push(new tn(e.Za++,t)),3==e.G&&Bn(e)}function Bn(e){an(e.i)||e.m||(e.m=!0,Ae(e.Ha,e),e.C=0)}function zn(e,t){var n;n=t?t.m:e.V++;var r=Dt(e.F);Ut(r,"SID",e.J),Ut(r,"RID",n),Ut(r,"AID",e.U),Kn(e,r),e.o&&e.s&&jn(r,e.o,e.s),n=new ft(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Wn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cn(e.i,n),yt(n,r,t)}function Kn(e,t){e.j&&Ot({},(function(e,n){Ut(t,n,e)}))}function Wn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?g(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{pn(l,a,"req"+c+"_")}catch(h){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hn(e){e.g||e.u||(e.Y=1,Ae(e.Ga,e),e.A=0)}function Gn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tt(g(e.Ga,e),Jn(e,e.A)),e.A++,!0)}function Qn(e){null!=e.B&&(u.clearTimeout(e.B),e.B=null)}function $n(e){e.g=new ft(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dt(e.oa);Ut(t,"RID","rpc"),Ut(t,"SID",e.J),Ut(t,"CI",e.N?"0":"1"),Ut(t,"AID",e.U),Kn(e,t),Ut(t,"TYPE","xmlhttp"),e.o&&e.s&&jn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qt(Dt(t)),n.s=null,n.U=!0,mt(n,e)}function Yn(e){null!=e.v&&(u.clearTimeout(e.v),e.v=null)}function Xn(e,t){var n=null;if(e.g==t){Yn(e),Qn(e),e.g=null;var r=2}else{if(!un(e.i,t))return;n=t.D,ln(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Te(r=$e(),new et(r,n,t,i)),Bn(e)}else Hn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(sn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tt(g(e.Ha,e,t),Jn(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zn(e,5);break;case 4:Zn(e,10);break;case 3:Zn(e,6);break;default:Zn(e,2)}}function Jn(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zn(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=g(e.jb,e);n||(n=new Rt("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||jt(n,"https"),qt(n)),function(e,t){var n=new We;if(u.Image){var r=new Image;r.onload=y(vn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=y(vn,n,r,"TestLoadImage: error",!1,t),r.onabort=y(vn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=y(vn,n,r,"TestLoadImage: timeout",!1,t),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ze(2);e.G=0,e.j&&e.j.va(t),er(e),qn(e)}function er(e){e.G=0,e.I=-1,e.j&&(0==hn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function tr(e,t,n){var r=function(e){return e instanceof Rt?Dt(e):new Rt(e,void 0)}(n);if(""!=r.i)t&&Lt(r,t+"."+r.i),Mt(r,r.m);else{var i=u.location;r=function(e,t,n,r){var i=new Rt(null,void 0);return e&&jt(i,e),t&&Lt(i,t),n&&Mt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&A(e.aa,(function(e,t){Ut(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ut(r,t,n),Ut(r,"VER",e.ma),Kn(e,r),r}function nr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tn(new gn({ib:!0})):new Tn(e.qa)).L=e.H,t}function rr(){}function ir(){if(U&&!(10<=Number(J)))throw Error("Environmental error: no available transport.")}function or(e,t){Ee.call(this),this.g=new Mn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!S(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!S(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ur(this)}function ar(e){ct.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sr(){lt.call(this),this.status=1}function ur(e){this.g=e}(o=Tn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():st.g(),this.C=this.u?ot(this.u):ot(st),this.g.onreadystatechange=g(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void On(this,o)}e=n||"";var i=new Pt(this.headers);r&&Ot(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=kn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=u.FormData&&e instanceof u.FormData,!(0<=w(Cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{An(this),0<this.B&&((this.K=function(e){return U&&Y()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=g(this.pa,this)):this.A=Fe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){On(this,o)}},o.pa=function(){"undefined"!=typeof s&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Te(this,"timeout"),this.abort(8))},o.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Te(this,"complete"),Te(this,"abort"),Nn(this))},o.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nn(this,!0)),Tn.Z.M.call(this)},o.Fa=function(){this.s||(this.F||this.v||this.l?xn(this):this.cb())},o.cb=function(){xn(this)},o.ba=function(){try{return 2<Rn(this)?this.g.status:-1}catch(rn){return-1}},o.ga=function(){try{return this.g?this.g.responseText:""}catch(rn){return""}},o.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},o.Da=function(){return this.m},o.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(o=Mn.prototype).ma=8,o.G=1,o.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},o.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ft(this,this.h,e,void 0),n=this.s;if(this.P&&(n?j(n=R(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Wn(this,t,r),Ut(i=Dt(this.F),"RID",e),Ut(i,"CVER",22),this.D&&Ut(i,"X-HTTP-Session-Id",this.D),Kn(this,i),this.o&&n&&jn(i,this.o,n),cn(this.i,t),this.Ra&&Ut(i,"TYPE","init"),this.ja?(Ut(i,"$req",r),Ut(i,"SID","null"),t.$=!0,yt(t,i,null)):yt(t,i,r),this.G=2}}else 3==this.G&&(e?zn(this,e):0==this.l.length||an(this.i)||zn(this))},o.Ga=function(){if(this.u=null,$n(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tt(g(this.bb,this),e)}},o.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ze(10),Un(this),$n(this))},o.ab=function(){null!=this.v&&(this.v=null,Un(this),Gn(this),Ze(19))},o.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ze(2)):(this.h.info("Failed to ping google.com"),Ze(1))},(o=rr.prototype).xa=function(){},o.wa=function(){},o.va=function(){},o.ua=function(){},o.Oa=function(){},ir.prototype.g=function(e,t){return new or(e,t)},m(or,Ee),or.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ae(g(e.hb,e,t))),Ze(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tr(e,null,e.W),Bn(e)},or.prototype.close=function(){Fn(this.g)},or.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vn(this.g,t)}else this.v?((t={}).__data__=Se(e),Vn(this.g,t)):Vn(this.g,e)},or.prototype.M=function(){this.g.j=null,delete this.j,Fn(this.g),delete this.g,or.Z.M.call(this)},m(ar,ct),m(sr,lt),m(ur,rr),ur.prototype.xa=function(){Te(this.g,"a")},ur.prototype.wa=function(e){Te(this.g,new ar(e))},ur.prototype.va=function(e){Te(this.g,new sr(e))},ur.prototype.ua=function(){Te(this.g,"b")},ir.prototype.createWebChannel=ir.prototype.g,or.prototype.send=or.prototype.u,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,rt.COMPLETE="complete",at.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.La,Tn.prototype.getLastErrorCode=Tn.prototype.Da,Tn.prototype.getStatus=Tn.prototype.ba,Tn.prototype.getResponseJson=Tn.prototype.Qa,Tn.prototype.getResponseText=Tn.prototype.ga,Tn.prototype.send=Tn.prototype.ea;var cr=function(){return new ir},lr=function(){return $e()},hr=nt,fr=rt,dr=Ge,pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vr=gn,gr=at,yr=Tn}).call(this,n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={SORT_ASC:"asc",SORT_DESC:"desc",ROW_SELECT_SINGLE:"radio",ROW_SELECT_MULTIPLE:"checkbox",ROW_SELECT_DISABLED:"ROW_SELECT_DISABLED",CHECKBOX_STATUS_CHECKED:"checked",CHECKBOX_STATUS_INDETERMINATE:"indeterminate",CHECKBOX_STATUS_UNCHECKED:"unchecked",INDICATOR_POSITION_LEFT:"left",INDICATOR_POSITION_RIGHT:"right",TYPE_STRING:"string",TYPE_NUMBER:"number",TYPE_BOOLEAN:"bool",TYPE_DATE:"date",FILTERS_POSITION_INLINE:"inline",FILTERS_POSITION_TOP:"top",FILTERS_POSITION_BOTTOM:"bottom"}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return N})),n.d(t,"c",(function(){return v})),n.d(t,"f",(function(){return g})),n.d(t,"e",(function(){return p}));var r=n(9);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,f=a.length;f>=0;f--){var d=a[f];"."===d?o(a,f):".."===d?(o(a,f),h++):h&&(o(a,f),h--)}if(!c)for(;h--;h)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(19);function l(e){return"/"===e.charAt(0)?e:"/"+e}function h(e){return"/"===e.charAt(0)?e.substr(1):e}function f(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function d(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function p(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function v(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var _="popstate",w="hashchange";function E(){try{return window.history.state||{}}catch(e){return{}}}function T(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,h=void 0===u?b:u,g=o.keyLength,T=void 0===g?6:g,I=e.basename?d(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return I&&(o=f(o,I)),v(o,r,n)}function C(){return Math.random().toString(36).substr(2,T)}var k=y();function O(e){Object(r.a)(q,e),q.length=t.length,k.notifyListeners(q.location,q.action)}function P(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||A(S(e.state))}function x(){A(S(E()))}var N=!1;function A(e){if(N)N=!1,O();else{k.confirmTransitionTo(e,"POP",h,(function(t){t?O({action:"POP",location:e}):function(e){var t=q.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(N=!0,L(i))}(e)}))}}var R=S(E()),D=[R.key];function j(e){return I+p(e)}function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?(window.addEventListener(_,P),i&&window.addEventListener(w,x)):0===M&&(window.removeEventListener(_,P),i&&window.removeEventListener(w,x))}var U=!1;var q={length:t.length,action:"POP",location:R,createHref:j,push:function(e,r){var i="PUSH",o=v(e,r,C(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.pushState({key:a,state:u},null,r),s)window.location.href=r;else{var c=D.indexOf(q.location.key),l=D.slice(0,c+1);l.push(o.key),D=l,O({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=v(e,r,C(),q.location);k.confirmTransitionTo(o,i,h,(function(e){if(e){var r=j(o),a=o.key,u=o.state;if(n)if(t.replaceState({key:a,state:u},null,r),s)window.location.replace(r);else{var c=D.indexOf(q.location.key);-1!==c&&(D[c]=o.key),O({action:i,location:o})}else window.location.replace(r)}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=k.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=k.appendListener(e);return F(1),function(){F(-1),t()}}};return q}var I="hashchange",S={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+h(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:h,decodePath:l},slash:{encodePath:l,decodePath:l}};function C(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function k(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(C(window.location.href)+"#"+e)}function P(e){void 0===e&&(e={}),m||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?d(l(e.basename)):"",h=S[s],g=h.encodePath,_=h.decodePath;function w(){var e=_(k());return u&&(e=f(e,u)),v(e)}var E=y();function T(e){Object(r.a)(q,e),q.length=t.length,E.notifyListeners(q.location,q.action)}var P=!1,x=null;function N(){var e,t,n=k(),r=g(n);if(n!==r)O(r);else{var i=w(),a=q.location;if(!P&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(x===p(i))return;x=null,function(e){if(P)P=!1,T();else{var t="POP";E.confirmTransitionTo(e,t,o,(function(n){n?T({action:t,location:e}):function(e){var t=q.location,n=j.lastIndexOf(p(t));-1===n&&(n=0);var r=j.lastIndexOf(p(e));-1===r&&(r=0);var i=n-r;i&&(P=!0,L(i))}(e)}))}}(i)}}var A=k(),R=g(A);A!==R&&O(R);var D=w(),j=[p(D)];function L(e){t.go(e)}var M=0;function F(e){1===(M+=e)&&1===e?window.addEventListener(I,N):0===M&&window.removeEventListener(I,N)}var U=!1;var q={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=C(window.location.href)),n+"#"+g(u+p(e))},push:function(e,t){var n="PUSH",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(u+t);if(k()!==i){x=t,function(e){window.location.hash=e}(i);var o=j.lastIndexOf(p(q.location)),a=j.slice(0,o+1);a.push(t),j=a,T({action:n,location:r})}else T()}}))},replace:function(e,t){var n="REPLACE",r=v(e,void 0,void 0,q.location);E.confirmTransitionTo(r,n,o,(function(e){if(e){var t=p(r),i=g(u+t);k()!==i&&(x=t,O(i));var o=j.indexOf(p(q.location));-1!==o&&(j[o]=t),T({action:n,location:r})}}))},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=E.setPrompt(e);return U||(F(1),U=!0),function(){return U&&(U=!1,F(-1)),t()}},listen:function(e){var t=E.appendListener(e);return F(1),function(){F(-1),t()}}};return q}function x(e,t,n){return Math.min(Math.max(e,t),n)}function N(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function h(e){Object(r.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=x(s,0,o.length-1),g=o.map((function(e){return v(e,void 0,"string"===typeof e?f():e.key||f())})),m=p;function b(e){var t=x(_.index+e,0,_.entries.length-1),r=_.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?h({action:"POP",location:r,index:t}):h()}))}var _={length:g.length,action:"POP",location:g[d],index:d,entries:g,createHref:m,push:function(e,t){var r="PUSH",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),h({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=v(e,t,f(),_.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(_.entries[_.index]=i,h({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t,n){"use strict";var r=n(48),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isPlainObject:u,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r="Invariant failed";function i(e,t){if(!e)throw new Error(r)}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var a=i.apply(null,r);a&&e.push(a)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var s in r)n.call(r,s)&&r[s]&&e.push(s);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(13),i=n(12),o=n(3),a=n.n(o),s=n(17),u=(n(5),n(9)),c=n(16),l=n(19),h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.b,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var f=function(e,t){return"function"===typeof e?e(t):e},d=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},p=function(e){return e},v=a.a.forwardRef;"undefined"===typeof v&&(v=p);var g=v((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=p!==v&&t||n,a.a.createElement("a",l)}));var y=v((function(e,t){var n=e.component,i=void 0===n?g:n,o=e.replace,h=e.to,y=e.innerRef,m=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.c.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=d(f(h,e.location),e.location),c=r?n.createHref(r):"",g=Object(u.a)({},m,{href:c,navigate:function(){var t=f(h,e.location),r=Object(s.e)(e.location)===Object(s.e)(d(t));(o||r?n.replace:n.push)(t)}});return p!==v?g.ref=t||y:g.innerRef=y,a.a.createElement(i,g)}))})),m=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=m);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,h=e.activeStyle,p=e.className,v=e.exact,g=e.isActive,_=e.location,w=e.sensitive,E=e.strict,T=e.style,I=e.to,S=e.innerRef,C=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.c.Consumer,null,(function(e){e||Object(l.a)(!1);var n=_||e.location,o=d(f(I,n),n),c=o.pathname,k=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),O=k?Object(r.d)(n.pathname,{path:k,exact:v,sensitive:w,strict:E}):null,P=!!(g?g(O,n):O),x="function"===typeof p?p(P):p,N="function"===typeof T?T(P):T;P&&(x=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(x,s),N=Object(u.a)({},N,h));var A=Object(u.a)({"aria-current":P&&i||null,className:x,style:N,to:o},C);return m!==b?A.ref=t||S:A.innerRef=S,a.a.createElement(y,A)}))}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(80)},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function h(e){this._store=e}function f(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new f(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[h,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,h].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="dist/",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=(r(n(1)),n(6)),a=r(o),s=r(n(7)),u=r(n(8)),c=r(n(9)),l=r(n(10)),h=r(n(11)),f=r(n(14)),d=[],p=!1,v={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},g=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(p=!0),p)return d=(0,h.default)(d,v),(0,l.default)(d,v.once),d},y=function(){d=(0,f.default)(),g()},m=function(){d.forEach((function(e,t){e.node.removeAttribute("data-aos"),e.node.removeAttribute("data-aos-easing"),e.node.removeAttribute("data-aos-duration"),e.node.removeAttribute("data-aos-delay")}))},b=function(e){return!0===e||"mobile"===e&&c.default.mobile()||"phone"===e&&c.default.phone()||"tablet"===e&&c.default.tablet()||"function"==typeof e&&!0===e()},_=function(e){v=i(v,e),d=(0,f.default)();var t=document.all&&!window.atob;return b(v.disable)||t?m():(v.disableMutationObserver||u.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),v.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",v.easing),document.querySelector("body").setAttribute("data-aos-duration",v.duration),document.querySelector("body").setAttribute("data-aos-delay",v.delay),"DOMContentLoaded"===v.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?g(!0):"load"===v.startEvent?window.addEventListener(v.startEvent,(function(){g(!0)})):document.addEventListener(v.startEvent,(function(){g(!0)})),window.addEventListener("resize",(0,s.default)(g,v.debounceDelay,!0)),window.addEventListener("orientationchange",(0,s.default)(g,v.debounceDelay,!0)),window.addEventListener("scroll",(0,a.default)((function(){(0,l.default)(d,v.once)}),v.throttleDelay)),v.disableMutationObserver||u.default.ready("[data-aos]",y),d)};e.exports={init:_,refresh:g,refreshHard:y}},function(e,t){},,,,,function(e,t){(function(t){"use strict";function n(e,t,n){function r(t){var n=v,r=g;return v=g=void 0,I=t,m=e.apply(r,n)}function o(e){return I=e,b=setTimeout(l,t),S?r(e):m}function a(e){var n=t-(e-_);return C?E(n,y-(e-I)):n}function u(e){var n=e-_;return void 0===_||n>=t||n<0||C&&e-I>=y}function l(){var e=T();return u(e)?h(e):void(b=setTimeout(l,a(e)))}function h(e){return b=void 0,k&&v?r(e):(v=g=void 0,m)}function f(){void 0!==b&&clearTimeout(b),I=0,v=_=g=b=void 0}function d(){return void 0===b?m:h(T())}function p(){var e=T(),n=u(e);if(v=arguments,g=this,_=e,n){if(void 0===b)return o(_);if(C)return b=setTimeout(l,t),r(_)}return void 0===b&&(b=setTimeout(l,t)),m}var v,g,y,m,b,_,I=0,S=!1,C=!1,k=!0;if("function"!=typeof e)throw new TypeError(c);return t=s(t)||0,i(n)&&(S=!!n.leading,y=(C="maxWait"in n)?w(s(n.maxWait)||0,t):y,k="trailing"in n?!!n.trailing:k),p.cancel=f,p.flush=d,p}function r(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError(c);return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}function i(e){var t="undefined"==typeof e?"undefined":u(e);return!!e&&("object"==t||"function"==t)}function o(e){return!!e&&"object"==("undefined"==typeof e?"undefined":u(e))}function a(e){return"symbol"==("undefined"==typeof e?"undefined":u(e))||o(e)&&_.call(e)==h}function s(e){if("number"==typeof e)return e;if(a(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(f,"");var n=p.test(e);return n||v.test(e)?g(e.slice(2),n?2:8):d.test(e)?l:+e}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="Expected a function",l=NaN,h="[object Symbol]",f=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,v=/^0o[0-7]+$/i,g=parseInt,y="object"==("undefined"==typeof t?"undefined":u(t))&&t&&t.Object===Object&&t,m="object"==("undefined"==typeof self?"undefined":u(self))&&self&&self.Object===Object&&self,b=y||m||Function("return this")(),_=Object.prototype.toString,w=Math.max,E=Math.min,T=function(){return b.Date.now()};e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t,n){function i(t){var n=v,r=g;return v=g=void 0,I=t,m=e.apply(r,n)}function o(e){return I=e,b=setTimeout(l,t),S?i(e):m}function s(e){var n=t-(e-T);return C?w(n,y-(e-I)):n}function c(e){var n=e-T;return void 0===T||n>=t||n<0||C&&e-I>=y}function l(){var e=E();return c(e)?h(e):void(b=setTimeout(l,s(e)))}function h(e){return b=void 0,k&&v?i(e):(v=g=void 0,m)}function f(){void 0!==b&&clearTimeout(b),I=0,v=T=g=b=void 0}function d(){return void 0===b?m:h(E())}function p(){var e=E(),n=c(e);if(v=arguments,g=this,T=e,n){if(void 0===b)return o(T);if(C)return b=setTimeout(l,t),i(T)}return void 0===b&&(b=setTimeout(l,t)),m}var v,g,y,m,b,T,I=0,S=!1,C=!1,k=!0;if("function"!=typeof e)throw new TypeError(u);return t=a(t)||0,r(n)&&(S=!!n.leading,y=(C="maxWait"in n)?_(a(n.maxWait)||0,t):y,k="trailing"in n?!!n.trailing:k),p.cancel=f,p.flush=d,p}function r(e){var t="undefined"==typeof e?"undefined":s(e);return!!e&&("object"==t||"function"==t)}function i(e){return!!e&&"object"==("undefined"==typeof e?"undefined":s(e))}function o(e){return"symbol"==("undefined"==typeof e?"undefined":s(e))||i(e)&&b.call(e)==l}function a(e){if("number"==typeof e)return e;if(o(e))return c;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(h,"");var n=d.test(e);return n||p.test(e)?v(e.slice(2),n?2:8):f.test(e)?c:+e}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u="Expected a function",c=NaN,l="[object Symbol]",h=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,p=/^0o[0-7]+$/i,v=parseInt,g="object"==("undefined"==typeof t?"undefined":s(t))&&t&&t.Object===Object&&t,y="object"==("undefined"==typeof self?"undefined":s(self))&&self&&self.Object===Object&&self,m=g||y||Function("return this")(),b=Object.prototype.toString,_=Math.max,w=Math.min,E=function(){return m.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){var t=void 0,r=void 0;for(t=0;t<e.length;t+=1){if((r=e[t]).dataset&&r.dataset.aos)return!0;if(r.children&&n(r.children))return!0}return!1}function r(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!r()}function o(e,t){var n=window.document,i=new(r())(a);s=t,i.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach((function(e){var t=Array.prototype.slice.call(e.addedNodes),r=Array.prototype.slice.call(e.removedNodes);if(n(t.concat(r)))return s()}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){};t.default={isSupported:i,ready:o}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,s=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=function(){function e(){n(this,e)}return i(e,[{key:"phone",value:function(){var e=r();return!(!o.test(e)&&!a.test(e.substr(0,4)))}},{key:"mobile",value:function(){var e=r();return!(!s.test(e)&&!u.test(e.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){var r=e.node.getAttribute("data-aos-once");t>e.position?e.node.classList.add("aos-animate"):"undefined"!=typeof r&&("false"===r||!n&&"true"!==r)&&e.node.classList.remove("aos-animate")},r=function(e,t){var r=window.pageYOffset,i=window.innerHeight;e.forEach((function(e,o){n(e,i+r,t)}))};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(12)),o=function(e,t){return e.forEach((function(e,n){e.node.classList.add("aos-init"),e.position=(0,i.default)(e.node,t.offset)})),e};t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(13)),o=function(e,t){var n=0,r=0,o=window.innerHeight,a={offset:e.getAttribute("data-aos-offset"),anchor:e.getAttribute("data-aos-anchor"),anchorPlacement:e.getAttribute("data-aos-anchor-placement")};switch(a.offset&&!isNaN(a.offset)&&(r=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,i.default)(e).top,a.anchorPlacement){case"top-bottom":break;case"center-bottom":n+=e.offsetHeight/2;break;case"bottom-bottom":n+=e.offsetHeight;break;case"top-center":n+=o/2;break;case"bottom-center":n+=o/2+e.offsetHeight;break;case"center-center":n+=o/2+e.offsetHeight/2;break;case"top-top":n+=o;break;case"bottom-top":n+=e.offsetHeight+o;break;case"center-top":n+=e.offsetHeight/2+o}return a.anchorPlacement||a.offset||isNaN(t)||(r=t),n+r};t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e=e||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(e,(function(e){return{node:e}}))};t.default=n}])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BootstrapContext=void 0;var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r};t.BootstrapContext=o.default.createContext({bootstrap4:!1})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PAGINATION_SIZE:5,PAGE_START_INDEX:1,With_FIRST_AND_LAST:!0,SHOW_ALL_PAGE_BTNS:!1,SHOW_TOTAL:!1,PAGINATION_TOTAL:null,FIRST_PAGE_TEXT:"<<",PRE_PAGE_TEXT:"<",NEXT_PAGE_TEXT:">",LAST_PAGE_TEXT:">>",NEXT_PAGE_TITLE:"next page",LAST_PAGE_TITLE:"last page",PRE_PAGE_TITLE:"previous page",FIRST_PAGE_TITLE:"first page",SIZE_PER_PAGE_LIST:[10,25,30,50],HIDE_SIZE_PER_PAGE:!1,HIDE_PAGE_LIST_ONLY_ONE_PAGE:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"backToPrevPage",value:function(){var e=this.props,t=e.currPage,n=e.pageStartIndex;return t-1<n?n:t-1}},{key:"initialState",value:function(){var e=this.calculateTotalPage();return{totalPages:e,lastPage:this.calculateLastPage(e)}}},{key:"calculateTotalPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.currSizePerPage,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.dataSize;return Math.ceil(t/e)}},{key:"calculateLastPage",value:function(e){return this.props.pageStartIndex+e-1}},{key:"calculateFromTo",value:function(){var e=this.props,t=e.dataSize,n=e.currPage,r=e.currSizePerPage,i=e.pageStartIndex,o=Math.abs(a.default.PAGE_START_INDEX-i),s=(n-i)*r;s=0===t?0:s+1;var u=Math.min(r*(n+o),t);return u>t&&(u=t),[s,u]}},{key:"calculatePages",value:function(e,t){var n=this.props,r=n.currPage,i=n.paginationSize,o=n.pageStartIndex,a=n.withFirstAndLast,s=n.firstPageText,u=n.prePageText,c=n.nextPageText,l=n.lastPageText,h=n.alwaysShowAllBtns,f=[],d=e;if(d<=0)return[];var p=Math.max(r-Math.floor(i/2),o);(d=p+i-1)>t&&(p=(d=t)-i+1),h&&(f=a?[s,u]:[u]),p!==o&&e>i&&a&&0===f.length?f=[s,u]:e>1&&0===f.length&&(f=[u]);for(var v=p;v<=d;v+=1)v>=o&&f.push(v);return(h||d<=t&&f.length>1)&&f.push(c),(d!==t&&a||a&&h)&&f.push(l),f}},{key:"calculatePageStatus",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.props,o=i.currPage,a=i.pageStartIndex,s=i.firstPageText,u=i.prePageText,c=i.nextPageText,l=i.lastPageText,h=i.alwaysShowAllBtns,f=function(e){return o===a&&(e===s||e===u)},d=function(e){return o===n&&(e===c||e===l)};return e.filter((function(e){return!!h||!(f(e)||d(e))})).map((function(e){var n=void 0,i=e===o,a=f(e)||d(e);n=e===c?t.props.nextPageTitle:e===u?t.props.prePageTitle:e===s?t.props.firstPageTitle:e===l?t.props.lastPageTitle:""+e;var h={page:e,active:i,disabled:a};return r||(h.title=n),h}))}},{key:"calculateSizePerPageStatus",value:function(){return this.props.sizePerPageList.map((function(e){return{text:""+("undefined"!==typeof e.text?e.text:e),page:"undefined"!==typeof e.value?e.value:e}}))}}]),t}(e)}},function(e,t,n){"use strict";var r=n(93),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);h&&(a=a.concat(h(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=f(n,y);try{c(t,y,m)}catch(b){}}}}return t}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";(function(t){var r=n(18),i=n(102),o=n(50),a={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(51)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(32))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRowByRowId=t.matchRow=void 0;var r,i=n(8),o=(r=i)&&r.__esModule?r:{default:r};var a=t.matchRow=function(e,t){return function(n){return o.default.get(n,e)===t}};t.getRowByRowId=function(e,t,n){return e.find(a(t,n))}},,function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)o.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(8),s=(r=a)&&r.__esModule?r:{default:r};var u=["onClick","onDoubleClick","onMouseEnter","onMouseLeave","onContextMenu","onAuxClick"];t.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createDefaultEventHandler=n.createDefaultEventHandler.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"createDefaultEventHandler",value:function(e){var t=this;return function(n){var r=t.props,i=r.column,o=r.columnIndex,a=r.index;e(n,i,"undefined"!==typeof o?o:a)}}},{key:"delegate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i({},t);return Object.keys(t).forEach((function(r){s.default.contains(u,r)&&(n[r]=e.createDefaultEventHandler(t[r]))})),n}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=h(n(3)),a=h(n(5)),s=h(n(15)),u=h(n(8)),c=h(n(40)),l=n(56);function h(e){return e&&e.__esModule?e:{default:e}}var f=o.default.createContext(),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleRowSelect=function(e,t,r,i){var o=n.props,a=o.data,u=o.keyField,l=o.selectRow,h=l.mode,f=l.onSelect,d=s.default.ROW_SELECT_SINGLE,p=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n.selected)),v=!0;f&&(v=f(c.default.getRowByRowId(a,u,e),t,r,i));!0!==v&&void 0!==v||(h===d?p=[e]:t?p.push(e):p=p.filter((function(t){return t!==e}))),n.selected=p,n.forceUpdate()},n.handleAllRowsSelect=function(e,t){var r=n.props,i=r.data,o=r.keyField,a=r.selectRow,s=a.onSelectAll,l=a.nonSelectable,h=n.selected,f=void 0;f=t?h.filter((function(e){return"undefined"===typeof i.find((function(t){return u.default.get(t,o)===e}))})):h.concat(c.default.selectableKeys(i,o,l));var d=void 0;s&&(d=s(!t,c.default.getSelectedRows(i,o,t?h:f),e),Array.isArray(d)&&(f=d)),n.selected=f,n.forceUpdate()},n.selected=e.selectRow.selected||[],n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getSelected",value:function(){return this.selected}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectRow&&(this.selected=e.selectRow.selected||this.selected)}},{key:"render",value:function(){var e=(0,l.getSelectionSummary)(this.props.data,this.props.keyField,this.selected),t=e.allRowsSelected,n=e.allRowsNotSelected,i=void 0;return i=t?s.default.CHECKBOX_STATUS_CHECKED:n?s.default.CHECKBOX_STATUS_UNCHECKED:s.default.CHECKBOX_STATUS_INDETERMINATE,o.default.createElement(f.Provider,{value:r({},this.props.selectRow,{selected:this.selected,onRowSelect:this.handleRowSelect,onAllRowsSelect:this.handleAllRowsSelect,allRowsSelected:t,allRowsNotSelected:n,checkedStatus:i})},this.props.children)}}]),t}(o.default.Component);d.propTypes={children:a.default.node.isRequired,data:a.default.array.isRequired,keyField:a.default.string.isRequired},t.default={Provider:d,Consumer:f.Consumer}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(34)),o=l(n(56)),a=l(n(130)),s=l(n(131)),u=l(n(132)),c=l(n(133));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.default=r({},i,o,a,s,u,c)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),a=c(n(5)),s=c(n(40)),u=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=o.default.createContext(),p=function(e){function t(){var e,n,r;h(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={expanded:r.props.expandRow.expanded||[],isClosing:r.props.expandRow.isClosing||[]},r.onClosed=function(e){r.setState({isClosing:r.state.isClosing.filter((function(t){return t!==e}))})},r.handleRowExpand=function(e,t,n,i){var o=r.props,a=o.data,c=o.keyField,h=o.expandRow,f=h.onExpand,d=h.onlyOneExpanding,p=h.nonExpandable;if(!p||!u.default.contains(p,e)){var v=[].concat(l(r.state.expanded)),g=[].concat(l(r.state.isClosing));if(t?d?(g=g.concat(v),v=[e]):v.push(e):(g.push(e),v=v.filter((function(t){return t!==e}))),f)f(s.default.getRowByRowId(a,c,e),t,n,i);r.setState((function(){return{expanded:v,isClosing:g}}))}},r.handleAllRowExpand=function(e,t){var n=r.props,i=n.data,o=n.keyField,a=n.expandRow,c=a.onExpandAll,l=a.nonExpandable,h=r.state.expanded,f=void 0;f=t?h.concat(s.default.expandableKeys(i,o,l)):h.filter((function(e){return"undefined"===typeof i.find((function(t){return u.default.get(t,o)===e}))})),c&&c(t,s.default.getExpandedRows(i,o,f),e),r.setState((function(){return{expanded:f}}))},f(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;if(e.expandRow){var n=[].concat(l(e.expandRow.expanded||this.state.expanded)),r=e.expandRow.nonExpandable,i=void 0===r?[]:r;n=n.filter((function(e){return!u.default.contains(i,e)}));var o=this.state.expanded.reduce((function(e,t){return u.default.contains(n,t)||e.push(t),e}),[]);this.setState((function(){return{expanded:n,isClosing:o}}))}else this.setState((function(){return{expanded:t.state.expanded}}))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.keyField;return o.default.createElement(d.Provider,{value:r({},this.props.expandRow,{nonExpandable:this.props.expandRow.nonExpandable,expanded:this.state.expanded,isClosing:this.state.isClosing,onClosed:this.onClosed,isAnyExpands:s.default.isAnyExpands(t,n,this.state.expanded),onRowExpand:this.handleRowExpand,onAllRowExpand:this.handleAllRowExpand})},this.props.children)}}]),t}(o.default.Component);p.propTypes={children:a.default.node.isRequired,data:a.default.array.isRequired,keyField:a.default.string.isRequired},t.default={Provider:p,Consumer:d.Consumer}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&y(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function h(e,t,n,r){var i,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function y(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return h(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return h(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},s.prototype.listenerCount=v,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=u(o),s=u(n(28));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleChangePage=t.handleChangePage.bind(t),t.handleChangeSizePerPage=t.handleChangeSizePerPage.bind(t),t.state=t.initialState(),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.dataSize,n=e.currSizePerPage;if(n!==this.props.currSizePerPage||t!==this.props.dataSize){var r=this.calculateTotalPage(n,t),i=this.calculateLastPage(r);this.setState({totalPages:r,lastPage:i})}}},{key:"handleChangeSizePerPage",value:function(e){var t=this.props,n=t.currSizePerPage,r=t.onSizePerPageChange,i="string"===typeof e?parseInt(e,10):e,o=this.props.currPage;if(i!==n){var a=this.calculateTotalPage(i),s=this.calculateLastPage(a);o>s&&(o=s),r(i,o)}}},{key:"handleChangePage",value:function(e){var t=void 0,n=this.props,r=n.currPage,i=n.pageStartIndex,o=n.prePageText,a=n.nextPageText,s=n.lastPageText,u=n.firstPageText,c=n.onPageChange,l=this.state.lastPage;(t=e===o?this.backToPrevPage():e===a?r+1>l?l:r+1:e===s?l:e===u?i:parseInt(e,10))!==r&&c(t)}},{key:"render",value:function(){return a.default.createElement(e,r({},this.props,{lastPage:this.state.lastPage,totalPages:this.state.totalPages,onPageChange:this.handleChangePage,onSizePerPageChange:this.handleChangeSizePerPage}))}}]),n}((0,s.default)(o.Component))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){return function(t){var n=t.page,r=t.sizePerPage,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["page","sizePerPage"]);return a.default.createElement(e,i({},o,{currPage:n,currSizePerPage:r}))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"CacheProvider",(function(){return Oe})),n.d(t,"ThemeContext",(function(){return Ne})),n.d(t,"ThemeProvider",(function(){return De})),n.d(t,"__unsafe_useEmotionCache",(function(){return Pe})),n.d(t,"useTheme",(function(){return Ae})),n.d(t,"withEmotionCache",(function(){return xe})),n.d(t,"withTheme",(function(){return je})),n.d(t,"ClassNames",(function(){return Ge})),n.d(t,"Global",(function(){return Ve})),n.d(t,"createElement",(function(){return qe})),n.d(t,"css",(function(){return Be})),n.d(t,"jsx",(function(){return qe})),n.d(t,"keyframes",(function(){return ze}));var r=n(3);var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(o){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o="-ms-",a="-moz-",s="-webkit-",u="comm",c="rule",l="decl",h=Math.abs,f=String.fromCharCode;function d(e){return e.trim()}function p(e,t,n){return e.replace(t,n)}function v(e,t){return e.indexOf(t)}function g(e,t){return 0|e.charCodeAt(t)}function y(e,t,n){return e.slice(t,n)}function m(e){return e.length}function b(e){return e.length}function _(e,t){return t.push(e),e}function w(e,t){return e.map(t).join("")}var E=1,T=1,I=0,S=0,C=0,k="";function O(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:E,column:T,length:a,return:""}}function P(e,t,n){return O(e,t.root,t.parent,n,t.props,t.children,0)}function x(){return C=S>0?g(k,--S):0,T--,10===C&&(T=1,E--),C}function N(){return C=S<I?g(k,S++):0,T++,10===C&&(T=1,E++),C}function A(){return g(k,S)}function R(){return S}function D(e,t){return y(k,e,t)}function j(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function L(e){return E=T=1,I=m(k=e),S=0,[]}function M(e){return k="",e}function F(e){return d(D(S-1,V(91===e?e+2:40===e?e+1:e)))}function U(e){for(;(C=A())&&C<33;)N();return j(e)>2||j(C)>3?"":" "}function q(e,t){for(;--t&&N()&&!(C<48||C>102||C>57&&C<65||C>70&&C<97););return D(e,R()+(t<6&&32==A()&&32==N()))}function V(e){for(;N();)switch(C){case e:return S;case 34:case 39:return V(34===e||39===e?e:C);case 40:41===e&&V(e);break;case 92:N()}return S}function B(e,t){for(;N()&&e+C!==57&&(e+C!==84||47!==A()););return"/*"+D(t,S-1)+"*"+f(47===e?e:N())}function z(e){for(;!j(A());)N();return D(e,S)}function K(e){return M(W("",null,null,null,[""],e=L(e),0,[0],e))}function W(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,h=a,d=0,v=0,g=0,y=1,b=1,w=1,E=0,T="",I=i,S=o,C=r,k=T;b;)switch(g=E,E=N()){case 34:case 39:case 91:case 40:k+=F(E);break;case 9:case 10:case 13:case 32:k+=U(g);break;case 92:k+=q(R()-1,7);continue;case 47:switch(A()){case 42:case 47:_(G(B(N(),R()),t,n),u);break;default:k+="/"}break;case 123*y:s[c++]=m(k)*w;case 125*y:case 59:case 0:switch(E){case 0:case 125:b=0;case 59+l:v>0&&m(k)-h&&_(v>32?Q(k+";",r,n,h-1):Q(p(k," ","")+";",r,n,h-2),u);break;case 59:k+=";";default:if(_(C=H(k,t,n,c,l,i,s,T,I=[],S=[],h),o),123===E)if(0===l)W(k,t,C,C,I,o,h,s,S);else switch(d){case 100:case 109:case 115:W(e,C,C,r&&_(H(e,C,C,0,0,i,s,T,i,I=[],h),S),i,S,h,s,r?I:S);break;default:W(k,C,C,C,[""],S,h,s,S)}}c=l=v=0,y=w=1,T=k="",h=a;break;case 58:h=1+m(k),v=g;default:if(y<1)if(123==E)--y;else if(125==E&&0==y++&&125==x())continue;switch(k+=f(E),E*y){case 38:w=l>0?1:(k+="\f",-1);break;case 44:s[c++]=(m(k)-1)*w,w=1;break;case 64:45===A()&&(k+=F(N())),d=A(),l=m(T=k+=z(R())),E++;break;case 45:45===g&&2==m(k)&&(y=0)}}return o}function H(e,t,n,r,i,o,a,s,u,l,f){for(var v=i-1,g=0===i?o:[""],m=b(g),_=0,w=0,E=0;_<r;++_)for(var T=0,I=y(e,v+1,v=h(w=a[_])),S=e;T<m;++T)(S=d(w>0?g[T]+" "+I:p(I,/&\f/g,g[T])))&&(u[E++]=S);return O(e,t,n,0===i?c:s,u,l,f)}function G(e,t,n){return O(e,t,n,u,f(C),y(e,2,-2),0)}function Q(e,t,n,r){return O(e,t,n,l,y(e,0,r),y(e,r+1,-1),r)}function $(e,t){switch(function(e,t){return(((t<<2^g(e,0))<<2^g(e,1))<<2^g(e,2))<<2^g(e,3)}(e,t)){case 5103:return s+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return s+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return s+e+a+e+o+e+e;case 6828:case 4268:return s+e+o+e+e;case 6165:return s+e+o+"flex-"+e+e;case 5187:return s+e+p(e,/(\w+).+(:[^]+)/,s+"box-$1$2"+o+"flex-$1$2")+e;case 5443:return s+e+o+"flex-item-"+p(e,/flex-|-self/,"")+e;case 4675:return s+e+o+"flex-line-pack"+p(e,/align-content|flex-|-self/,"")+e;case 5548:return s+e+o+p(e,"shrink","negative")+e;case 5292:return s+e+o+p(e,"basis","preferred-size")+e;case 6060:return s+"box-"+p(e,"-grow","")+s+e+o+p(e,"grow","positive")+e;case 4554:return s+p(e,/([^-])(transform)/g,"$1"+s+"$2")+e;case 6187:return p(p(p(e,/(zoom-|grab)/,s+"$1"),/(image-set)/,s+"$1"),e,"")+e;case 5495:case 3959:return p(e,/(image-set\([^]*)/,s+"$1$`$1");case 4968:return p(p(e,/(.+:)(flex-)?(.*)/,s+"box-pack:$3"+o+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+s+e+e;case 4095:case 3583:case 4068:case 2532:return p(e,/(.+)-inline(.+)/,s+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(m(e)-1-t>6)switch(g(e,t+1)){case 109:if(45!==g(e,t+4))break;case 102:return p(e,/(.+:)(.+)-([^]+)/,"$1"+s+"$2-$3$1"+a+(108==g(e,t+3)?"$3":"$2-$3"))+e;case 115:return~v(e,"stretch")?$(p(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==g(e,t+1))break;case 6444:switch(g(e,m(e)-3-(~v(e,"!important")&&10))){case 107:return p(e,":",":"+s)+e;case 101:return p(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+s+(45===g(e,14)?"inline-":"")+"box$3$1"+s+"$2$3$1"+o+"$2box$3")+e}break;case 5936:switch(g(e,t+11)){case 114:return s+e+o+p(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return s+e+o+p(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return s+e+o+p(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return s+e+o+e+e}return e}function Y(e,t){for(var n="",r=b(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function X(e,t,n,r){switch(e.type){case"@import":case l:return e.return=e.return||e.value;case u:return"";case c:e.value=e.props.join(",")}return m(n=Y(e.children,r))?e.return=e.value+"{"+n+"}":""}function J(e){return function(t){t.root||(t=t.return)&&e(t)}}var Z=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}};var ee=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},te=function(e,t,n){for(var r=0,i=0;r=i,i=A(),38===r&&12===i&&(t[n]=1),!j(i);)N();return D(e,S)},ne=function(e,t){return M(function(e,t){var n=-1,r=44;do{switch(j(r)){case 0:38===r&&12===A()&&(t[n]=1),e[n]+=te(S-1,t,n);break;case 2:e[n]+=F(r);break;case 4:if(44===r){e[++n]=58===A()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=f(r)}}while(r=N());return e}(L(e),t))},re=new WeakMap,ie=function(e){if("rule"===e.type&&e.parent&&e.length){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||re.get(n))&&!r){re.set(e,!0);for(var i=[],o=ne(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},oe=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ae=[function(e,t,n,r){if(!e.return)switch(e.type){case l:e.return=$(e.value,e.length);break;case"@keyframes":return Y([P(p(e.value,"@","@"+s),e,"")],r);case c:if(e.length)return w(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Y([P(p(t,/:(read-\w+)/,":-moz-$1"),e,"")],r);case"::placeholder":return Y([P(p(t,/:(plac\w+)/,":"+s+"input-$1"),e,""),P(p(t,/:(plac\w+)/,":-moz-$1"),e,""),P(p(t,/:(plac\w+)/,o+"input-$1"),e,"")],r)}return""}))}}],se=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||ae;var o,a,s={},u=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;u.push(e)}));var c=[ie,oe];var l,h=[X,J((function(e){l.insert(e)}))],f=function(e){var t=b(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}(c.concat(r,h));a=function(e,t,n,r){l=n,Y(K(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new i({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:a};return d.sheet.hydrate(u),d},ue=n(9),ce=n(29),le=n.n(ce),he=function(e,t){return le()(e,t)};function fe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var de=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0);i=i.next}while(void 0!==i)}};var pe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},ve={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ge=/[A-Z]|^ms/g,ye=/_EMO_([^_]+?)_([^]*?)_EMO_/g,me=function(e){return 45===e.charCodeAt(1)},be=function(e){return null!=e&&"boolean"!==typeof e},_e=ee((function(e){return me(e)?e:e.replace(ge,"-$&").toLowerCase()})),we=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(ye,(function(e,t,n){return Te={name:t,styles:n,next:Te},t}))}return 1===ve[e]||me(e)||"number"!==typeof t||0===t?t:t+"px"};function Ee(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Te={name:n.name,styles:n.styles,next:Te},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Te={name:r.name,styles:r.styles,next:Te},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ee(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":be(a)&&(r+=_e(o)+":"+we(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Ee(e,t,a);switch(o){case"animation":case"animationName":r+=_e(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)be(a[u])&&(r+=_e(o)+":"+we(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Te,o=n(e);return Te=i,Ee(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var Te,Ie=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Se=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Te=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Ee(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Ee(n,t,e[a]),r&&(i+=o[a]);Ie.lastIndex=0;for(var s,u="";null!==(s=Ie.exec(i));)u+="-"+s[1];return{name:pe(i)+u,styles:i,next:Te}},Ce={}.hasOwnProperty,ke=Object(r.createContext)("undefined"!==typeof HTMLElement?se({key:"css"}):null);var Oe=ke.Provider,Pe=function(){return Object(r.useContext)(ke)},xe=function(e){return Object(r.forwardRef)((function(t,n){var i=Object(r.useContext)(ke);return e(t,i,n)}))},Ne=Object(r.createContext)({});var Ae=function(){return Object(r.useContext)(Ne)},Re=Z((function(e){return Z((function(t){return function(e,t){return"function"===typeof t?t(e):Object(ue.a)({},e,t)}(e,t)}))})),De=function(e){var t=Object(r.useContext)(Ne);return e.theme!==t&&(t=Re(t)(e.theme)),Object(r.createElement)(Ne.Provider,{value:t},e.children)};function je(e){var t=e.displayName||e.name||"Component",n=function(t,n){var i=Object(r.useContext)(Ne);return Object(r.createElement)(e,Object(ue.a)({theme:i,ref:n},t))},i=Object(r.forwardRef)(n);return i.displayName="WithTheme("+t+")",he(i,e)}var Le="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Me=function(e,t){var n={};for(var r in t)Ce.call(t,r)&&(n[r]=t[r]);return n[Le]=e,n},Fe=function(){return null},Ue=xe((function(e,t,n){var i=e.css;"string"===typeof i&&void 0!==t.registered[i]&&(i=t.registered[i]);var o=e[Le],a=[i],s="";"string"===typeof e.className?s=fe(t.registered,a,e.className):null!=e.className&&(s=e.className+" ");var u=Se(a,void 0,Object(r.useContext)(Ne));de(t,u,"string"===typeof o);s+=t.key+"-"+u.name;var c={};for(var l in e)Ce.call(e,l)&&"css"!==l&&l!==Le&&(c[l]=e[l]);c.ref=n,c.className=s;var h=Object(r.createElement)(o,c),f=Object(r.createElement)(Fe,null);return Object(r.createElement)(r.Fragment,null,f,h)}));n(114);var qe=function(e,t){var n=arguments;if(null==t||!Ce.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Ue,o[1]=Me(e,t);for(var a=2;a<i;a++)o[a]=n[a];return r.createElement.apply(null,o)},Ve=xe((function(e,t){var n=e.styles,o=Se([n],void 0,Object(r.useContext)(Ne)),a=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){var e=t.key+"-global",n=new i({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,s=document.querySelector('style[data-emotion="'+e+" "+o.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==s&&(r=!0,s.setAttribute("data-emotion",e),n.hydrate([s])),a.current=[n,r],function(){n.flush()}}),[t]),Object(r.useLayoutEffect)((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==o.next&&de(t,o.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",o,n,!1)}}),[t,o.name]),null}));function Be(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Se(t)}var ze=function(){var e=Be.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ke=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function We(e,t,n){var r=[],i=fe(e,r,n);return r.length<2?n:i+t(r)}var He=function(){return null},Ge=xe((function(e,t){var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Se(n,t.registered);return de(t,i,!1),t.key+"-"+i.name},i={css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return We(t.registered,n,Ke(r))},theme:Object(r.useContext)(Ne)},o=e.children(i);var a=Object(r.createElement)(He,null);return Object(r.createElement)(r.Fragment,null,a,o)}))},function(e,t,n){var r=n(90);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],v=n[2],g=n[3],y=n[4],m=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=p&&p!==v,E="+"===b||"*"===b,T="?"===b||"*"===b,I=n[2]||l,S=y||m;r.push({name:g||o++,prefix:v||"",delimiter:I,optional:T,repeat:E,partial:w,asterisk:!!_,pattern:S?c(S):_?".*":"[^"+u(I)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",h(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var h,f=s[l.name];if(null==f){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(f)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=u(f[d]),!n[c].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");o+=(0===d?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(f),!n[c].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');o+=l.prefix+h}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var f=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+f+d+")*"),a+=d=c.optional?c.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=u(n.delimiter||"/"),v=a.slice(-p.length)===p;return i||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=o?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnToggle=t.CSVExport=t.Search=t.ToolkitContext=void 0;var r=n(165);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return u(r).default}});var i=n(168);Object.defineProperty(t,"CSVExport",{enumerable:!0,get:function(){return u(i).default}});var o=n(170);Object.defineProperty(t,"ColumnToggle",{enumerable:!0,get:function(){return u(o).default}});var a=u(n(69)),s=u(n(178));function u(e){return e&&e.__esModule?e:{default:e}}t.default=s.default;t.ToolkitContext=a.default},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(18);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,n){"use strict";var r=n(18),i=n(103),o=n(104),a=n(49),s=n(105),u=n(108),c=n(109),l=n(52),h=n(31),f=n(33);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,v=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete v["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+_)}var w=s(e.baseURL,e.url);function E(){if(m){var r="getAllResponseHeaders"in m?u(m.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),y()}),(function(e){n(e),y()}),o),m=null}}if(m.open(e.method.toUpperCase(),a(w,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=E:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(E)},m.onabort=function(){m&&(n(l("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(l("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var T=(e.withCredentials||c(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;T&&(v[e.xsrfHeaderName]=T)}"setRequestHeader"in m&&r.forEach(v,(function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete v[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),g&&"json"!==g&&(m.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){m&&(n(!e||e&&e.type?new f("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),m.send(p)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function u(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==u||(n[e]=i)})),n}},function(e,t){e.exports={version:"0.24.0"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedRows=t.unSelectableKeys=t.selectableKeys=t.getSelectionSummary=void 0;var r,i=n(8),o=(r=i)&&r.__esModule?r:{default:r},a=n(34);t.getSelectionSummary=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.length>0,i=!0,a=e.map((function(e){return o.default.get(e,t)})),s=function(e){var t=a[e];"undefined"===typeof n.find((function(e){return e===t}))?r=!1:i=!1},u=0;u<a.length;u+=1)s(u);return{allRowsSelected:r,allRowsNotSelected:i}},t.selectableKeys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length?e.map((function(e){return o.default.get(e,t)})):e.filter((function(e){return!o.default.contains(n,o.default.get(e,t))})).map((function(e){return o.default.get(e,t)}))},t.unSelectableKeys=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return 0===t.length?[]:e.filter((function(e){return o.default.contains(t,e)}))},t.getSelectedRows=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],n=arguments[2];return n.map((function(n){return(0,a.getRowByRowId)(e,t,n)})).filter((function(e){return!!e}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(5)),o=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.renderContent,n=e.selectRow,i=e.expandRow,a=e.cellEl,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["renderContent","selectRow","expandRow","cellEl"]),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.INDICATOR_POSITION_LEFT;return e===o.default.INDICATOR_POSITION_LEFT},c=t()||[];return n&&!0!==n.hideSelectColumn&&(u(n.selectColumnPosition)?c.unshift(r.default.createElement(a,{key:"selection"})):c.push(r.default.createElement(a,{key:"selection"}))),i.showExpandColumn&&(u(i.expandColumnPosition)?c.unshift(r.default.createElement(a,{key:"expansion"})):c.push(r.default.createElement(a,{key:"expansion"}))),r.default.createElement("tr",s,c)};s.propTypes={renderContent:i.default.func.isRequired,cellEl:i.default.string.isRequired,selectRow:i.default.object,expandRow:i.default.object},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(3)),a=u(n(8)),s=u(n(140));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){return c(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return"undefined"===typeof e.shouldUpdate||e.shouldUpdate}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.keyField,i=e.columns,u=e.rowIndex,c=e.editable,l=e.editingRowIdx,h=e.editingColIdx,f=e.onStart,d=e.clickToEdit,p=e.dbclickToEdit,v=e.EditingCellComponent,g=e.tabIndexStart,y=g;return i.map((function(e,i){var m=e.dataField,b=a.default.get(t,m);if(u===l&&i===h)return o.default.createElement(v,{key:b+"-"+i+"-editing",row:t,rowIndex:u,column:e,columnIndex:i});var _=void 0,w={},E=r({},a.default.isFunction(e.attrs)?e.attrs(b,t,u,i):e.attrs);if(e.events){var T=Object.assign({},e.events);Object.keys(Object.assign({},e.events)).forEach((function(e){var n=T[e];T[e]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return n.apply(void 0,r.concat([t,u]))}})),E=r({},E,T)}var I=a.default.isFunction(e.classes)?e.classes(b,t,u,i):e.classes;e.style&&(w=a.default.isFunction(e.style)?e.style(b,t,u,i):e.style,w=Object.assign({},w)||{}),e.title&&(_=a.default.isFunction(e.title)?e.title(b,t,u,i):b,E.title=_),e.align&&(w.textAlign=a.default.isFunction(e.align)?e.align(b,t,u,i):e.align),I&&(E.className=I),a.default.isEmptyObject(w)||(E.style=w);var S=!a.default.isDefined(e.editable)||e.editable;return e.dataField!==n&&c||(S=!1),a.default.isFunction(e.editable)&&(S=e.editable(b,t,u,i)),-1!==g&&(E.tabIndex=y++),o.default.createElement(s.default,r({key:b+"-"+i,row:t,editable:S,rowIndex:u,columnIndex:i,column:e,onStart:f,clickToEdit:d,dbclickToEdit:p},E))}))}}]),t}(o.default.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=s(n(8)),a=s(n(15));function s(e){return e&&e.__esModule?e:{default:e}}var u=["onClick","onDoubleClick","onMouseEnter","onMouseLeave","onContextMenu","onAuxClick"];t.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickNum=0,n.createDefaultEventHandler=n.createDefaultEventHandler.bind(n),n.createClickEventHandler=n.createClickEventHandler.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"createClickEventHandler",value:function(e){var t=this;return function(n){var r=t.props,i=r.row,s=r.selected,u=r.keyField,c=r.selectable,l=r.expandable,h=r.rowIndex,f=r.expanded,d=r.expandRow,p=r.selectRow,v=r.DELAY_FOR_DBCLICK,g=function(){e&&e(n,i,h);var t=o.default.get(i,u);d&&l&&!d.expandByColumnOnly&&(p.mode!==a.default.ROW_SELECT_DISABLED&&p.clickToExpand||p.mode===a.default.ROW_SELECT_DISABLED)&&d.onRowExpand(t,!f,h,n),p.clickToSelect&&c&&p.onRowSelect(t,!s,h,n)};v?(t.clickNum+=1,o.default.debounce((function(){1===t.clickNum&&g(),t.clickNum=0}),v)()):g()}}},{key:"createDefaultEventHandler",value:function(e){var t=this;return function(n){var r=t.props,i=r.row,o=r.rowIndex;e(n,i,o)}}},{key:"delegate",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r({},t);return Object.keys(t).forEach((function(r){o.default.contains(u,r)&&(n[r]=e.createDefaultEventHandler(t[r]))})),n}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(8),a=(r=o)&&r.__esModule?r:{default:r};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldUpdateByCellEditing",value:function(e){return!(!this.props.clickToEdit&&!this.props.dbclickToEdit)&&(e.editingRowIdx===e.rowIndex||this.props.editingRowIdx===e.rowIndex&&null===e.editingRowIdx||this.props.editingRowIdx===e.rowIndex)}},{key:"shouldUpdatedBySelfProps",value:function(e){return this.props.className!==e.className||!a.default.isEqual(this.props.style,e.style)||!a.default.isEqual(this.props.attrs,e.attrs)}},{key:"shouldUpdateByColumnsForSimpleCheck",value:function(e){if(this.props.columns.length!==e.columns.length)return!0;for(var t=0;t<this.props.columns.length;t+=1)if(!a.default.isEqual(this.props.columns[t],e.columns[t]))return!0;return!1}},{key:"shouldUpdatedByNormalProps",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.editable!==e.editable||!a.default.isEqual(this.props.row,e.row)||this.props.columns.length!==e.columns.length}},{key:"shouldUpdateChild",value:function(e){return this.shouldUpdateByCellEditing(e)||this.shouldUpdatedByNormalProps(e)}},{key:"shouldRowContentUpdate",value:function(e){return this.shouldUpdateChild(e)||this.shouldUpdateByColumnsForSimpleCheck(e)}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(3)),s=l(n(42)),u=l(n(27)),c=n(62);function l(e){return e&&e.__esModule?e:{default:e}}var h=a.default.createContext(),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(n),n.handleChangePage=n.handleChangePage.bind(n),n.handleDataSizeChange=n.handleDataSizeChange.bind(n),n.handleChangeSizePerPage=n.handleChangeSizePerPage.bind(n);var r=void 0,o=void 0,a=e.pagination.options,c=a.sizePerPageList||u.default.SIZE_PER_PAGE_LIST;return r="undefined"!==typeof a.page?a.page:"undefined"!==typeof a.pageStartIndex?a.pageStartIndex:u.default.PAGE_START_INDEX,o="undefined"!==typeof a.sizePerPage?a.sizePerPage:"object"===i(c[0])?c[0].value:c[0],n.currPage=r,n.dataSize=a.totalSize,n.currSizePerPage=o,n.dataChangeListener=new s.default,n.dataChangeListener.on("filterChanged",n.handleDataSizeChange),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.pagination.options.custom;(this.isRemotePagination()||t)&&("undefined"!==typeof e.pagination.options.page&&(this.currPage=e.pagination.options.page),"undefined"!==typeof e.pagination.options.sizePerPage&&(this.currSizePerPage=e.pagination.options.sizePerPage),"undefined"!==typeof e.pagination.options.totalSize&&(this.dataSize=e.pagination.options.totalSize))}},{key:"handleDataSizeChange",value:function(e){var t=this.props.pagination.options,n="undefined"===typeof t.pageStartIndex?u.default.PAGE_START_INDEX:t.pageStartIndex;this.currPage=(0,c.alignPage)(e,this.dataSize,this.currPage,this.currSizePerPage,n),this.dataSize=e,this.forceUpdate()}},{key:"handleChangePage",value:function(e){var t=this.currSizePerPage,n=this.props.pagination.options;n.onPageChange&&n.onPageChange(e,t),this.currPage=e,this.isRemotePagination()?this.getPaginationRemoteEmitter().emit("paginationChange",e,t):this.forceUpdate()}},{key:"handleChangeSizePerPage",value:function(e,t){var n=this.props.pagination.options;n.onSizePerPageChange&&n.onSizePerPageChange(e,t),this.currPage=t,this.currSizePerPage=e,this.isRemotePagination()?this.getPaginationRemoteEmitter().emit("paginationChange",t,e):this.forceUpdate()}},{key:"render",value:function(){var e=this.getPaginationProps(),t=r({},this.props.pagination,{options:e});return a.default.createElement(h.Provider,{value:{paginationProps:e,paginationTableProps:{pagination:t,setPaginationRemoteEmitter:this.setPaginationRemoteEmitter,dataChangeListener:this.dataChangeListener}}},this.props.children)}}]),t}(a.default.Component),d=function(){var e=this;this.getPaginationProps=function(){var t=e.props,n=t.pagination.options,i=t.bootstrap4,o=t.tableId,a=e.currPage,s=e.currSizePerPage,c=e.dataSize,l="undefined"===typeof n.withFirstAndLast?u.default.With_FIRST_AND_LAST:n.withFirstAndLast,h="undefined"===typeof n.alwaysShowAllBtns?u.default.SHOW_ALL_PAGE_BTNS:n.alwaysShowAllBtns,f="undefined"===typeof n.hideSizePerPage?u.default.HIDE_SIZE_PER_PAGE:n.hideSizePerPage,d="undefined"===typeof n.hidePageListOnlyOnePage?u.default.HIDE_PAGE_LIST_ONLY_ONE_PAGE:n.hidePageListOnlyOnePage,p="undefined"===typeof n.pageStartIndex?u.default.PAGE_START_INDEX:n.pageStartIndex;return r({},n,{bootstrap4:i,tableId:o,page:a,sizePerPage:s,pageStartIndex:p,hidePageListOnlyOnePage:d,hideSizePerPage:f,alwaysShowAllBtns:h,withFirstAndLast:l,dataSize:c,sizePerPageList:n.sizePerPageList||u.default.SIZE_PER_PAGE_LIST,paginationSize:n.paginationSize||u.default.PAGINATION_SIZE,showTotal:n.showTotal,pageListRenderer:n.pageListRenderer,pageButtonRenderer:n.pageButtonRenderer,sizePerPageRenderer:n.sizePerPageRenderer,paginationTotalRenderer:n.paginationTotalRenderer,sizePerPageOptionRenderer:n.sizePerPageOptionRenderer,firstPageText:n.firstPageText||u.default.FIRST_PAGE_TEXT,prePageText:n.prePageText||u.default.PRE_PAGE_TEXT,nextPageText:n.nextPageText||u.default.NEXT_PAGE_TEXT,lastPageText:n.lastPageText||u.default.LAST_PAGE_TEXT,prePageTitle:n.prePageTitle||u.default.PRE_PAGE_TITLE,nextPageTitle:n.nextPageTitle||u.default.NEXT_PAGE_TITLE,firstPageTitle:n.firstPageTitle||u.default.FIRST_PAGE_TITLE,lastPageTitle:n.lastPageTitle||u.default.LAST_PAGE_TITLE,onPageChange:e.handleChangePage,onSizePerPageChange:e.handleChangeSizePerPage})},this.setPaginationRemoteEmitter=function(t){e.remoteEmitter=t},this.getPaginationRemoteEmitter=function(){return e.remoteEmitter||e.props.remoteEmitter},this.isRemotePagination=function(){var t={};return e.remoteEmitter.emit("isRemotePagination",t),t.result}};t.default=function(){return{Provider:f,Consumer:h.Consumer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getByCurrPage=t.alignPage=void 0;var r,i=n(27),o=(r=i)&&r.__esModule?r:{default:r};var a=function(e,t,n){return function(e,t){return e+Math.abs(1-t)}(e,n)*t-1};t.alignPage=function(e,t,n,r,i){return t<e?n:n<i||e<=0?i:n>=Math.floor(e/r)+i&&1===i?Math.ceil(e/r):n>=Math.floor(e/r)&&0===i?Math.ceil(e/r)-Math.abs(o.default.PAGE_START_INDEX-i):n},t.getByCurrPage=function(e,t,n,r){var i=e.length;if(!i)return[];for(var o=a(t,n,r),s=function(e,t){return e-(t-1)}(o,n),u=[],c=s;c<=o&&(u.push(e[c]),c+1!==i);c+=1);return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizePerPageDropdownWithAdapter=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=c(o),s=c(n(28)),u=c(n(64));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.closeDropDown=t.closeDropDown.bind(t),t.toggleDropDown=t.toggleDropDown.bind(t),t.handleChangeSizePerPage=t.handleChangeSizePerPage.bind(t),t.state={dropdownOpen:!1},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"toggleDropDown",value:function(){var e=!this.state.dropdownOpen;this.setState((function(){return{dropdownOpen:e}}))}},{key:"closeDropDown",value:function(){this.setState((function(){return{dropdownOpen:!1}}))}},{key:"handleChangeSizePerPage",value:function(e){this.props.onSizePerPageChange(e),this.closeDropDown()}},{key:"render",value:function(){var t=this.props,n=t.tableId,i=t.bootstrap4,o=t.sizePerPageList,s=t.currSizePerPage,u=t.hideSizePerPage,c=t.sizePerPageRenderer,l=t.sizePerPageOptionRenderer,h=this.state.dropdownOpen;return o.length>1&&!u?c?c({options:this.calculateSizePerPageStatus(),currSizePerPage:""+s,onSizePerPageChange:this.handleChangeSizePerPage}):a.default.createElement(e,r({},this.props,{currSizePerPage:""+s,options:this.calculateSizePerPageStatus(),optionRenderer:l,onSizePerPageChange:this.handleChangeSizePerPage,onClick:this.toggleDropDown,onBlur:this.closeDropDown,open:h,tableId:n,bootstrap4:i})):null}}]),n}((0,s.default)(o.Component))};t.SizePerPageDropdownWithAdapter=l(u.default);t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(3)),o=u(n(20)),a=u(n(5)),s=u(n(159));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.open,n=e.tableId,a=e.hidden,u=e.onClick,c=e.onBlur,l=e.options,h=e.className,f=e.variation,d=e.bootstrap4,p=e.btnContextual,v=e.optionRenderer,g=e.currSizePerPage,y=e.onSizePerPageChange,m={visibility:a?"hidden":"visible"},b=t?"open show":"",_=(0,o.default)(b,"react-bs-table-sizePerPage-dropdown",f,h),w=n?n+"-pageDropDown":"pageDropDown";return i.default.createElement("span",{style:m,className:_},i.default.createElement("button",{id:w,type:"button",className:"btn "+p+" dropdown-toggle","data-toggle":"dropdown","aria-expanded":t,onClick:u,onBlur:c},g," ",d?null:i.default.createElement("span",null,i.default.createElement("span",{className:"caret"}))),i.default.createElement("ul",{className:"dropdown-menu "+b,role:"menu","aria-labelledby":w},l.map((function(e){return v?v(r({},e,{onSizePerPageChange:y})):i.default.createElement(s.default,r({},e,{key:e.text,bootstrap4:d,onSizePerPageChange:y}))}))))};c.propTypes={currSizePerPage:a.default.string.isRequired,options:a.default.array.isRequired,onClick:a.default.func.isRequired,onBlur:a.default.func.isRequired,onSizePerPageChange:a.default.func.isRequired,bootstrap4:a.default.bool,tableId:a.default.string,open:a.default.bool,hidden:a.default.bool,btnContextual:a.default.string,variation:a.default.oneOf(["dropdown","dropup"]),className:a.default.string,optionRenderer:a.default.func},c.defaultProps={open:!1,hidden:!1,btnContextual:"btn-default btn-secondary",variation:"dropdown",className:"",optionRenderer:null,bootstrap4:!1,tableId:null},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationListWithAdapter=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=u(i),a=u(n(28)),s=u(n(66));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return function(t){function n(){return c(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"render",value:function(){var t=this.props,n=t.lastPage,r=t.totalPages,i=t.pageButtonRenderer,a=t.onPageChange,s=t.disablePageTitle,u=t.hidePageListOnlyOnePage,c=this.calculatePageStatus(this.calculatePages(r,n),n,s);return 1===r&&u?null:o.default.createElement(e,{pageButtonRenderer:i,onPageChange:a,pages:c})}}]),n}((0,a.default)(i.Component))};t.PaginationListWithAdapter=h(s.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(3)),o=s(n(5)),a=s(n(160));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){return i.default.createElement("ul",{className:"pagination react-bootstrap-table-page-btns-ul"},e.pages.map((function(t){return e.pageButtonRenderer?e.pageButtonRenderer(r({},t,{onPageChange:e.onPageChange})):i.default.createElement(a.default,r({key:t.page},t,{onPageChange:e.onPageChange}))})))};u.propTypes={pages:o.default.arrayOf(o.default.shape({page:o.default.oneOfType([o.default.node,o.default.number,o.default.string]),active:o.default.bool,disable:o.default.bool,title:o.default.string})).isRequired,onPageChange:o.default.func.isRequired,pageButtonRenderer:o.default.func},u.defaultProps={pageButtonRenderer:null},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationTotalWithAdapter=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=c(o),s=c(n(28)),u=c(n(68));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){return function(t){function n(){return l(this,n),h(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"render",value:function(){var t=this.calculateFromTo(),n=r(t,2),i=n[0],o=n[1];return a.default.createElement(e,{from:i,to:o,dataSize:this.props.dataSize,paginationTotalRenderer:this.props.paginationTotalRenderer})}}]),n}((0,s.default)(o.Component))};t.PaginationTotalWithAdapter=f(u.default);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return e.paginationTotalRenderer?e.paginationTotalRenderer(e.from,e.to,e.dataSize):r.default.createElement("span",{className:"react-bootstrap-table-pagination-total"},"\xa0Showing rows ",e.from," to\xa0",e.to," of\xa0",e.dataSize)};a.propTypes={from:i.default.number.isRequired,to:i.default.number.isRequired,dataSize:i.default.number.isRequired,paginationTotalRenderer:i.default.func},a.defaultProps={paginationTotalRenderer:void 0},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(3)),s=l(n(5)),u=l(n(172)),c=l(n(177));function l(e){return e&&e.__esModule?e:{default:e}}var h=a.default.createContext(),f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r={};return n._=null,n.onClear=n.onClear.bind(n),n.onSearch=n.onSearch.bind(n),n.onColumnToggle=n.onColumnToggle.bind(n),n.setDependencyModules=n.setDependencyModules.bind(n),e.columnToggle&&(r.columnToggle=e.columns.reduce((function(e,t){return e[t.dataField]=!t.hidden,e}),{})),r.searchText="object"===i(e.search)&&e.search.defaultSearch||"",n.state=r,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.state.columnToggle;t=e.columnToggle?e.columns.reduce((function(e,t){return e[t.dataField]=!t.hidden,e}),{}):null,this.setState(r({},this.state,{columnToggle:t}))}},{key:"onSearch",value:function(e){e!==this.state.searchText&&this.setState({searchText:e})}},{key:"onClear",value:function(){this.setState({searchText:""})}},{key:"onColumnToggle",value:function(e){var t=this.state.columnToggle;t[e]=!t[e],this.setState(r({},this.state,{columnToggle:t}))}},{key:"setDependencyModules",value:function(e){this._=e}},{key:"render",value:function(){var e={keyField:this.props.keyField,columns:this.props.columns,data:this.props.data,bootstrap4:this.props.bootstrap4,setDependencyModules:this.setDependencyModules,registerExposedAPI:this.registerExposedAPI};return this.props.search&&(e.search={searchContext:(0,c.default)(this.props.search),searchText:this.state.searchText}),this.props.columnToggle&&(e.columnToggle={toggles:this.state.columnToggle}),a.default.createElement(h.Provider,{value:{searchProps:{searchText:this.state.searchText,onSearch:this.onSearch,onClear:this.onClear},csvProps:{onExport:this.handleExportCSV},columnToggleProps:{columns:this.props.columns,toggles:this.state.columnToggle,onColumnToggle:this.onColumnToggle},baseProps:e}},this.props.children)}}]),t}((0,u.default)(a.default.Component));f.propTypes={keyField:s.default.string.isRequired,data:s.default.array.isRequired,columns:s.default.array.isRequired,children:s.default.node.isRequired,bootstrap4:s.default.bool,search:s.default.oneOfType([s.default.bool,s.default.shape({defaultSearch:s.default.string,searchFormatted:s.default.bool})]),exportCSV:s.default.oneOfType([s.default.bool,s.default.shape({fileName:s.default.string,separator:s.default.string,ignoreHeader:s.default.bool,ignoreFooter:s.default.bool,noAutoBOM:s.default.bool,blobType:s.default.string,exportAll:s.default.bool,onlyExportFiltered:s.default.bool,onlyExportSelection:s.default.bool})])},f.defaultProps={search:!1,exportCSV:!1,bootstrap4:!1},t.default={Provider:f,Consumer:h.Consumer}},function(e,t,n){"use strict";(function(e){var t=n(4);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof e&&e,t];for(var n=0;n<t.length;++n){var r=t[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,t){if(t){var n=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in n||(n[a]={}),n=n[a]}(t=t(o=n[e=e[e.length-1]]))!=o&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function f(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==d(e)}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,m)&&e[m]||(e[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function T(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var I=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function k(e,t,n){this.code=x+e,this.message=t||N[e]||"",this.a=n||null}function O(e){var t=e&&e.code;return t?new k(t.substring(x.length),e.message,e.serverResponse):null}S(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var P,x="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function j(e){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");j.call(this,n+e[r])}function M(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function F(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function q(){this.b=this.a=null}P=R("__EID__")?"__EID__":void 0,S(j,Error),j.prototype.name="CustomError",S(L,j),L.prototype.name="AssertionError",F.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new F((function(){return new z}),(function(e){e.reset()}));function B(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function z(){this.next=this.b=this.a=null}q.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},z.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},Q=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function $(e,t){return 0<=K(e,t)}function Y(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function Z(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee,te=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},ne=/&/g,re=/</g,ie=/>/g,oe=/"/g,ae=/'/g,se=/\x00/g,ue=/[\x00&<>"']/;function ce(e,t){return-1!=e.indexOf(t)}function le(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var fe=he.userAgent;if(fe){ee=fe;break e}}ee=""}function de(e){return ce(ee,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ve(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(g(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Ie&&t||"",this.b=Te}function we(e){return e instanceof _e&&e.constructor===_e&&e.b===Te?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var Ee,Te={},Ie={};function Se(){if(void 0===Ee){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){u.console&&u.console.error(n.message)}Ee=e}else Ee=e}return Ee}function Ce(e,t){this.a=t===Ne?e:""}function ke(e){return e instanceof Ce&&e.constructor===Ce?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Oe(e,t){var n=we(e);if(!xe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Se();return new Ce(e=t?t.createScriptURL(e):e,Ne)}(e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?we(e):encodeURIComponent(String(e))})))}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,xe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ne={};function Ae(e,t){this.a=t===Ue?e:""}function Re(e){return e instanceof Ae&&e.constructor===Ae?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Ae.prototype.ta=!0,Ae.prototype.sa=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,je=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Me(e){if(e instanceof Ae)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Ae(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(je);e=t&&De.test(t[1])?new Ae(e,Ue):null}return e}function Fe(e){return e instanceof Ae?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Ae(e,Ue))}var Ue={},qe=new Ae("about:invalid#zClosurez",Ue);function Ve(e,t,n){this.a=n===Be?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Be={};function ze(e,t,n,r){return e=e instanceof Ae?e:Fe(e),t=t||u,n=n instanceof _e?we(n):n||"",t.open(Re(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ue.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(ne,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(re,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(ie,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(oe,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ae,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=f;var Ge,Qe=de("Opera"),$e=de("Trident")||de("MSIE"),Ye=de("Edge"),Xe=Ye||$e,Je=de("Gecko")&&!(ce(ee.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),Ze=ce(ee.toLowerCase(),"webkit")&&!de("Edge");function et(){var e=u.document;return e?e.documentMode:void 0}e:{var tt="",nt=function(){var e=ee;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Ye?/Edge\/([\d\.]+)/.exec(e):$e?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Ze?/WebKit\/(\S+)/.exec(e):Qe?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(nt&&(tt=nt?nt[1]:""),$e){var rt=et();if(null!=rt&&rt>parseFloat(tt)){Ge=String(rt);break e}}Ge=tt}var it,ot={};function at(e){return function(e,t){var n=ot;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=te(String(Ge)).split("."),r=te(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=le(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||le(0==a[2].length,0==s[2].length)||le(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&$e){var st=et();it=st||(parseInt(Ge,10)||void 0)}else it=void 0;var ut=it;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(fa){}var ct=!$e||9<=Number(ut);function lt(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ht(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:pt.hasOwnProperty(n)?e.setAttribute(pt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ft,dt,pt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function vt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||g(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(g(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(v(o)){a="function"==typeof o.item;break e}}a=!1}W(a?Z(o):o,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){u.setTimeout((function(){throw e}),0)}function mt(e,t){dt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);dt=function(){e.then(wt)}}else dt=function(){var e=wt;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!de("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ft||(ft=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!de("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!de("Trident")&&!de("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ft(e)):u.setImmediate(e)}}(),bt||(dt(),bt=!0),_t.add(e,t)}var bt=!1,_t=new q;function wt(){for(var e;e=B();){try{e.a.call(e.b)}catch(t){yt(t)}U(V,e)}bt=!1}function Et(e,t){if(this.a=Tt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,(function(e){Lt(n,It,e)}),(function(e){if(!(e instanceof zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Lt(n,St,e)}))}catch(r){Lt(this,St,r)}}var Tt=0,It=2,St=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var kt=new F((function(){return new Ct}),(function(e){e.reset()}));function Ot(e,t,n){var r=kt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof Et)return e;var t=new Et(f);return Lt(t,It,e),t}function xt(e){return new Et((function(t,n){n(e)}))}function Nt(e,t,n){Mt(e,t,n,null)||mt(T(t,e))}function At(e){return new Et((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],T(i,o,!0),T(i,o,!1));else t(r)}))}function Rt(e,t){if(e.a==Tt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Tt&&1==r?Rt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ut(n),qt(n,i,St,t)))}e.c=null}else Lt(e,St,t)}function Dt(e,t){e.b||e.a!=It&&e.a!=St||Ft(e),e.f?e.f.next=t:e.b=t,e.f=t}function jt(e,t,n,r){var i=Ot(null,null,null);return i.a=new Et((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof zt?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Dt(e,i),i.a}function Lt(e,t,n){e.a==Tt&&(e===n&&(t=St,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Mt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ft(e),t!=St||n instanceof zt||function(e,t){e.g=!0,mt((function(){e.g&&Bt.call(null,t)}))}(e,n)))}function Mt(e,t,n,r){if(e instanceof Et)return Dt(e,Ot(t||f,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(g(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ft(e){e.h||(e.h=!0,mt(e.gc,e))}function Ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function qt(e,t,n,r){if(n==St&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(i){Bt.call(null,i)}U(kt,t)}function Vt(e,t,n){t==It?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}Et.prototype.then=function(e,t,n){return jt(this,v(e)?e:null,v(t)?t:null,n)},Et.prototype.$goog_Thenable=!0,(n=Et.prototype).oa=function(e,t){return(e=Ot(e,e,t)).c=!0,Dt(this,e),this},n.o=function(e,t){return jt(this,null,e,t)},n.cancel=function(e){if(this.a==Tt){var t=new zt(e);mt((function(){Rt(this,t)}),this)}},n.$c=function(e){this.a=Tt,Lt(this,It,e)},n.ad=function(e){this.a=Tt,Lt(this,St,e)},n.gc=function(){for(var e;e=Ut(this);)qt(this,e,this.a,this.i);this.h=!1};var Bt=yt;function zt(e){j.call(this,e)}function Kt(){0!=Wt&&(Ht[y(this)]=this),this.ya=this.ya,this.pa=this.pa}S(zt,j),zt.prototype.name="cancel";var Wt=0,Ht={};function Gt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=y(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Qt=Object.freeze||function(e){return e},$t=!$e||9<=Number(ut),Yt=$e&&!at("9"),Xt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",f,t),u.removeEventListener("test",f,t)}catch(n){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Zt(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:en[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Zt,Jt);var en=Qt({2:"touch",3:"pen",4:"mouse"});Zt.prototype.preventDefault=function(){Zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Zt.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++nn,this.wa=this.Qa=!1}function on(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function an(e){this.src=e,this.a={},this.b=0}function sn(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(on(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function un(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}an.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=un(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new rn(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(e,t,n,r,i){if(r&&r.once)dn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=En(n),e&&e[tn]?In(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!1,r,i)}function fn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=_n(e);if(s||(e[cn]=s=new an(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=bn,t=$t?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function dn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=En(n),e&&e[tn]?Sn(e,t,n,g(r)?!!r.capture:!!r,i):fn(e,t,n,!0,r,i)}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=En(n),e&&e[tn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=un(o=e.a[t],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=un(t,n,r,i)),(n=-1<e?t[e]:null)&&vn(n))}function vn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tn])sn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(sn(n,e),0==n.b&&(n.src=null,t[cn]=null)):on(e)}}}function gn(e){return e in ln?ln[e]:ln[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&vn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!$t){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Zt(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return mn(e,new Zt(t,this))}function _n(e){return(e=e[cn])instanceof an?e:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(e){return v(e)?e:(e[wn]||(e[wn]=function(t){return e.handleEvent(t)}),e[wn])}function Tn(){Kt.call(this),this.v=new an(this),this.bc=this,this.hb=null}function In(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Sn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function kn(e,t,n){if(v(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function On(e){var t=null;return new Et((function(n,r){-1==(t=kn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Pn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function xn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function An(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Rn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Rn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Rn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}S(Tn,Kt),Tn.prototype[tn]=!0,Tn.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},Tn.prototype.removeEventListener=function(e,t,n,r){pn(this,e,t,n,r)},Tn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;me(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)on(n[r]);delete t.a[e],t.b--}}this.hb=null},(n=Nn.prototype).X=function(){An(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},n.Y=function(){return An(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(e,t){return Rn(this.b,e)?this.b[e]:t},n.set=function(e,t){Rn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},n.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Mn(this,e.g),this.f=e.f,Fn(this,rr(e.b)),this.h=e.h):e&&(n=String(e).match(Dn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=zn(n[2]||""),this.a=zn(n[3]||"",!0),Mn(this,n[4]),this.f=zn(n[5]||"",!0),Fn(this,n[6]||"",!0),this.h=zn(n[7]||"")):(this.i=!!t,this.b=new Xn(null,this.i))}function Ln(e,t,n){e.c=n?zn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Mn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Fn(e,t,n){t instanceof Xn?(e.b=t,function(e,t){t&&!e.f&&(Jn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(er(this,t),nr(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Kn(t,$n)),e.b=new Xn(t,e.i))}function Un(e,t,n){e.b.set(t,n)}function qn(e,t){return e.b.get(t)}function Vn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function Bn(e,t,n,r){var i=new jn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Mn(i,n),r&&(i.f=r),i}function zn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Kn(t,Hn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Kn(t,Hn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kn(n,"/"==n.charAt(0)?Qn:Gn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Kn(n,Yn)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Mn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ce(i,"./")||ce(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Fn(t,rr(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Hn=/[#\/\?@]/g,Gn=/[#\?:]/g,Qn=/[#\?]/g,$n=/[#\?@]/g,Yn=/#/g;function Xn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jn(e){e.a||(e.a=new Nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zn(e){var t=xn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Xn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function er(e,t){Jn(e),t=ir(e,t),Rn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Rn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&An(e)))}function tr(e,t){return Jn(e),t=ir(e,t),Rn(e.a.b,t)}function nr(e,t,n){er(e,t),0<n.length&&(e.c=null,e.a.set(ir(e,t),Z(n)),e.b+=n.length)}function rr(e){var t=new Xn;return t.c=e.c,e.a&&(t.a=new Nn(e.a),t.b=e.b),t}function ir(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function or(e){var t=[];return sr(new ar,e,t),t.join("")}function ar(){}function sr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),sr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),lr(r,n),n.push(":"),sr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":lr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(n=Xn.prototype).add=function(e,t){Jn(this),this.c=null,e=ir(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(e,t){Jn(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},n.Y=function(){Jn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},n.X=function(e){Jn(this);var t=[];if("string"===typeof e)tr(this,e)&&(t=J(t,this.a.get(ir(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},n.set=function(e,t){return Jn(this),this.c=null,tr(this,e=ir(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},n.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(e,t){t.push('"',e.replace(cr,(function(e){var t=ur[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),ur[e]=t),t})),'"')}function hr(){var e=Nr();return $e&&!!ut&&11==ut||/Edge\/\d+/.test(e)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(e,t){t=t||u.window;var n="about:blank";e&&(n=Re(Me(e)||qe)),t.location.href=n}function pr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<pr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function vr(e){return!!((e=(e||Nr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function gr(e){e=e||u.window;try{e.close()}catch(t){}}function yr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(t.target=r,ce(n,"crios/")&&(t.target="_blank")),Or(Nr())==Cr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:Me("undefined"!=typeof n.href?n.href:String(n))||qe,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof Ae?t:Fe(t),a.href=Re(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=ze("",r,n,a),e=Re(t),a&&(Xe&&ce(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new Ve(e=(r=Se())?r.createHTML(e):e,null,Be),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function _r(){var e=null;return new Et((function(t){"complete"==u.document.readyState?t():(e=function(){t()},dn(window,"load",e))})).o((function(t){throw pn(window,"load",e),t}))}function wr(e){return e=e||Nr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return t.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":t.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Sr(){var e=Ir();return"ReactNative"===e||"Node"===e}var Cr="Firefox",kr="Chrome";function Or(e){var t=e.toLowerCase();return ce(t,"opera/")||ce(t,"opr/")||ce(t,"opios/")?"Opera":ce(t,"iemobile")?"IEMobile":ce(t,"msie")||ce(t,"trident/")?"IE":ce(t,"edge/")?"Edge":ce(t,"firefox/")?Cr:ce(t,"silk/")?"Silk":ce(t,"blackberry")?"Blackberry":ce(t,"webos")?"Webos":!ce(t,"safari/")||ce(t,"chrome/")||ce(t,"crios/")||ce(t,"android")?!ce(t,"chrome/")&&!ce(t,"crios/")||ce(t,"edge/")?ce(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":kr:"Safari"}var Pr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function xr(e,t){t=t||[];var n,r=[],i={};for(n in Pr)i[Pr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Or(i=Nr()):"Worker"===r&&(r=Or(i=Nr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function Ar(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Rr(){try{var e=u.localStorage,t=Vr();if(e)return e.setItem(t,"1"),e.removeItem(t),!hr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Dr(){return(jr()||"chrome-extension:"===Lr()||wr())&&!Sr()&&Rr()&&!Tr()}function jr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(e){return!vr(e=e||Nr())&&Or(e)!=Cr}function Fr(e){return"undefined"===typeof e?null:or(e)}function Ur(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function qr(e){if(null!==e)return JSON.parse(e)}function Vr(e){return e||Math.floor(1e9*Math.random()).toString()}function Br(e){return"Safari"!=Or(e=e||Nr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function zr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Kr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Nr(),t=Ir(),this.b=vr(e)||"ReactNative"===t}function Wr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Hr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Gr(){return!(!Ar("fireauth.oauthhelper",u)&&!Ar("fireauth.iframe",u))}Kr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!jr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qr,$r={};function Yr(e){$r[e]||($r[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Xr={};Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Xr,"abcd",{configurable:!0,enumerable:!0,value:2}),Qr=2==Xr.abcd}catch(fa){Qr=!1}function Jr(e,t,n){Qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Zr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Jr(e,n,t[n])}function ei(e){var t={};return Zr(t,e),t}function ti(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Jr(t,n,ti(e[n]));return t}function ni(e){var t=e&&(e[si]?"phone":null);if(!(t&&e&&e[ai]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Jr(this,"uid",e[ai]),Jr(this,"displayName",e[ii]||null);var n=null;e[oi]&&(n=new Date(e[oi]).toUTCString()),Jr(this,"enrollmentTime",n),Jr(this,"factorId",t)}function ri(e){try{var t=new ui(e)}catch(n){t=null}return t}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(e){ni.call(this,e),Jr(this,"phoneNumber",e[si])}function ci(e){var t={},n=e[di],r=e[vi],i=e[gi];if(e=ri(e[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!e)throw Error("Invalid checkActionCode response!");i==fi?(t[mi]=n||null,t[_i]=n||null,t[yi]=r):(t[mi]=r||null,t[_i]=r||null,t[yi]=n||null),t[bi]=e||null,Jr(this,Ei,i),Jr(this,wi,ti(t))}S(ui,ni),ui.prototype.w=function(){var e=ui.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",gi="requestType",yi="email",mi="fromEmail",bi="multiFactorInfo",_i="previousEmail",wi="data",Ei="operation";function Ti(e){var t=qn(e=Vn(e),Ii)||null,n=qn(e,Si)||null,r=qn(e,Oi)||null;if(r=r&&xi[r]||null,!t||!n||!r)throw new k("argument-error",Ii+", "+Si+"and "+Oi+" are required in a valid action code URL.");Zr(this,{apiKey:t,operation:r,code:n,continueUrl:qn(e,Ci)||null,languageCode:qn(e,ki)||null,tenantId:qn(e,Pi)||null})}var Ii="apiKey",Si="oobCode",Ci="continueUrl",ki="languageCode",Oi="mode",Pi="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Ni(e){try{return new Ti(e)}catch(t){return null}}function Ai(e){var t=e[Mi];if("undefined"===typeof t)throw new k("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ri];if(n&&"object"===typeof n){t=n[qi];var r=n[Fi];if(n=n[Ui],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new k("argument-error",Fi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new k("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new k("argument-error",qi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new k("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new k("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(t=e[Li])&&"object"===typeof t){if("string"===typeof(t=t[Vi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new k("argument-error",Vi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new k("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ji])&&"boolean"!==typeof t)throw new k("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Di])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new k("argument-error",Di+" property must be a non empty string when specified.");this.i=e||null}var Ri="android",Di="dynamicLinkDomain",ji="handleCodeInApp",Li="iOS",Mi="url",Fi="installApp",Ui="minimumVersion",qi="packageName",Vi="bundleId";function Bi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var zi=null;function Ki(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=zi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!zi){zi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===zi[o]&&(zi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Wi(e){var t=Gi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Hi(e){try{return new Wi(e)}catch(t){return null}}function Gi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ki(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(u){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var Qi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Yi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$i},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$i},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$i},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Qi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Xi(e){for(var t in Yi)if(Yi[t].fa==e)return Yi[t];return null}function Ji(e){var t={};t["facebook.com"]=ro,t["google.com"]=oo,t["github.com"]=io,t["twitter.com"]=ao;var n=e&&e[eo];try{if(n)return t[n]?new t[n](e):new no(e);if("undefined"!==typeof e[Zi])return new to(e)}catch(r){}return null}var Zi="idToken",eo="providerId";function to(e){var t=e[eo];if(!t&&e[Zi]){var n=Hi(e[Zi]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Jr(this,"providerId",t),Jr(this,"isNewUser",n)}function no(e){to.call(this,e),Jr(this,"profile",ti((e=qr(e.rawUserInfo||"{}"))||{}))}function ro(e){if(no.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(e){if(no.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",this.profile&&this.profile.login||null)}function oo(e){if(no.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(no.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Jr(this,"username",e.screenName||null)}function so(e){var t=Vn(e),n=qn(t,"link"),r=qn(Vn(n),"link");return t=qn(t,"deep_link_id"),qn(Vn(t),"link")||t||r||n||e}function uo(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?co:lo}S(no,to),S(ro,no),S(io,no),S(oo,no),S(ao,no);var co="enroll",lo="signin";function ho(){}function fo(e,t){return e.then((function(e){if(e[ns]){var n=Hi(e[ns]);if(!n||t!=n.i)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==x+"user-not-found"?new k("user-mismatch"):e}))}function po(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Jr(this,"providerId",e),Jr(this,"signInMethod",e)}function vo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function go(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new po(e.providerId,e.pendingToken)}catch(t){}return null}function yo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Jr(this,"idToken",t.idToken),t.accessToken&&Jr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Jr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Jr(this,"accessToken",t.oauthToken),Jr(this,"secret",t.oauthTokenSecret)}Jr(this,"providerId",e),Jr(this,"signInMethod",n)}function mo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function bo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new yo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function _o(e,t){this.Qc=t||[],Zr(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Xi(e)||{}).Ja||null,this.pb=null}function wo(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');_o.call(this,e,[])}function Eo(e){_o.call(this,e,$i),this.a=[]}function To(){Eo.call(this,"facebook.com")}function Io(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function So(){Eo.call(this,"github.com")}function Co(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return g(e)&&(t=e.accessToken),(new So).credential({accessToken:t})}function ko(){Eo.call(this,"google.com"),this.Ca("profile")}function Oo(e,t){var n=e;return g(e)&&(n=e.idToken,t=e.accessToken),(new ko).credential({idToken:n,accessToken:t})}function Po(){_o.call(this,"twitter.com",Qi)}function xo(e,t){var n=e;if(g(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new yo("twitter.com",n,"twitter.com")}function No(e,t,n){this.a=e,this.f=t,Jr(this,"providerId","password"),Jr(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Ao(e){return e&&e.email&&e.password?new No(e.email,e.password,e.signInMethod):null}function Ro(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Do(e,t){if(!(t=jo(t)))throw new k("argument-error","Invalid email link!");return new No(e,t.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function jo(e){return(e=Ni(e=so(e)))&&e.operation===hi?e:null}function Lo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new k("internal-error");this.a=e,Jr(this,"providerId","phone"),this.fa="phone",Jr(this,"signInMethod","phone")}function Mo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Lo(t)}return null}function Fo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Uo(e){try{this.a=e||t.default.auth()}catch(n){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function qo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Lo({fb:e,eb:t})}function Vo(e){if(e.temporaryProof&&e.phoneNumber)return new Lo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Oo(o,n);case"facebook.com":return Io(n);case"github.com":return Co(n);case"twitter.com":return xo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new po(t,a):new yo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new Eo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Bo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function zo(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Ko(e){return(e=e||{}).type?new zo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&O(e.error),e.postBody,e.tenantId):null}function Wo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},po.prototype.ka=function(e){return Is(e,vo(this))},po.prototype.b=function(e,t){var n=vo(this);return n.idToken=t,Ss(e,n)},po.prototype.c=function(e,t){return fo(Cs(e,vo(this)),t)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},yo.prototype.ka=function(e){return Is(e,mo(this))},yo.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Ss(e,n)},yo.prototype.c=function(e,t){return fo(Cs(e,mo(this)),t)},yo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},_o.prototype.Ka=function(e){return this.Jb=ge(e),this},S(wo,_o),S(Eo,_o),Eo.prototype.Ca=function(e){return $(this.a,e)||this.a.push(e),this},Eo.prototype.Rb=function(){return Z(this.a)},Eo.prototype.credential=function(e,t){var n;if(!(n=g(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new yo(this.providerId,n,this.providerId)},S(To,Eo),Jr(To,"PROVIDER_ID","facebook.com"),Jr(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,Eo),Jr(So,"PROVIDER_ID","github.com"),Jr(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(ko,Eo),Jr(ko,"PROVIDER_ID","google.com"),Jr(ko,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Po,_o),Jr(Po,"PROVIDER_ID","twitter.com"),Jr(Po,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(e,Ds,{email:this.a,oobCode:this.f}):su(e,nu,{email:this.a,password:this.f})},No.prototype.b=function(e,t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?su(e,js,{idToken:t,email:this.a,oobCode:this.f}):su(e,Qs,{idToken:t,email:this.a,password:this.f})},No.prototype.c=function(e,t){return fo(this.ka(e),t)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Ro,{PROVIDER_ID:"password"}),Zr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(e){return e.gb(Fo(this))},Lo.prototype.b=function(e,t){var n=Fo(this);return n.idToken=t,su(e,iu,n)},Lo.prototype.c=function(e,t){var n=Fo(this);return n.operation="REAUTH",fo(e=su(e,ou,n),t)},Lo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Uo.prototype.gb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=g(e)?e.session:null,a=g(e)?e.phoneNumber:e;return i=o&&o.type==co?o.Ha().then((function(e){return function(e,t){return su(e,Ys,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==lo?o.Ha().then((function(t){return function(e,t){return su(e,Xs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return su(e,Hs,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Zr(Uo,{PROVIDER_ID:"phone"}),Zr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),zo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},zo.prototype.T=function(){return this.h},zo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ho,Go=null;function Qo(e){var t="unauthorized-domain",n=void 0,r=Vn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function $o(e,t,n){k.call(this,e,n),(e=t||{}).Kb&&Jr(this,"email",e.Kb),e.ea&&Jr(this,"phoneNumber",e.ea),e.credential&&Jr(this,"credential",e.credential),e.$b&&Jr(this,"tenantId",e.$b)}function Yo(e){if(e.code){var t=e.code||"";0==t.indexOf(x)&&(t=t.substring(x.length));var n={credential:Vo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new $o(t,n,e.message)}return null}function Xo(){}function Jo(e){return e.c||(e.c=e.b())}function Zo(){}function ea(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ta(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ra(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function ia(e,t,n){this.reset(e,t,n,void 0,void 0)}S(Qo,k),S($o,k),$o.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},$o.prototype.toJSON=function(){return this.w()},Xo.prototype.c=null,S(Zo,Xo),Zo.prototype.a=function(){var e=ea(this);return e?new ActiveXObject(e):new XMLHttpRequest},Zo.prototype.b=function(){var e={};return ea(this)&&(e[0]=!0,e[1]=!0),e},Ho=new Zo,S(ta,Xo),ta.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ta.prototype.b=function(){return{}},(n=na.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},n.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},n.Tb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},n.vc=function(){this.Tb()},n.rc=function(){this.status=200,ra(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(e){this.f=e,this.b=this.c=this.a=null}function aa(e,t){this.name=e,this.value=t}ia.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||I(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),la=new aa("FINE",500);function ha(e){return e.c?e.c:e.a?ha(e.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(e,t,n){if(e.value>=ha(this).value)for(v(t)&&(t=t()),e=new ia(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var fa,da={},pa=null;function va(e){var t;if(pa||(pa=new oa(""),da[""]=pa,pa.c=ca),!(t=da[e])){t=new oa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=va(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,da[e]=t}return t}function ga(e,t){e&&e.log(la,t,void 0)}function ya(e){this.f=e}function ma(e){Tn.call(this),this.u=e,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ya,Xo),ya.prototype.a=function(){return new ma(this.f)},ya.prototype.b=(fa={},function(){return fa}),S(ma,Tn);var ba=0;function _a(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function wa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Ea(e)}function Ea(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ta(e){Tn.call(this),this.headers=new Nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(n=ma.prototype).open=function(e,t){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Ea(this)},n.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,wa(this)),this.readyState=ba},n.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,_a(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},n.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?wa(this):Ea(this),3==this.readyState&&_a(this)}},n.tc=function(e){this.a&&(this.response=this.responseText=e,wa(this))},n.sc=function(e){this.a&&(this.response=e,wa(this))},n.Va=function(e){var t=this.i;t&&t.log(ua,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&wa(this)},n.setRequestHeader=function(e,t){this.l.append(e,t)},n.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),S(Ta,Tn);var Ia="";Ta.prototype.b=va("goog.net.XhrIo");var Sa=/^https?$/i,Ca=["POST","PUT"];function ka(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Ho.a(),e.C=e.D?Jo(e.D):Jo(Ho),e.a.onreadystatechange=E(e.Wb,e);try{ga(e.b,La(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ga(e.b,La(e,"Error opening Xhr: "+a.message)),void Pa(e,a)}t=r||"";var o=new Nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)W(e,t,void 0);else for(var n=xn(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Oa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!$(Ca,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ra(e),0<e.g&&(e.u=function(e){return $e&&at(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ga(e.b,La(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=kn(e.Ma,e.g,e)),ga(e.b,La(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ga(e.b,La(e,"Send error: "+a.message)),Pa(e,a)}}function Oa(e){return"content-type"==e.toLowerCase()}function Pa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,xa(e),Aa(e)}function xa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Na(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==Da(e)&&2==ja(e))ga(e.b,La(e,"Local request error detected and ignored"));else if(e.i&&4==Da(e))kn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Da(e)){ga(e.b,La(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Dn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sa.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Da(e)?e.a.statusText:""}catch(l){ga(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ja(e)+"]",xa(e)}}finally{Aa(e)}}}function Aa(e,t){if(e.a){Ra(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(e=e.b)&&e.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ra(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Da(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<Da(e)?e.a.status:-1}catch(t){return-1}}function La(e,t){return t+" ["+e.P+" "+e.l+" "+ja(e)+"]"}function Ma(e){var t=Qa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Fa(e,t,n){e.a=!0,e.c=n,e.f=!t,Ba(e)}function Ua(e){if(e.a){if(!e.v)throw new za(e);e.v=!1}}function qa(e,t,n,r){e.g.push([t,n,r]),e.a&&Ba(e)}function Va(e){return Q(e.g,(function(e){return v(e[1])}))}function Ba(e){if(e.h&&e.a&&Va(e)){var t=e.h,n=Ha[t];n&&(u.clearTimeout(n.a),delete Ha[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(D(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,Va(e)||(n=!0)}}e.c=t,r&&(s=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof Ma?(qa(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Wa(t),Ha[t.a]=t,e.h=t.a)}function za(){j.call(this)}function Ka(){j.call(this)}function Wa(e){this.a=u.setTimeout(E(this.c,this),0),this.b=e}(n=Ta.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ga(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ga(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Aa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Aa(this,!0)),Ta.bb.Da.call(this)},n.Wb=function(){this.ya||(this.N||this.i||this.f?Na(this):this.Jc())},n.Jc=function(){Na(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ga(this.b,"Can not get response: "+t.message),null}},Ma.prototype.cancel=function(e){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ka(this),Ua(this),Fa(this,!1,e))}},Ma.prototype.m=function(e,t){this.i=!1,Fa(this,e,t)},Ma.prototype.then=function(e,t,n){var r,i,o=new Et((function(e,t){r=e,i=t}));return qa(this,r,(function(e){e instanceof Ka?o.cancel():i(e)})),o.then(e,t,n)},Ma.prototype.$goog_Thenable=!0,S(za,j),za.prototype.message="Deferred has already fired",za.prototype.name="AlreadyCalledError",S(Ka,j),Ka.prototype.message="Deferred was canceled",Ka.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ha[this.a],this.b};var Ha={};function Ga(e){var t={},n=t.document||document,r=ke(e).toString(),i=gt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){$a(i,!0);var e=new Ja(Xa,"Timeout reached for loading script "+r);Ua(a),Fa(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,t.xd||!1,s),Ua(a),Fa(a,!0,null))},i.onerror=function(){$a(i,!0,s);var e=new Ja(Ya,"Error while loading script "+r);Ua(a),Fa(a,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=ke(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=h(t.document):(null===l&&(l=h(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Qa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&u.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ya=0,Xa=1;function Ja(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),j.call(this,n),this.code=e}function Za(e){this.f=e}function es(e,n,r){if(this.c=e,e=n||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||rs,this.g=ge(e.secureTokenHeaders||is),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||os,this.a=ge(e.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Ir(),!(r=u.XMLHttpRequest||r&&t.default.INTERNAL.node&&t.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new ya(self):Sr()?this.f=new Za(r):this.f=new ta,this.b=null}S(Ja,j),S(Za,Xo),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var ts,ns="idToken",rs=new Kr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new Kr(3e4,6e4),as={"Content-Type":"application/json"};function ss(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function us(e,t){t&&(e.l=cs("https://securetoken.googleapis.com/v1/token",t),e.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=cs("https://identitytoolkit.googleapis.com/v2/",t))}function cs(e,t){return e=Vn(e),t=Vn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Mn(e,t.g),e.toString()}function ls(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function hs(e,t,n,r,i,o,a){(function(){var e=Nr();return!((e=Or(e)!=kr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!$e||!ut||9<ut)})()||Tr()?e=E(e.u,e):(ts||(ts=new Et((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[ds]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){qa(e,null,t,void 0)}(Ga(Oe(fs,{onload:ds})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=E(e.s,e)),e(t,n,r,i,o,a)}es.prototype.T=function(){return this.b},es.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ga(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),Sn(a,"ready",(function(){s&&clearTimeout(s),Gt(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),Gt(this),t&&t(null)})),ka(a,e,n,r,i)};var fs=new _e(Ie,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(e,t,n,r,i,o,a){var s=Vn(t+n);Un(s,"key",e.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Et((function(t,n){hs(e,s.toString(),(function(e){e?e.error?n(cu(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:or(Ur(i)),e.a,e.v.get())}))}function vs(e){if("string"!==typeof(e=e.email)||!br.test(e))throw new k("invalid-email")}function gs(e){"email"in e&&vs(e)}function ys(e){if(!e[ns]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ge(e));throw new k("internal-error")}}function ms(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}es.prototype.s=function(e,t,n,r,i){var o=this;ts.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},es.prototype.Ab=function(){return su(this,$s,{})},es.prototype.Cb=function(e,t){return su(this,Gs,{idToken:e,email:t})},es.prototype.Db=function(e,t){return su(this,Qs,{idToken:e,password:t})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function _s(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function ws(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function Es(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(tr(e=new Xn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Yo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Yo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Yo(e)):e.errorMessage&&(t=uu(e.errorMessage)),t)throw t;ys(e)}function Is(e,t){return t.returnIdpCredential=!0,su(e,Js,t)}function Ss(e,t){return t.returnIdpCredential=!0,su(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,su(e,Zs,t)}function ks(e){if(!e.oobCode)throw new k("invalid-action-code")}(n=es.prototype).Eb=function(e,t){var n={idToken:e},r=[];return pe(bs,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,Gs,n)},n.wb=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),su(this,Bs,e)},n.xb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),su(this,Us,e)},n.vb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),su(this,qs,e)},n.Fb=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),su(this,Vs,e)},n.gb=function(e){return su(this,ru,e)},n.ob=function(e,t){return su(this,Ws,{oobCode:e,newPassword:t})},n.Sa=function(e){return su(this,Ps,{oobCode:e})},n.kb=function(e){return su(this,Os,{oobCode:e})};var Os={endpoint:"setAccountInfo",A:ks,Z:"email",B:!0},Ps={endpoint:"resetPassword",A:ks,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},B:!0},xs={endpoint:"signupNewUser",A:function(e){if(vs(e),!e.password)throw new k("weak-password")},G:ys,V:!0,B:!0},Ns={endpoint:"createAuthUri",B:!0},As={endpoint:"deleteAccount",O:["idToken"]},Rs={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new k("internal-error")}},Ds={endpoint:"emailLinkSignin",O:["email","oobCode"],A:vs,G:ys,V:!0,B:!0},js={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:vs,G:ys,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:_s,G:ys,B:!0,Na:!0},Fs={endpoint:"getAccountInfo"},Us={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");vs(e)},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");vs(e)},Z:"email",B:!0},zs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ks={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Ws={endpoint:"resetPassword",A:ks,Z:"email",B:!0},Hs={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Gs={endpoint:"setAccountInfo",O:["idToken"],A:gs,V:!0},Qs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(gs(e),!e.password)throw new k("weak-password")},G:ys,V:!0},$s={endpoint:"signupNewUser",G:ys,V:!0,B:!0},Ys={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},Js={endpoint:"verifyAssertion",A:ws,Za:Es,G:Ts,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:ws,Za:Es,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw uu(e.errorMessage);ys(e)},V:!0,B:!0},eu={endpoint:"verifyAssertion",A:function(e){if(ws(e),!e.idToken)throw new k("internal-error")},Za:Es,G:Ts,V:!0},tu={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new k("invalid-custom-token")},G:ys,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(e){if(vs(e),!e.password)throw new k("wrong-password")},G:ys,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ms,G:ys,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new k("internal-error");ms(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Yo(e);ys(e)}},ou={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:ys,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[ns]^!!e.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function su(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return xt(new k("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ps(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function uu(e){return cu({error:{errors:[{message:e}],code:400,message:e}})}function cu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Fr(e)),new k("internal-error",t)}function lu(e){this.b=e,this.a=null,this.sb=function(e){return(pu||(pu=new Et((function(e,t){function n(){zr(),Ar("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){zr(),t(Error("Network Error"))},timeout:fu.get()})}if(Ar("gapi.iframes.Iframe"))e();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Ar("gapi.load")?n():t(Error("Network Error"))},Pt(Ga(r=Oe(hu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw pu=null,e})))).then((function(){return new Et((function(t,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new _e(Ie,"https://apis.google.com/js/api.js?onload=%{onload}"),fu=new Kr(3e4,6e4),du=new Kr(5e3,15e3),pu=null;function vu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Bn((e=Vn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Bn("https",this.l,null,"/__/auth/iframe"),this.a=e,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function gu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function yu(e){try{return t.default.app(e).auth().Ga()}catch(n){return[]}}function mu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(e){var t=fr();return function(e){return su(e,zs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Vn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Qo(fr())}))}function _u(e){return e.m||(e.m=_r().then((function(){if(!e.u){var t=e.c,n=e.i,r=yu(e.b),i=new vu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=Z(r||[]),e.u=i.toString()}e.v=new lu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ko(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function wu(e){return e.l||(e.C=e.c?xr(e.c,yu(e.b)):null,e.l=new es(e.g,R(e.i),e.C),e.f&&us(e.l,e.f)),e.l}function Eu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new gu(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.zb(l).toString()}function Tu(e){if(this.a=e||t.default.INTERNAL.reactNative&&t.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(e){this.b=e,this.a={},this.f=E(this.c,this)}vu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):er(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):er(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):er(this.a.b,"fw"),this.a.toString()},gu.prototype.zb=function(e){return this.h=e,this},gu.prototype.toString=function(){if(this.v){var e=Vn(this.v.url);e=Bn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Bn("https",this.u,null,"/__/auth/handler");if(Un(e,"apiKey",this.s),Un(e,"appName",this.c),Un(e,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=t.default.app(this.c).auth().la()}catch(u){r=null}for(var i in n.pb=r,Un(e,"providerId",this.a.providerId),n=Ur((r=this.a).Jb))n[i]=n[i].toString();i=r.Qc,n=ge(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.qb&&r.pb&&!n[r.qb]&&(n[r.qb]=r.pb),ve(n)||Un(e,"customParameters",Fr(n))}if("function"===typeof this.a.Rb&&((r=this.a.Rb()).length&&Un(e,"scopes",r.join(","))),this.l?Un(e,"redirectUrl",this.l):er(e.b,"redirectUrl"),this.g?Un(e,"eventId",this.g):er(e.b,"eventId"),this.i?Un(e,"v",this.i):er(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!qn(e,s)&&Un(e,s,this.b[s]);return this.h?Un(e,"tid",this.h):er(e.b,"tid"),this.f?Un(e,"eid",this.f):er(e.b,"eid"),(s=yu(this.c)).length&&Un(e,"fw",s.join(",")),e.toString()},(n=mu.prototype).Pb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return _u(e).then((function(){return function(e,t){return e.sb.then((function(){return new Et((function(n){e.a.send(t.type,t,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&gr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new Et((function(t){return function n(){On(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return On(n).then((function(){t(r)}))}))},n.Yb=function(){var e=Nr();return!Mr(e)&&!Br(e)},n.Ub=function(){return!1},n.Nb=function(e,t,n,r,i,o,a,s){if(!e)return xt(new k("popup-blocked"));if(a&&!Mr())return this.ma().o((function(t){gr(e),i(t)})),r(),Pt();this.a||(this.a=bu(wu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw gr(e),i(t),t}));return r(),t})).then((function(){(Bo(n),a)||dr(Eu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},n.Ob=function(e,t,n,r){this.a||(this.a=bu(wu(this)));var i=this;return this.a.then((function(){Bo(t),dr(Eu(i.s,i.g,i.b,e,t,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},n.ma=function(){var e=this;return _u(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new k("network-request-failed")}))},n.ac=function(){return!0},n.Ea=function(e){this.h.push(e)},n.Ta=function(e){X(this.h,(function(t){return t==e}))},(n=Tu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&qr(e)}))},n.set=function(e,t){return Pt(this.a.setItem(e,Fr(t)))},n.U=function(e){return Pt(this.a.removeItem(e))},n.ca=function(){},n.ia=function(){};var Su,Cu=[];function ku(e,t,n){ve(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Ou(e){this.a=e}function Pu(e){this.c=e,this.b=!1,this.a=[]}function xu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return xt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Et((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return Nu(e,c),t})).o((function(t){throw Nu(e,c),t}))}function Nu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Au(){if(!Lu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(W(Cu,(function(n){n.b==e&&(t=n)})),!t){var t=new Iu(e);Cu.push(t)}return t}(),ku(this.v,"keyChanged",(function(t,n){return Vu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:$(t,n.key)}}))})),ku(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Pu(new Ou(t)),xu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&$(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Ru(e){return new Et((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new Et((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Ru(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Du(e){return e.i||(e.i=Ru(e)),e.i}function ju(e,t){var n=0;return new Et((function r(i,o){Du(e).then(t).then(i).o((function(t){if(!(3<++n))return Du(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Lu(){try{return!!u.indexedDB}catch(fa){return!1}}function Mu(e){return e.objectStore("firebaseLocalStorage")}function Fu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Uu(e){return new Et((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function qu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?xu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function Vu(e){return Du(e).then((function(e){var t=Mu(Fu(e,!1));return t.getAll?Uu(t.getAll()):new Et((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=pr(e.c,n),e.c=n}return r}))}function Bu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function zu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Lu()){var e=Vr(),r="__sak"+e;return Su||(Su=new Au),(n=Su).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Ku(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var e="Node"==Ir();if(!(e=Hu()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Hu()||t.default.INTERNAL.node.localStorage,this.type="localStorage"}function Hu(){try{var e=u.localStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Gu(){this.type="nullStorage"}function Qu(){if(!function(){var e="Node"==Ir();if(!(e=$u()||e&&t.default.INTERNAL.node&&t.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=$u()||t.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=u.sessionStorage,t=Vr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Yu(){var e={};e.Browser=Zu,e.Node=ec,e.ReactNative=tc,e.Worker=nc,this.a=e[Ir()]}Iu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),At(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Ou.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Pu.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(n=Au.prototype).set=function(e,t){var n=this,r=!1;return ju(this,(function(t){return Uu((t=Mu(Fu(t,!0))).get(e))})).then((function(i){return ju(n,(function(o){if(o=Mu(Fu(o,!0)),i)return i.value=t,Uu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Uu(o.add(a))}))})).then((function(){return n.c[e]=t,qu(n,e)})).oa((function(){r&&n.b--}))},n.get=function(e){return ju(this,(function(t){return Uu(Mu(Fu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},n.U=function(e){var t=this,n=!1;return ju(this,(function(r){return n=!0,t.b++,Uu(Mu(Fu(r,!0)).delete(e))})).then((function(){return delete t.c[e],qu(t,e)})).oa((function(){n&&t.b--}))},n.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=Vu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Bu(e),t()}(this),this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Bu(this)},(n=zu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},n.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},n.U=function(e){return this.b.then((function(t){return t.U(e)}))},n.ca=function(e){this.a.push(e)},n.ia=function(e){X(this.a,(function(t){return t==e}))},(n=Ku.prototype).get=function(e){return Pt(this.a[e])},n.set=function(e,t){return this.a[e]=t,Pt()},n.U=function(e){return delete this.a[e],Pt()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(e){var t=this;return Pt().then((function(){return qr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Pt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},n.ca=function(e){u.window&&hn(u.window,"storage",e)},n.ia=function(e){u.window&&pn(u.window,"storage",e)},(n=Gu.prototype).get=function(){return Pt(null)},n.set=function(){return Pt()},n.U=function(){return Pt()},n.ca=function(){},n.ia=function(){},(n=Qu.prototype).get=function(e){var t=this;return Pt().then((function(){return qr(t.a.getItem(e))}))},n.set=function(e,t){var n=this;return Pt().then((function(){var r=Fr(t);null===r?n.U(e):n.a.setItem(e,r)}))},n.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},n.ca=function(){},n.ia=function(){};var Xu,Ju,Zu={F:Wu,cb:Qu},ec={F:Wu,cb:Qu},tc={F:Tu,cb:Gu},nc={F:Wu,cb:Gu},rc={rd:"local",NONE:"none",td:"session"};function ic(){var e=!(Br(Nr())||!Er()),t=Mr(),n=Rr();this.m=e,this.h=t,this.l=n,this.a={},Xu||(Xu=new Yu),e=Xu;try{this.g=!hr()&&Gr()||!u.indexedDB?new e.a.F:new zu(Tr()?new Ku:new e.a.F)}catch(r){this.g=new Ku,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Ku}this.v=new Ku,this.f=E(this.Zb,this),this.b={}}function oc(){return Ju||(Ju=new ic),Ju}function ac(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function uc(e,t,n){return n=sc(t,n),"local"==t.F&&(e.b[n]=null),ac(e,t.F).U(n)}function cc(e){e.c&&(clearInterval(e.c),e.c=null)}function lc(e){this.a=e,this.b=oc()}(n=ic.prototype).get=function(e,t){return ac(this,e.F).get(sc(e,t))},n.set=function(e,t,n){var r=sc(e,n),i=this,o=ac(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},n.addListener=function(e,t,n){e=sc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ve(this.a)&&(ac(this,"local").ca(this.f),this.h||(hr()||!Gr())&&u.indexedDB||!this.l||function(e){cc(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Zt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},n.removeListener=function(e,t,n){e=sc(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ve(this.a)&&(ac(this,"local").ia(this.f),cc(this))},n.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.nb(t))},$e&&ut&&10==ut&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,E(this.nb,this))},n.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var hc,fc={name:"authEvent",F:"local"};function dc(){this.a=oc()}function pc(e,t){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=u.Int32Array?new Int32Array(Ec):Ec),this.reset()}S(pc,(function(){this.b=-1}));for(var vc=64,gc=vc-1,yc=[],mc=0;mc<gc;mc++)yc[mc]=0;var bc=J(128,yc);function _c(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|hc[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function wc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(_c(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(_c(e),i=0)}}e.c=i,e.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){pc.call(this,8,Ic)}S(Tc,pc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new dc,this.g=new lc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Cc(e){return new k("invalid-cordova-configuration",e)}function kc(e){var t=new Tc;wc(t,e),e=[];var n=8*t.g;56>t.c?wc(t,bc,56-t.c):wc(t,bc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(_c(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return G(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Oc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Pc(e){return e.f||(e.f=e.ma().then((function(){return new Et((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),xc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=so(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=qr(qn(o=Vn(i),"firebaseError")||null))?O(o):null)?new zo(r.c,r.b,null,null,o,null,r.T()):new zo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Oc(e,i)}))}var n=new zo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=On(500).then((function(){return xc(e).then((function(){r||Oc(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Ar("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Go||(Go=new Wo),function(e){var t=Go;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Ar("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function xc(e){var t=null;return function(e){return e.b.get(fc,e.a).then((function(e){return Ko(e)}))}(e.g).then((function(n){return t=n,uc((n=e.g).b,fc,n.a)})).then((function(){return t}))}function Nc(e){this.a=e,this.b=oc()}(n=Sc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(wr(void 0)?_r().then((function(){return new Et((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):xt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Ar("universalLinks.subscribe",u))throw Cc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Ar("BuildInfo.packageName",u))throw Cc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Ar("cordova.plugins.browsertab.openUrl",u))throw Cc("cordova-plugin-browsertab is not installed");if("function"!==typeof Ar("cordova.InAppBrowser.open",u))throw Cc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},n.Pb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),Pt()},n.Nb=function(){return xt(new k("operation-not-supported-in-this-environment"))},n.ac=function(){return!1},n.Yb=function(){return!0},n.Ub=function(){return!0},n.Ob=function(e,t,n,r){if(this.c)return xt(new k("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Pt().then((function(){return Bo(t),Pc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new zo(t,r,null,o,new k("no-auth-event"),null,i),s=Ar("BuildInfo.packageName",u);if("string"!==typeof s)throw new k("invalid-cordova-configuration");var c=Ar("BuildInfo.displayName",u),l={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Nr().toLowerCase().match(/android/))return xt(new k("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var h=Eu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(fc,a.w(),t)})).then((function(){var t=Ar("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Ar("cordova.plugins.browsertab.openUrl",u)))throw new k("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Ar("cordova.InAppBrowser.open",u)))throw new k("invalid-cordova-configuration");t=Nr(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new Et((function(e,t){s=function(){var t=Ar("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=On(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return xc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},n.Ea=function(e){this.b.push(e),Pc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new zo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},n.Ta=function(e){X(this.b,(function(t){return t==e}))};var Ac={name:"pendingRedirect",F:"session"};function Rc(e){return uc(e.b,Ac,e.a)}function Dc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new $c,this.C=new el,this.g=new Nc(Gc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,P,this.J)}function jc(e,n,r,i,o){var a=t.default.SDK_VERSION||null;return wr()?new Sc(e,n,r,a,i,o):new mu(e,n,r,a,i,o)}function Lc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Mc(e){e.a.Yb()&&Lc(e).o((function(t){var n=new zo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));zc(t)&&e.s(n)})),e.a.Ub()||Yc(e.b)}function Fc(e,t){$(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Ac,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Rc(e.g).then((function(){Lc(e).o((function(t){var n=new zo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));zc(t)&&e.s(n)}))})):Mc(e)})).o((function(){Mc(e)}))}function Uc(e,t){X(e.h,(function(e){return e==t}))}Dc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Dc.prototype.s=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Yc(this.b),t};var qc=new Kr(2e3,1e4),Vc=new Kr(3e4,6e4);function Bc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function zc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Kc(e,t,n,r,i){var o;return function(e){return e.b.set(Ac,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(zc(t))throw new k("operation-not-supported-in-this-environment");return o=t,Rc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new Et((function(){})):Rc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Wc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),qc.get())}Dc.prototype.ra=function(){return this.b.ra()};var Hc={};function Gc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Qc(e,t,n,r){var i=Gc(t,n,r);return Hc[i]||(Hc[i]=new Dc(e,t,n,r)),Hc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Yc(e){e.g||(e.g=!0,Zc(e,!1,null,null))}function Xc(e){e.g&&!e.i&&Zc(e,!1,null,null)}function Jc(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Zc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return xt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Jc(e,n):Jc(e,{user:null}),e.f=[],e.c=[]}function el(){}function tl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function nl(e,t){this.a=t,Jr(this,"verificationId",e)}function rl(e,t,n,r){return new Uo(e).gb(t,n).then((function(e){return new nl(e,r)}))}function il(e){var t=Gi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:e,expirationTime:Hr(1e3*t.exp),authTime:Hr(1e3*t.auth_time),issuedAtTime:Hr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function ol(e,t,n){var r=t&&t[sl];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;W(t[al]||[],(function(e){(e=ri(e))&&i.b.push(e)})),Jr(this,"auth",this.a),Jr(this,"session",this.c),Jr(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Zc(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Zc(e,s,t,null)})).o((function(t){Zc(e,s,null,t)}))}(this,e,t):xt(new k("invalid-auth-event")):(Zc(this,!1,null,null),Pt())}else xt(new k("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new Et((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=On(Vc.get()).then((function(){e.b||(e.g=!0,Zc(e,!0,null,t))}))}(e))}))},el.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):xt(new k("invalid-auth-event"))}else xt(new k("invalid-auth-event"))},nl.prototype.confirm=function(e){return e=qo(this.verificationId,e),this.a(e)};var al="mfaInfo",sl="mfaPendingCredential";function ul(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new ol(e,t,n),Jr(this,"resolver",this.b)}function cl(e,t,n){if(e&&g(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ul(t,e.serverResponse,n,e.message)}catch(r){}return null}function ll(){}function hl(e){Jr(this,"factorId",e.fa),this.a=e}function fl(e){if(hl.call(this,e),this.a.fa!=Uo.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function dl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function pl(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ai]=e.uid),e.displayName&&(r[ii]=e.displayName),e.enrollmentTime&&(r[oi]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[si]=e.phoneNumber);try{t=new ui(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),vl(this,n)}function vl(e,t){e.b=t,Jr(e,"enrolledFactors",t)}function gl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function yl(e,t){e.stop(),e.b=On(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Wr()||!e?Pt():new Et((function(n){t=function(){Wr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){yl(e,!0)})).o((function(t){e.i(t)&&yl(e,!1)}))}function ml(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function bl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function _l(e,t){e.b=Hi(t[ns]||""),e.a=t.refreshToken,bl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function wl(e,t){return function(e,t){return new Et((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(cu(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Zn(t).toString(),e.g,e.m.get()):r(new k("internal-error"))}))}(e.f,t).then((function(t){return e.b=Hi(t.access_token),e.a=t.refresh_token,bl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function El(e,t){this.a=e||null,this.b=t||null,Zr(this,{lastSignInTime:Hr(t||null),creationTime:Hr(e||null)})}function Tl(e,t,n,r,i,o){Zr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Il(e,n,r){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=t.default.SDK_VERSION?xr(t.default.SDK_VERSION):null;this.a=new es(this.l,R(P),i),(this.u=e.emulatorConfig||null)&&us(this.a,this.u),this.h=new ml(this.a),Rl(this,n[ns]),_l(this.h,n),Jr(this,"refreshToken",this.h.a),Ll(this,r||{}),Tn.call(this),this.P=!1,this.s&&Dr()&&(this.b=Qc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new gl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){Sl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Ol(o,e.f)},this.ja=null,this.S=new pl(this,r),Jr(this,"multiFactor",this.S)}function Sl(e,t){e.u=t,us(e.a,t),e.b&&(t=e.b,e.b=Qc(e.s,e.l,e.m,e.u),e.P&&(Uc(t,e),Fc(e.b,e)))}function Cl(e,t){e.qa&&pn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function kl(e,t){e.$&&pn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function Ol(e,n){e.aa=n,ls(e.a,t.default.SDK_VERSION?xr(t.default.SDK_VERSION,e.aa):null)}function Pl(e,t){e.ja&&pn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function xl(e){try{return t.default.app(e.m).auth()}catch(n){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Nl(e){e.J||e.D.b||(e.D.start(),pn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Al(e){pn(e,"tokenChanged",e.ba),e.D.stop()}function Rl(e,t){e.Aa=t,Jr(e,"_lat",t)}function Dl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return At(t).then((function(){return e}))}function jl(e){e.b&&!e.P&&(e.P=!0,Fc(e.b,e))}function Ll(e,t){Zr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new El(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ml(){}function Fl(e){return Pt().then((function(){if(e.J)throw new k("app-deleted")}))}function Ul(e){return G(e.providerData,(function(e){return e.providerId}))}function ql(e,t){t&&(Vl(e,t.providerId),e.providerData.push(t))}function Vl(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Bl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Jr(e,t,n)}function zl(e,t){e!=t&&(Zr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Jr(e,"metadata",function(e){return new El(e.a,e.b)}(t.metadata)):Jr(e,"metadata",new El),W(t.providerData,(function(t){ql(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),Jr(e,"refreshToken",e.h.a),vl(e.S,t.S.b))}function Kl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return su(e.a,Fs,{idToken:t}).then(E(e.Kc,e))}(e,t).then((function(){return n||Bl(e,"isAnonymous",!1),t}))}))}function Wl(e,t){t[ns]&&e.Aa!=t[ns]&&(_l(e.h,t),e.dispatchEvent(new dl("tokenChanged")),Rl(e,t[ns]),Bl(e,"refreshToken",e.h.a))}function Hl(e,t){return Kl(e).then((function(){if($(Ul(e),t))return Dl(e).then((function(){throw new k("provider-already-linked")}))}))}function Gl(e,t,n){return ei({user:e,credential:Vo(t),additionalUserInfo:t=Ji(t),operationType:n})}function Ql(e,t){return Wl(e,t),e.reload().then((function(){return e}))}function $l(e,n,r,i,o){if(!Dr())return xt(new k("operation-not-supported-in-this-environment"));if(e.i&&!o)return xt(e.i);var a=Xi(r.providerId),s=Vr(e.uid+":::"),u=null;(!Mr()||Er())&&e.s&&r.isOAuthProvider&&(u=Eu(e.s,e.l,e.m,n,r,null,s,t.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=yr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Xl(e),!o)return e.I().then((function(){}))})).then((function(){return Bc(e.b,c,n,r,s,!!u,e.tenantId)})).then((function(){return new Et((function(t,r){e.na(n,null,new k("cancelled-popup-request"),e.g||null),e.f=t,e.C=r,e.g=s,e.c=Wc(e.b,e,n,c,s)}))})).then((function(e){return c&&gr(c),e?ei(e):null})).o((function(e){throw c&&gr(c),e})),Jl(e,i,o)}function Yl(e,t,n,r,i){if(!Dr())return xt(new k("operation-not-supported-in-this-environment"));if(e.i&&!i)return xt(e.i);var o=null,a=Vr(e.uid+":::");return r=r().then((function(){if(Xl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Dl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(th,e.w(),t.a)),t})).then((function(){return Kc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return nh(e.ha);throw o})).then((function(){if(o)throw o})),Jl(e,r,i)}function Xl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Jl(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),xt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new dl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Y(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),xl(e),E(e.jc,e))),n||t}))}function Zl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[ns]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Il(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&ql(i,ei(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function eh(e){this.a=e,this.b=oc()}ol.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[al],delete n[sl],me(n,e),t.g(n)}))},S(ul,k),ll.prototype.tb=function(e,t,n){return t.type==co?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),me(n,{phoneVerificationInfo:Fo(e.a)}),su(t,Ls,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:Fo(e.a)}),su(t,Ms,n)}))}(this,e,t)},S(hl,ll),S(fl,hl),S(dl,Jt),(n=pl.prototype).yc=function(e){vl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=ri(e))&&t.push(e)})),t}(e.hd))},n.Sb=function(){return this.a.I().then((function(e){return new uo(e,null)}))},n.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Wl(n.a,e),n.a.reload()}))},n.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return su(r,au,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return vl(t,r),Wl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,(function(e){return e.w()}))}}},gl.prototype.start=function(){this.a=this.c,yl(this,!0)},gl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ml.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ml.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?xt(new k("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?wl(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},El.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Il,Tn),Il.prototype.xa=function(e){this.za=e,ss(this.a,e)},Il.prototype.la=function(){return this.za},Il.prototype.Ga=function(){return Z(this.aa)},Il.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Jr(Il.prototype,"providerId","firebase"),(n=Il.prototype).reload=function(){var e=this;return Jl(this,Fl(this).then((function(){return Kl(e).then((function(){return Dl(e)})).then(Ml)})))},n.oc=function(e){return this.I(e).then((function(e){return new il(e)}))},n.I=function(e){var t=this;return Jl(this,Fl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.Aa&&(Rl(t,e.accessToken),t.dispatchEvent(new dl("tokenChanged"))),Bl(t,"refreshToken",e.refreshToken),e.accessToken})))},n.Kc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");Ll(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?G(e,(function(e){return new Tl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)ql(this,t[n]);Bl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new dl("userReloaded",{hd:e}))},n.Lc=function(e){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},n.ub=function(e){var t=this,n=null;return Jl(this,e.c(this.a,this.uid).then((function(e){return Wl(t,e),n=Gl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},n.Cc=function(e){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},n.rb=function(e){var t=this,n=null;return Jl(this,Hl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Gl(t,e,"link"),Ql(t,e)})).then((function(){return n})))},n.Dc=function(e,t){var n=this;return Jl(this,Hl(this,"phone").then((function(){return rl(xl(n),e,t,E(n.rb,n))})))},n.Mc=function(e,t){var n=this;return Jl(this,Pt().then((function(){return rl(xl(n),e,t,E(n.ub,n))})),!0)},n.Cb=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},n.ed=function(e){var t=this;return Jl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Wl(t,e),t.reload()})))},n.Db=function(e){var t=this;return Jl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Wl(t,e),t.reload()})))},n.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Fl(this);var t=this;return Jl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Wl(t,e),Bl(t,"displayName",e.displayName||null),Bl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(Jr(e,"displayName",t.displayName),Jr(e,"photoURL",t.photoURL))})),Dl(t)})).then(Ml))},n.cd=function(e){var t=this;return Jl(this,Kl(this).then((function(n){return $(Ul(t),e)?function(e,t,n){return su(e,Rs,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Ul(t),(function(e){n[e]||Vl(t,e)})),n[Uo.PROVIDER_ID]||Jr(t,"phoneNumber",null),Dl(t)})):Dl(t).then((function(){throw new k("no-such-provider")}))})))},n.delete=function(){var e=this;return Jl(this,this.I().then((function(t){return su(e.a,As,{idToken:t})})).then((function(){e.dispatchEvent(new dl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Cl(e,null),kl(e,null),Pl(e,null),e.N=[],e.J=!0,Al(e),Jr(e,"refreshToken",null),e.b&&Uc(e.b,e)}))},n.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},n.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},n.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Hl(t,e.providerId).then((function(){return Dl(t)}))}),!1)},n.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},n.Fc=function(e){var t=this;return Yl(this,"linkViaRedirect",e,(function(){return Hl(t,e.providerId)}),!1)},n.Oc=function(e){return Yl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},n.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,this.I().then((function(n){return Ss(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Gl(i,e,"link"),Ql(i,e)})).then((function(){return o})))},n.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Jl(this,Pt().then((function(){return fo(Cs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Gl(i,e,"reauthenticate"),Wl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},n.vb=function(e){var t=this,n=null;return Jl(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ve(e)?{}:Bi(new Ai(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},n.Fb=function(e,t){var n=this,r=null;return Jl(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ve(t)?{}:Bi(new Ai(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},n.jc=function(e){var t=null,n=this;return Jl(this,e=fo(Pt(e),n.uid).then((function(e){return t=Gl(n,e,"reauthenticate"),Wl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.S.w()),e};var th={name:"redirectUser",F:"session"};function nh(e){return uc(e.b,th,e.a)}function rh(e){this.a=e,this.b=oc(),this.c=null,this.f=function(e){var t=ah("local"),n=ah("session"),r=ah("none");return function(e,t,n){var r=sc(t,n),i=ac(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=qr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(oh,e.a).then((function(e){return e?ah(e):t}))}))}))})).then((function(t){return e.c=t,ih(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(ah("local"),this.a,E(this.g,this))}function ih(e,t){var n,r=[];for(n in rc)rc[n]!==t&&r.push(uc(e.b,ah(rc[n]),e.a));return r.push(uc(e.b,oh,e.a)),function(e){return new Et((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],T(o,s),a);else t(i)}))}(r)}rh.prototype.g=function(){var e=this,t=ah("local");lh(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return ih(e,"local").then((function(){e.c=t}))}))}))};var oh={name:"persistence",F:"session"};function ah(e){return{name:"authUser",F:e}}function sh(e,t){return lh(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function uh(e){return lh(e,(function(){return uc(e.b,e.c,e.a)}))}function ch(e,t,n){return lh(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Zl(e||{})}))}))}function lh(e,t){return e.f=e.f.then(t,t),e.f}function hh(e){if(this.l=!1,Jr(this,"settings",new tl),Jr(this,"app",e),!_h(this).options||!_h(this).options.apiKey)throw new k("invalid-api-key");e=t.default.SDK_VERSION?xr(t.default.SDK_VERSION):null,this.a=new es(_h(this).options&&_h(this).options.apiKey,R(P),e),this.P=[],this.s=[],this.N=[],this.Pa=t.default.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=t.default.INTERNAL.createSubscribe(E(this.Ac,this)),mh(this,null),this.i=new rh(_h(this).options.apiKey+":"+_h(this).name),this.D=new eh(_h(this).options.apiKey+":"+_h(this).name),this.$=Ih(this,function(e){var t=_h(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(th,e.a).then((function(e){return e&&t&&(e.authDomain=t),Zl(e||{})}))}(e.D,_h(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),nh(e.D)}));return Ih(e,t)}(e).then((function(){return ch(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return sh(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:uh(e.i)}))):null})).then((function(t){mh(e,t||null)}));return Ih(e,n)}(this)),this.h=Ih(this,function(e){return e.$.then((function(){return gh(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(ah("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(e){var t=_h(e).options.authDomain,n=_h(e).options.apiKey;t&&Dr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Qc(t,n,_h(e).name,e.R),Fc(e.b,e),wh(e)&&jl(wh(e)),e.m){jl(e.m);var r=e.m;r.xa(e.la()),Cl(r,e),Ol(r=e.m,e.J),Pl(r,e),Sl(r=e.m,e.R),kl(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,Tn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=Vn(this.R.url);e=ei({protocol:e.c,host:e.a,port:e.g,options:ei({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function fh(e){Jt.call(this,"languageCodeChanged"),this.h=e}function dh(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function ph(e){Jt.call(this,"frameworkChanged"),this.f=e}function vh(e){return e.Oa||xt(new k("auth-domain-config-required"))}function gh(e){if(!Dr())return xt(new k("operation-not-supported-in-this-environment"));var t=vh(e).then((function(){return e.b.ra()})).then((function(e){return e?ei(e):null}));return Ih(e,t)}function yh(e,t){var n={};return n.apiKey=_h(e).options.apiKey,n.authDomain=_h(e).options.authDomain,n.appName=_h(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Il(e,t);return n&&(i.ha=n),r&&Ol(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return wh(e)&&t.uid==wh(e).uid?(zl(wh(e),t),e.da(t)):(mh(e,t),jl(t),e.da(t))})).then((function(){Th(e)}))}function mh(e,t){wh(e)&&(function(e,t){X(e.W,(function(e){return e==t}))}(wh(e),e.Ba),pn(wh(e),"tokenChanged",e.qa),pn(wh(e),"userDeleted",e.za),pn(wh(e),"userInvalidated",e.Aa),Al(wh(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&Nl(t)),Jr(e,"currentUser",t),t&&(t.xa(e.la()),Cl(t,e),Ol(t,e.J),Pl(t,e),Sl(t,e.R),kl(t,e))}function bh(e,t){var n=null,r=null;return Ih(e,t.then((function(t){return n=Vo(t),r=Ji(t),yh(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=cl(t.w(),e,E(e.kc,e))),n||t})).then((function(){return ei({user:wh(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function _h(e){return e.app}function wh(e){return e.currentUser}function Eh(e){return wh(e)&&wh(e)._lat||null}function Th(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Eh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Eh(e))}}function Ih(e,t){return e.P.push(t),t.oa((function(){Y(e.P,t)})),t}function Sh(){}function Ch(){this.a={},this.b=1e12}rh.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in rc)if(rc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Ir()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Lu()&&"none"!==e)throw n;break;default:if(!Rr()&&"none"!==e)throw n}}(e),lh(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,ih(n,e)})).then((function(){if(n.c=ah(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},S(hh,Tn),S(fh,Jt),S(dh,Jt),S(ph,Jt),(n=hh.prototype).yb=function(e){return Ih(this,e=this.i.yb(e))},n.xa=function(e){this.aa===e||this.l||(this.aa=e,ss(this.a,this.aa),this.dispatchEvent(new fh(this.la())))},n.la=function(){return this.aa},n.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},n.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&_r().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,us(this.a,this.R),this.dispatchEvent(new dh(this.R))}},n.Gc=function(e){this.J.push(e),ls(this.a,t.default.SDK_VERSION?xr(t.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ph(this.J))},n.Ga=function(){return Z(this.J)},n.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:_h(this).options.apiKey,authDomain:_h(this).options.authDomain,appName:_h(this).name,currentUser:wh(this)&&wh(this).w()}},n.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},n.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},n.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bh(i,Is(i.a,o))}))},n.Xc=function(e){if(!Dr())return xt(new k("operation-not-supported-in-this-environment"));var n=this,r=Xi(e.providerId),i=Vr(),o=null;(!Mr()||Er())&&_h(this).options.authDomain&&e.isOAuthProvider&&(o=Eu(_h(this).options.authDomain,_h(this).options.apiKey,_h(this).name,"signInViaPopup",e,null,i,t.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=yr(o,r&&r.va,r&&r.ua);return Ih(this,r=vh(this).then((function(t){return Bc(t,a,"signInViaPopup",e,i,!!o,n.T())})).then((function(){return new Et((function(e,t){n.na("signInViaPopup",null,new k("cancelled-popup-request"),n.g),n.f=e,n.C=t,n.g=i,n.c=Wc(n.b,n,"signInViaPopup",a,i)}))})).then((function(e){return a&&gr(a),e?ei(e):null})).o((function(e){throw a&&gr(a),e})))},n.Yc=function(e){if(!Dr())return xt(new k("operation-not-supported-in-this-environment"));var t=this,n=vh(this).then((function(){return function(e){return lh(e,(function(){return e.b.set(oh,e.c.F,e.a)}))}(t.i)})).then((function(){return Kc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Ih(this,n)},n.ra=function(){var e=this;return gh(this).then((function(t){return e.b&&Xc(e.b.b),t})).o((function(t){throw e.b&&Xc(e.b.b),t}))},n.dd=function(e){if(!e)return xt(new k("null-user"));if(this.S!=e.tenantId)return xt(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=_h(this).options.apiKey,n.authDomain=_h(this).options.authDomain,n.appName=_h(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Il(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Ol(t,r),zl(t,e),t}(e,n,t.D,t.Ga());return Ih(this,this.h.then((function(){if(_h(t).options.apiKey!=e.l)return r.reload()})).then((function(){return wh(t)&&e.uid==wh(t).uid?(zl(wh(t),e),t.da(e)):(mh(t,r),jl(r),t.da(r))})).then((function(){Th(t)})))},n.Bb=function(){var e=this;return Ih(this,this.h.then((function(){return e.b&&Xc(e.b.b),wh(e)?(mh(e,null),uh(e.i).then((function(){Th(e)}))):Pt()})))},n.Zc=function(){var e=this;return ch(this.i,_h(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=wh(e)&&t){n=wh(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return zl(wh(e),t),wh(e).I();(wh(e)||t)&&(mh(e,t),t&&(jl(t),t.ha=e.D),e.b&&Fc(e.b,e),Th(e))}}))},n.da=function(e){return sh(this.i,e)},n.mc=function(){Th(this),this.da(wh(this))},n.wc=function(){this.Bb()},n.xc=function(){this.Bb()},n.kc=function(e){var t=this;return this.h.then((function(){return bh(t,Pt(e))}))},n.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(wh(t))}))},n.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Ih(e,e.h.then((function(){!e.l&&$(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Eh(e)))})))}(this,(function(){e.next(wh(t))}))},n.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(wh(r)):"function"===typeof e.next&&e.next(wh(r))})),this.Pa(e,t,n)},n.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(wh(r)):"function"===typeof e.next&&e.next(wh(r))})),this.ib(e,t,n)},n.nc=function(e){var t=this;return Ih(this,this.h.then((function(){return wh(t)?wh(t).I(e).then((function(e){return{accessToken:e}})):null})))},n.Tc=function(e){var t=this;return this.h.then((function(){return bh(t,su(t.a,tu,{token:e}))})).then((function(e){var n=e.user;return Bl(n,"isAnonymous",!1),t.da(n),e}))},n.Uc=function(e,t){var n=this;return this.h.then((function(){return bh(n,su(n.a,nu,{email:e,password:t}))}))},n.dc=function(e,t){var n=this;return this.h.then((function(){return bh(n,su(n.a,xs,{email:e,password:t}))}))},n.ab=function(e){var t=this;return this.h.then((function(){return bh(t,e.ka(t.a))}))},n.Sc=function(e){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},n.Ab=function(){var e=this;return this.h.then((function(){var t=wh(e);if(t&&t.isAnonymous){var n=ei({providerId:null,isNewUser:!1});return ei({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bh(e,e.a.Ab()).then((function(t){var n=t.user;return Bl(n,"isAnonymous",!0),e.da(n),t}))}))},n.getUid=function(){return wh(this)&&wh(this).uid||null},n.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&wh(this)&&Nl(wh(this))},n.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&wh(this)&&Al(wh(this)),this.removeAuthTokenListener(e)},n.addAuthTokenListener=function(e){var t=this;this.s.push(e),Ih(this,this.h.then((function(){t.l||$(t.s,e)&&e(Eh(t))})))},n.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},n.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ah("local"),e.a,this.ja),this.b&&(Uc(this.b,this),Xc(this.b.b)),Promise.resolve()},n.hc=function(e){return Ih(this,function(e,t){return su(e,Ns,{identifier:t,continueUri:jr()?fr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},n.Bc=function(e){return!!jo(e)},n.xb=function(e,t){var n=this;return Ih(this,Pt().then((function(){var e=new Ai(t);if(!e.c)throw new k("argument-error",ji+" must be true when sending sign in link to email");return Bi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},n.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},n.ob=function(e,t){return Ih(this,this.a.ob(e,t).then((function(){})))},n.Sa=function(e){return Ih(this,this.a.Sa(e).then((function(e){return new ci(e)})))},n.kb=function(e){return Ih(this,this.a.kb(e).then((function(){})))},n.wb=function(e,t){var n=this;return Ih(this,Pt().then((function(){return"undefined"===typeof t||ve(t)?{}:Bi(new Ai(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},n.Wc=function(e,t){return Ih(this,rl(this,e,t,E(this.ab,this)))},n.Vc=function(e,t){var n=this;return Ih(this,Pt().then((function(){var r=t||fr(),i=Do(e,r);if(!(r=jo(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new k("tenant-id-mismatch");return n.ab(i)})))},Sh.prototype.render=function(){},Sh.prototype.reset=function(){},Sh.prototype.getResponse=function(){},Sh.prototype.execute=function(){};var kh=null;function Oh(e,t){return(t=Ph(t))&&e.a[t]||null}function Ph(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function xh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=lt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Nh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Ah(){}function Rh(){}Ch.prototype.render=function(e,t){return this.a[this.b.toString()]=new xh(e,t),this.b++},Ch.prototype.reset=function(e){var t=Oh(this,e);e=Ph(e),t&&e&&(t.delete(),delete this.a[e])},Ch.prototype.getResponse=function(e){return(e=Oh(this,e))?e.getResponse():null},Ch.prototype.execute=function(e){(e=Oh(this,e))&&e.execute()},xh.prototype.getResponse=function(){return Nh(this),this.b},xh.prototype.execute=function(){Nh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},xh.prototype.delete=function(){Nh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Jr(Ah,"FACTOR_ID","phone"),Rh.prototype.g=function(){return kh||(kh=new Ch),Pt(kh)},Rh.prototype.c=function(){};var Dh=null;function jh(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new _e(Ie,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Mh=new Kr(3e4,6e4);jh.prototype.g=function(e){var t=this;return new Et((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Mh.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete u[t.a]},Pt(Ga(Oe(Lh,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},jh.prototype.c=function(){this.b--};var Fh=null;function Uh(e,t,n,r,i,o,a){if(Jr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Dh||(Dh=new Rh),a=Dh):(Fh||(Fh=new jh),a=Fh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Bh])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[zh],!u.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lt(t)||!this.i&&lt(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new es(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[qh];this.a[qh]=function(e){if(Kh(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Ar(c,u);"function"===typeof t&&t(e)}};var l=this.a[Vh];this.a[Vh]=function(){if(Kh(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Ar(l,u);"function"===typeof e&&e()}}}var qh="callback",Vh="expired-callback",Bh="sitekey",zh="size";function Kh(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Wh(e,t){return e.h.push(t),t.oa((function(){Y(e.h,t)})),t}function Hh(e){if(e.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Gh(e,n,r){var i=!1;try{this.b=r||t.default.app()}catch(s){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=t.default.SDK_VERSION?xr(t.default.SDK_VERSION,a):null,Uh.call(this,r,e,n,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,R(P),i)}function Qh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=$h.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=$h[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(n=Uh.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Wh(this,Pt().then((function(){if(jr()&&!Tr())return _r();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,su(e.s,Ks,{})})).then((function(t){e.a[Bh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},n.render=function(){Hh(this);var e=this;return Wh(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=lt(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ct&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};me(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&vt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},n.verify=function(){Hh(this);var e=this;return Wh(this,this.render().then((function(t){return new Et((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},n.reset=function(){Hh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Hh(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=lt(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},S(Gh,Uh);var $h="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Yh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function Xh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function Jh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:g}}function Zh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function ef(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function tf(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function nf(e,t){return g(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function rf(e){return g(e)&&"string"===typeof e.uid}function of(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function af(e,t){for(var n in t){var r=t[n].name;e[r]=cf(r,e[n],t[n].j)}}function sf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:T((function(e){return this[e]}),n),set:T((function(e,t,n,r){Qh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function uf(e,t,n,r){e[t]=cf(t,n,r)}function cf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}af(hh.prototype,{kb:{name:"applyActionCode",j:[Yh("code")]},Sa:{name:"checkActionCode",j:[Yh("code")]},ob:{name:"confirmPasswordReset",j:[Yh("code"),Yh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Yh("email"),Yh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Yh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Yh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[of(Jh(),Zh(),"nextOrObserver"),Zh("opt_error",!0),Zh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Yh("email"),of(Jh("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Yh("email"),Jh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Yh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[tf()]},Tc:{name:"signInWithCustomToken",j:[Yh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Yh("email"),Yh("password")]},Vc:{name:"signInWithEmailLink",j:[Yh("email"),Yh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[of({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Il)}},ef(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Yh("url"),Jh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Yh("code")]}}),sf(hh.prototype,{lc:{name:"languageCode",lb:of(Yh(),ef(),"languageCode")},ti:{name:"tenantId",lb:of(Yh(),ef(),"tenantId")}}),hh.Persistence=rc,hh.Persistence.LOCAL="local",hh.Persistence.SESSION="session",hh.Persistence.NONE="none",af(Il.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},rb:{name:"linkWithCredential",j:[tf()]},Dc:{name:"linkWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},ub:{name:"reauthenticateWithCredential",j:[tf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Yh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[of(Jh("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Yh(null,!0)]},cd:{name:"unlink",j:[Yh("provider")]},Cb:{name:"updateEmail",j:[Yh("email")]},Db:{name:"updatePassword",j:[Yh("password")]},ed:{name:"updatePhoneNumber",j:[tf("phone")]},Eb:{name:"updateProfile",j:[Jh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Yh("email"),of(Jh("opt_actionCodeSettings",!0),ef(null,!0),"opt_actionCodeSettings",!0)]}}),af(Ch.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),af(Et.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),sf(tl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xh("appVerificationDisabledForTesting")}}),af(nl.prototype,{confirm:{name:"confirm",j:[Yh("verificationCode")]}}),uf(ho,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[bo,Ao,Mo,go],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[of(Yh(),Jh(),"json")]),uf(Ro,"credential",(function(e,t){return new No(e,t)}),[Yh("email"),Yh("password")]),af(No.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),af(To.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(To,"credential",Io,[of(Yh(),Jh(),"token")]),uf(Ro,"credentialWithLink",Do,[Yh("email"),Yh("emailLink")]),af(So.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(So,"credential",Co,[of(Yh(),Jh(),"token")]),af(ko.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(ko,"credential",Oo,[of(Yh(),of(Jh(),ef()),"idToken"),of(Yh(),ef(),"accessToken",!0)]),af(Po.prototype,{Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),uf(Po,"credential",xo,[of(Yh(),Jh(),"token"),Yh("secret",!0)]),af(Eo.prototype,{Ca:{name:"addScope",j:[Yh("scope")]},credential:{name:"credential",j:[of(Yh(),of(Jh(),ef()),"optionsOrIdToken"),of(Yh(),ef(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Jh("customOAuthParameters")]}}),af(yo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),af(po.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),uf(Uo,"credential",qo,[Yh("verificationId"),Yh("verificationCode")]),af(Uo.prototype,{gb:{name:"verifyPhoneNumber",j:[of(Yh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?nf(e.session,co)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?nf(e.session,lo)&&rf(e.multiFactorHint):e.session&&e.multiFactorUid?nf(e.session,lo)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),af(Lo.prototype,{w:{name:"toJSON",j:[Yh(null,!0)]}}),af(k.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),af($o.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),af(Qo.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),af(ul.prototype,{toJSON:{name:"toJSON",j:[Yh(null,!0)]}}),af(ol.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),af(pl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Yh("displayName",!0)]},bd:{name:"unenroll",j:[of({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rf},Yh(),"multiFactorInfoIdentifier")]}}),af(Gh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),uf(Ti,"parseLink",Ni,[Yh("link")]),uf(Ah,"assertion",(function(e){return new fl(e)}),[tf("phone")]),function(){if("undefined"===typeof t.default||!t.default.INTERNAL||!t.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:hh,AuthCredential:ho,Error:k};uf(e,"EmailAuthProvider",Ro,[]),uf(e,"FacebookAuthProvider",To,[]),uf(e,"GithubAuthProvider",So,[]),uf(e,"GoogleAuthProvider",ko,[]),uf(e,"TwitterAuthProvider",Po,[]),uf(e,"OAuthProvider",Eo,[Yh("providerId")]),uf(e,"SAMLAuthProvider",wo,[Yh("providerId")]),uf(e,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof hh)}}]),uf(e,"RecaptchaVerifier",Gh,[of(Yh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Jh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof t.default.app.App)}}]),uf(e,"ActionCodeURL",Ti,[]),uf(e,"PhoneMultiFactorGenerator",Ah,[]),t.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new hh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),t.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),t.default.registerVersion("@firebase/auth","0.16.8"),t.default.INTERNAL.extendNamespace({User:Il})}()}).apply("undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(24))},function(e,t,n){"use strict";(function(e){var r=n(3),i=n.n(r),o=n(12),a=n(5),s=n.n(a),u=1073741823,c="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function l(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var h=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return c[e]=(c[e]||0)+1}()+"__",h=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=l(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):u,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);h.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?u:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?u:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:h,Consumer:f}};t.a=h}).call(this,n(24))},function(e,t,n){e.exports=n(97)},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},i=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var u,c,l,h,f=s(n(3)),d=n(45),p=n(115),v=d.keyframes(u||(u=r(["\n  100% {transform: rotate(360deg)}\n"],["\n  100% {transform: rotate(360deg)}\n"]))),g=d.keyframes(c||(c=r(["\n  0%, 100% {transform: scale(0)}\n  50% {transform: scale(1.0)}\n"],["\n  0%, 100% {transform: scale(0)}\n  50% {transform: scale(1.0)}\n"]))),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.style=function(e){var n=t.props,i=n.size,o=n.color,a=n.speedMultiplier,s=p.parseLengthAndUnit(i),u=s.value,c=s.unit;return d.css(l||(l=r(["\n      position: absolute;\n      top: ",";\n      bottom: ",";\n      height: ",";\n      width: ",";\n      background-color: ",";\n      border-radius: 100%;\n      animation-fill-mode: forwards;\n      animation: "," ","s "," infinite linear;\n    "],["\n      position: absolute;\n      top: ",";\n      bottom: ",";\n      height: ",";\n      width: ",";\n      background-color: ",";\n      border-radius: 100%;\n      animation-fill-mode: forwards;\n      animation: "," ","s "," infinite linear;\n    "])),e%2?"0":"auto",e%2?"auto":"0",""+u/2+c,""+u/2+c,o,g,2/a,2===e?"-1s":"0s")},t.wrapper=function(){var e=t.props,n=e.size,i=e.speedMultiplier;return d.css(h||(h=r(["\n      position: relative;\n      width: ",";\n      height: ",";\n      animation-fill-mode: forwards;\n      animation: "," ","s 0s infinite linear;\n    "],["\n      position: relative;\n      width: ",";\n      height: ",";\n      animation-fill-mode: forwards;\n      animation: "," ","s 0s infinite linear;\n    "])),p.cssValue(n),p.cssValue(n),v,2/i)},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.loading,n=e.css;return t?d.jsx("span",{css:[this.wrapper(),n]},d.jsx("span",{css:this.style(1)}),d.jsx("span",{css:this.style(2)})):null},t.defaultProps=p.sizeDefaults(60),t}(f.PureComponent);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(120)),i=o(n(152));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)(r.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaginationTotalStandalone=t.SizePerPageDropdownStandalone=t.PaginationListStandalone=t.PaginationProvider=void 0;var r=l(n(3)),i=l(n(5)),o=l(n(61)),a=l(n(157)),s=l(n(161)),u=l(n(162)),c=l(n(163));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{createContext:a.default,options:e}};var h=(0,o.default)(),f=h.Provider,d=h.Consumer,p=function(e){return r.default.createElement(f,e,r.default.createElement(d,null,(function(t){return e.children(t)})))};p.propTypes={children:i.default.func.isRequired};t.PaginationProvider=p;t.PaginationListStandalone=s.default,t.SizePerPageDropdownStandalone=u.default,t.PaginationTotalStandalone=c.default},function(e,t,n){"use strict";n.d(t,"a",(function(){return o.default}));var r,i,o=n(4),a=(n(70),n(182),n(11)),s=n(7),u=n(1),c=n(6),l=(n(14),{Firestore:a.s,GeoPoint:a.b,Timestamp:a.f,Blob:a.k,Transaction:a.g,WriteBatch:a.o,DocumentReference:a.d,DocumentSnapshot:a.i,Query:a.j,QueryDocumentSnapshot:a.h,QuerySnapshot:a.m,CollectionReference:a.p,FieldPath:a.n,FieldValue:a.t,setLogLevel:a.e,CACHE_SIZE_UNLIMITED:a.r});(function(e,t){e.INTERNAL.registerComponent(new s.Component("firestore",(function(e){return function(e,t){return new a.s(e,new a.c(e,t),new a.a)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},l)))})(r=o.default),r.registerVersion("@firebase/firestore","2.3.8"),(i=a.s).prototype.loadBundle=a.q,i.prototype.namedQuery=a.l;var h=n(0),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},d=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return Object(h.__extends)(t,e),t}(Error);var p=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function v(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var g=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return v(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?v(e,(function(e){return t.decode(e)})):e},e}();var y=function(){function e(e,t,n,i,o,a){var s=this;void 0===o&&(o="us-central1"),this.app_=e,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new g,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new p(t,n),this.cancelAllRequests=new Promise((function(e){s.deleteService=function(){return e()}}));try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(r){this.customDomain=null,this.region=o}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,p,v,g,y;return Object(h.__generator)(this,(function(h){switch(h.label){case 0:return i=this._url(e),t=this.serializer.encode(t),o={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(s=h.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new d("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),l=c.timer,p=c.promise,[4,Promise.race([m(l,this.postJSON(i,o,a)),p,m(l,this.cancelAllRequests)])];case 2:if(!(v=h.sent()))throw new d("cancelled","Firebase Functions instance was deleted.");if(g=function(e,t,n){var i=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=i,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"===typeof u){if(!f[u])return new d("internal","internal");i=f[u],o=u}var c=s.message;"string"===typeof c&&(o=c),void 0!==(a=s.details)&&(a=n.decode(a))}}catch(r){}return"ok"===i?null:new d(i,o,a)}(v.status,v.json,this.serializer),g)throw g;if(!v.json)throw new d("internal","Response is not valid JSON object.");if("undefined"===typeof(y=v.json.data)&&(y=v.json.result),"undefined"===typeof y)throw new d("internal","Response is missing data field.");return[2,{data:this.serializer.decode(y)}]}}))}))},e}();function m(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:y};e.INTERNAL.registerComponent(new s.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new y(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.default,fetch.bind(self)),o.default.registerVersion("@firebase/functions","0.6.13");var b,_=n(23),w="0.4.30",E=1e4,T="w:0.4.30",I="FIS_v2",S=36e5,C=((b={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',b["not-registered"]="Firebase Installation is not registered.",b["installation-not-found"]="Firebase Installation not found.",b["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',b["app-offline"]="Could not process request. Application offline.",b["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",b),k=new u.ErrorFactory("installations","Installations",C);function O(e){return e instanceof u.FirebaseError&&e.code.includes("request-failed")}function P(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function x(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function N(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,k.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function A(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function R(e,t){var n=t.refreshToken,r=A(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function D(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function j(e,t){var n=t.fid;return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return t=P(e),r=A(e),i={fid:n,authVersion:I,appId:e.appId,sdkVersion:T},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,D((function(){return fetch(t,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),[2,{fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:x(s.authToken)}];case 3:return[4,N("Create Installation",a)];case 4:throw u.sent()}}))}))}function L(e){return new Promise((function(t){setTimeout(t,e)}))}var M=/^[cdef][\w-]{21}$/;function F(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(h.__spreadArray)([],Object(h.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return M.test(t)?t:""}catch(n){return""}}function U(e){return e.appName+"!"+e.appId}var q=new Map;function V(e,t){var n=U(e);B(n,t),function(e,t){var n=K();n&&n.postMessage({key:e,fid:t});W()}(n,t)}function B(e,t){var n,r,i=q.get(e);if(i)try{for(var o=Object(h.__values)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var z=null;function K(){return!z&&"BroadcastChannel"in self&&((z=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){B(e.data.key,e.data.fid)}),z}function W(){0===q.size&&z&&(z.close(),z=null)}var H,G,Q="firebase-installations-store",$=null;function Y(){return $||($=Object(_.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Q)}))),$}function X(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:return n=U(e),[4,Y()];case 1:return r=s.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===t.fid||V(e,t.fid),[2,t]}}))}))}function J(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return t=U(e),[4,Y()];case 1:return n=i.sent(),[4,(r=n.transaction(Q,"readwrite")).objectStore(Q).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Z(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return n=U(e),[4,Y()];case 1:return r=u.sent(),i=r.transaction(Q,"readwrite"),[4,(o=i.objectStore(Q)).get(n)];case 2:return a=u.sent(),void 0!==(s=t(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||V(e,s.fid),[2,s]}}))}))}function ee(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,Z(e,(function(n){var r=function(e){return re(e||{fid:F(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(k.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,j(e,t)];case 1:return n=i.sent(),[2,X(e,n)];case 2:return O(r=i.sent())&&409===r.customData.serverCode?[4,J(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,X(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:te(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function te(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return[4,ne(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,L(100)];case 3:return o.sent(),[4,ne(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,ee(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function ne(e){return Z(e,(function(e){if(!e)throw k.create("installation-not-found");return re(e)}))}function re(e){return 1===(t=e).registrationStatus&&t.registrationTime+E<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function ie(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,c;return Object(h.__generator)(this,(function(l){switch(l.label){case 0:return e=function(e,t){var n=t.fid;return P(e)+"/"+n+"/authTokens:generate"}(n,t),i=R(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:T}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,D((function(){return fetch(e,s)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,x(c)];case 3:return[4,N("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function oe(e,t){return void 0===t&&(t=!1),Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return[4,Z(e.appConfig,(function(r){if(!se(r))throw k.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+S}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,ae(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,L(100)];case 3:return i.sent(),[4,ae(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,oe(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw k.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return Object(h.__assign)(Object(h.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ie(e,t)];case 1:return n=o.sent(),i=Object(h.__assign)(Object(h.__assign)({},t),{authToken:n}),[4,X(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!O(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,J(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(h.__assign)(Object(h.__assign)({},t),{authToken:{requestStatus:0}}),[4,X(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function ae(e){return Z(e,(function(e){if(!se(e))throw k.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+E<Date.now()?Object(h.__assign)(Object(h.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function se(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return[4,ee(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function ce(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return P(e)+"/"+n}(e,t),r=R(e,t),i={method:"DELETE",headers:r},[4,D((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,N("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function le(e,t){var n=e.appConfig;return function(e,t){K();var n=U(e),r=q.get(n);r||(r=new Set,q.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=U(e),r=q.get(n);r&&(r.delete(t),0===r.size&&q.delete(n),W())}(n,t)}}function he(e){return k.create("missing-app-config-values",{valueName:e})}(H=o.default).INTERNAL.registerComponent(new s.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw he("App Configuration");if(!e.name)throw he("App Name");try{for(var r=Object(h.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw he(o)}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,ee(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):oe(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return[4,ue(e.appConfig)];case 1:return n.sent(),[4,oe(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,Z(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw k.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw k.create("app-offline");case 3:return[4,ce(t,n)];case 4:return r.sent(),[4,J(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return le(r,e)}};return i}),"PUBLIC")),H.registerVersion("@firebase/installations",w);var fe,de=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",G),pe=new u.ErrorFactory("messaging","Messaging",de),ve="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ge="google.c.a.c_id";function ye(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,Object(h.__spreadArray)([],Object(h.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function me(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(fe||(fe={}));var be="fcm_token_details_db",_e="fcm_token_object_Store";function we(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i=this;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=o.sent(),n=t.map((function(e){return e.name})),!n.includes(be))return[2,null];o.label=2;case 2:return r=null,[4,Object(_.openDb)(be,5,(function(t){return Object(h.__awaiter)(i,void 0,void 0,(function(){var n,i,o,a;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(_e)?[4,(n=t.transaction.objectStore(_e)).index("fcmSenderId").get(e)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===t.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:ye(o.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:ye(o.auth),p256dh:ye(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:ye(o.vapidKey)}});return[2]}}))}))}))];case 3:return o.sent().close(),[4,Object(_.deleteDb)(be)];case 4:return o.sent(),[4,Object(_.deleteDb)("fcm_vapid_details_db")];case 5:return o.sent(),[4,Object(_.deleteDb)("undefined")];case 6:return o.sent(),[2,Ee(r)?r:null]}}))}))}function Ee(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var Te="firebase-messaging-store",Ie=null;function Se(){return Ie||(Ie=Object(_.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Te)}))),Ie}function Ce(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return t=Pe(e),[4,Se()];case 1:return[4,i.sent().transaction(Te).objectStore(Te).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,we(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,ke(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function ke(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return n=Pe(e),[4,Se()];case 1:return r=o.sent(),[4,(i=r.transaction(Te,"readwrite")).objectStore(Te).put(t,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,t]}}))}))}function Oe(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return t=Pe(e),[4,Se()];case 1:return n=i.sent(),[4,(r=n.transaction(Te,"readwrite")).objectStore(Te).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Pe(e){return e.appConfig.appId}function xe(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return[4,De(e)];case 1:n=u.sent(),r=je(t),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Re(e.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),pe.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,pe.create("token-subscribe-failed",{errorInfo:s});if(!o.token)throw pe.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Ne(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return[4,De(e)];case 1:n=u.sent(),r=je(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(Re(e.appConfig)+"/"+t.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw a=u.sent(),pe.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw s=o.error.message,pe.create("token-update-failed",{errorInfo:s});if(!o.token)throw pe.create("token-update-no-token");return[2,o.token]}}))}))}function Ae(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:return[4,De(e)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Re(e.appConfig)+"/"+t,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,pe.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),pe.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}}))}))}function Re(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function De(e){var t=e.appConfig,n=e.installations;return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function je(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==ve&&(o.web.applicationPubKey=i),o}function Le(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw pe.create("permission-blocked");return[4,qe(t,n)];case 1:return r=s.sent(),[4,Ce(e)];case 2:return i=s.sent(),o={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:ye(r.getKey("auth")),p256dh:ye(r.getKey("p256dh"))},i?[3,3]:[2,Ue(e,o)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ae(e,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Ue(e,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Fe({token:i.token,createTime:Date.now(),subscriptionOptions:o},e,t)]:[2,i.token];case 9:return[2]}}))}))}function Me(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ce(e)];case 1:return(n=i.sent())?[4,Ae(e,n.token)]:[3,4];case 2:return i.sent(),[4,Oe(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function Fe(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Ne(t,e)];case 1:return r=a.sent(),i=Object(h.__assign)(Object(h.__assign)({},e),{token:r,createTime:Date.now()}),[4,ke(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Me(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Ue(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,xe(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,ke(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function qe(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:me(t)})]}}))}))}function Ve(e){return"object"===typeof e&&!!e&&ge in e}function Be(e){return new Promise((function(t){setTimeout(t,e)}))}var ze=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw pe.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ce(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:ve,r.label=2;case 2:return[2,Le(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return Me(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw pe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw pe.create("only-available-in-window")},e.prototype.onMessage=function(){throw pe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw pe.create("only-available-in-window")},e.prototype.onPush=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Ge()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,He(n,t)]:(r=!1,t.notification?[4,Qe(Ke(t))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(e){var t={from:e.from,collapseKey:e.collapse_key};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,Be(1e3)]);case 4:return o.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return Object(h.__awaiter)(this,void 0,void 0,(function(){var r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,Me(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,Ce(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Me(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,Le(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:ve)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),i=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Ve(e.data)?self.location.origin:null}(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,We(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,Be(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=fe.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},e}();function Ke(e){var t,n=Object(h.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function We(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ge()];case 1:t=u.sent();try{for(n=Object(h.__values)(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function He(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=fe.PUSH_RECEIVED;try{for(var i=Object(h.__values)(e),o=i.next();!o.done;o=i.next()){o.value.postMessage(t)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ge(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Qe(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var $e=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===fe.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),Ve(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw pe.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,Le(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=ve),[2]}))}))},e.prototype.updateSwReg=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),pe.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,Me(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?pe.create("permission-blocked"):pe.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw pe.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw pe.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw pe.create("invalid-sw-registration");if(this.swRegistration)throw pe.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw pe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw pe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case fe.NOTIFICATION_CLICKED:return"notification_open";case fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Ye(e){return pe.create("missing-app-config-values",{valueName:e})}var Xe={isSupported:Je};function Je(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}o.default.INTERNAL.registerComponent(new s.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Ye("App Configuration Object");if(!e.name)throw Ye("App Name");var r=e.options;try{for(var i=Object(h.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw Ye(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Je())throw pe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ze(r):new $e(r)}),"PUBLIC").setServiceProps(Xe));var Ze="firebasestorage.googleapis.com",et=function(e){function t(n,r){var i=e.call(this,tt(n),"Firebase Storage: "+r+" ("+tt(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return Object(h.__extends)(t,e),t.prototype._codeEquals=function(e){return tt(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(u.FirebaseError);function tt(e){return"storage/"+e}function nt(){return new et("unknown","An unknown error occurred, please check the error payload for server response.")}function rt(){return new et("canceled","User canceled the upload/download.")}function it(){return new et("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ot(e){return new et("invalid-argument",e)}function at(){return new et("app-deleted","The Firebase app was deleted.")}function st(e){return new et("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ut(e,t){return new et("invalid-format","String does not match format '"+e+"': "+t)}function ct(e){throw new et("internal-error","Internal error: "+e)}var lt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ht=function(e,t){this.data=e,this.contentType=t||null};function ft(e,t){switch(e){case lt.RAW:return new ht(dt(t));case lt.BASE64:case lt.BASE64URL:return new ht(pt(e,t));case lt.DATA_URL:return new ht(function(e){var t=new vt(e);return t.base64?pt(lt.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(r){throw ut(lt.DATA_URL,"Malformed data URL.")}return dt(t)}(t.rest)}(t),new vt(t).contentType)}throw nt()}function dt(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function pt(e,t){switch(e){case lt.BASE64:var n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i)throw ut(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case lt.BASE64URL:var o=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(o||a)throw ut(e,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(t)}catch(r){throw ut(e,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var vt=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw ut(lt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var gt,yt={STATE_CHANGED:"state_changed"},mt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bt(e){switch(e){case"running":case"pausing":case"canceling":return mt.RUNNING;case"paused":return mt.PAUSED;case"success":return mt.SUCCESS;case"canceled":return mt.CANCELED;default:return mt.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gt||(gt={}));var _t=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=gt.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=gt.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=gt.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw ct("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ct("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ct("cannot .getStatus() before sending");try{return this.xhr_.status}catch(r){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ct("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var wt=function(){function e(){}return e.prototype.createConnection=function(){return new _t},e}(),Et=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch(r){return new e(t,"")}if(""===i.path)return i;throw new et("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Ze?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(t);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),r=new e(f,d),l.postModify(r);break}}if(null==r)throw function(e){return new et("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),Tt=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function It(e){return"string"===typeof e||e instanceof String}function St(e){return Ct()&&e instanceof Blob}function Ct(){return"undefined"!==typeof Blob}function kt(e,t,n,r){if(r<t)throw ot("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw ot("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Ot(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Pt(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var xt=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var i,o=e.resolve_,a=e.reject_,s=n.connection;if(n.wasSuccessCode)try{var u=e.callback_(s,s.getResponseText());void 0!==u?o(u):o()}catch(r){a(r)}else null!==s?((i=nt()).serverResponse=s.getResponseText(),e.errorCallback_?a(e.errorCallback_(s,i)):a(i)):n.canceled?a(i=e.appDelete_?at():rt()):a(i=new et("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Nt(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){i=setTimeout((function(){i=null,e(f,s())}),t)}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!u)if(e)c.call.apply(c,Object(h.__spreadArray)([null,e],t));else{var i;s()||o?c.call.apply(c,Object(h.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),l(i))}}var d=!1;function p(e){d||(d=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new Nt(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===gt.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Nt(a,r))}else{var s=r.getErrorCode()===gt.ABORT;t(!1,new Nt(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Nt=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function At(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Rt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=At();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(Ct())return new Blob(e);throw new et("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Dt=function(){function e(e,t){var n=0,r="";St(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(St(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ct()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(Rt.apply(null,r))}var i=t.map((function(e){return It(e)?ft(lt.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function jt(e){var t,n;try{t=JSON.parse(e)}catch(r){return null}return"object"!==typeof(n=t)||Array.isArray(n)?null:t}function Lt(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Mt(e,t){return t}var Ft=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Mt},Ut=null;function qt(){if(Ut)return Ut;var e=[];e.push(new Ft("bucket")),e.push(new Ft("generation")),e.push(new Ft("metageneration")),e.push(new Ft("name","fullPath",!0));var t=new Ft("name");t.xform=function(e,t){return function(e){return!It(e)||e.length<2?e:Lt(e)}(t)},e.push(t);var n=new Ft("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Ft("timeCreated")),e.push(new Ft("updated")),e.push(new Ft("md5Hash",null,!0)),e.push(new Ft("cacheControl",null,!0)),e.push(new Ft("contentDisposition",null,!0)),e.push(new Ft("contentEncoding",null,!0)),e.push(new Ft("contentLanguage",null,!0)),e.push(new Ft("contentType",null,!0)),e.push(new Ft("metadata","customMetadata",!0)),Ut=e}function Vt(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Et(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Bt(e,t,n){var r=jt(t);return null===r?null:Vt(e,r,n)}function zt(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Kt(e,t,n){var r=jt(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new Et(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new Et(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Wt=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ht(e){if(!e)throw nt()}function Gt(e,t){return function(n,r){var i=Bt(e,r,t);return Ht(null!==i),i}}function Qt(e,t){return function(n,r){var i=Bt(e,r,t);return Ht(null!==i),function(e,t,n){var r=jt(t);if(null===r)return null;if(!It(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Ot("/b/"+o(r)+"/o/"+o(i),n)+Pt({alt:"media",token:t})}))[0]}(i,r,e.host)}}function $t(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new et("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new et("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new et("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new et("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Yt(e){var t=$t(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new et("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Xt(e,t,n){var r=Ot(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Wt(r,"GET",Gt(e,n),i);return o.errorHandler=Yt(t),o}function Jt(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ot(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Wt(a,"GET",function(e,t){return function(n,r){var i=Kt(e,t,r);return Ht(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=$t(t),u}function Zt(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var en=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function tn(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){Ht(!1)}return Ht(!!n&&-1!==(t||["active"]).indexOf(n)),n}var nn=262144;function rn(e,t,n,r,i,o,a,s){var u=new en(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new et("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(h,f);if(null===p)throw it();var v=t.maxUploadRetryTime,g=new Wt(n,"POST",(function(e,n){var i,a=tn(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Gt(t,o)(e,n):null,new en(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=$t(e),g}var on=function(e,t,n){if("function"===typeof e||null!=t||null!=n)this.next=e,this.error=t,this.complete=n;else{var r=e;this.next=r.next,this.error=r.error,this.complete=r.complete}};function an(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var sn=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=qt(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var i=function(e,t,n,i,o){var a=t.bucketOnlyServerUrl(),s=Zt(t,i,o),u={name:s.fullPath},c=Ot(a,e.host),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},h=zt(s,n),f=e.maxUploadRetryTime,d=new Wt(c,"POST",(function(e){var t;tn(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(r){Ht(!1)}return Ht(It(t)),t}),f);return d.urlParams=u,d.headers=l,d.body=h,d.errorHandler=$t(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(i,t,n);e._request=o,o.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,i){var o=function(e,t,n,i){var o=e.maxUploadRetryTime,a=new Wt(n,"POST",(function(e){var t=tn(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(r){Ht(!1)}n||Ht(!1);var o=Number(n);return Ht(!isNaN(o)),new en(o,i.size(),"final"===t)}),o);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=$t(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(o,n,i);e._request=a,a.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=nn*this._chunkMultiplier,n=new en(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((function(o,a){var s;try{s=rn(e._ref._location,e._ref.storage,i,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(r){return e._error=r,void e._transition("error")}var u=e._ref.storage._makeRequest(s,o,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){nn*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Xt(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Zt(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zt(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Dt.getBlob(c,r,l);if(null===h)throw it();var f={name:u.fullPath},d=Ot(o,e.host),p=e.maxUploadRetryTime,v=new Wt(d,"POST",Gt(e,n),p);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=$t(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=rt(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=bt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new on(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(bt(this._state)){case mt.SUCCESS:an(this._resolve.bind(null,this.snapshot))();break;case mt.CANCELED:case mt.ERROR:an(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(bt(this._state)){case mt.RUNNING:case mt.PAUSED:e.next&&an(e.next.bind(e,this.snapshot))();break;case mt.SUCCESS:e.complete&&an(e.complete.bind(e))();break;default:e.error&&an(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),un=function(){function e(e,t){this._service=e,this._location=t instanceof Et?t:Et.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new Et(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Lt(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new Et(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw st(e)},e}();function cn(e){var t={prefixes:[],items:[]};return ln(e,t).then((function(){return t}))}function ln(e,t,n){return Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return[4,hn(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ln(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function hn(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&kt("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Jt(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function fn(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Ot(t.fullServerUrl(),e.host),o=zt(n,r),a=e.maxOperationRetryTime,s=new Wt(i,"PATCH",Gt(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Yt(t),s}(e.storage,e._location,t,qt()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function dn(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Ot(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Wt(r,"GET",Qt(e,n),i);return o.errorHandler=Yt(t),o}(e.storage,e._location,qt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new et("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function pn(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Ot(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Wt(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Yt(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function vn(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Et(e._location.bucket,n);return new un(e.storage,r)}function gn(e){return/^[A-Za-z]+:\/\//.test(e)}function yn(e,t){if(e instanceof _n){var n=e;if(null==n._bucket)throw new et("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new un(n,n._bucket);return null!=t?yn(r,t):r}if(void 0!==t){if(t.includes(".."))throw ot('`path` param cannot contain ".."');return vn(e,t)}return e}function mn(e,t){if(t&&gn(t)){if(e instanceof _n)return new un(e,t);throw ot("To use ref(service, url), the first argument must be a Storage instance.")}return yn(e,t)}function bn(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:Et.makeFromBucketSpec(n,e)}var _n=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ze,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Et.makeFromBucketSpec(i,this._host):bn(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=Et.makeFromBucketSpec(this._url,e):this._bucket=bn(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){kt("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){kt("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new un(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new Tt(at());var i=function(e,t,n,r,i,o){var a=Pt(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new xt(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function wn(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new sn(e,new Dt(t),n)}(e=Object(u.getModularInstance)(e),t,n)}function En(e){return function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Xt(e.storage,e._location,qt()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=Object(u.getModularInstance)(e))}function Tn(e,t){return mn(e=Object(u.getModularInstance)(e),t)}var In=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),Sn=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new In(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new In(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new In(e,i,i._ref))}:{next:t.next?function(e){return t.next(new In(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),Cn=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new kn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new kn(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),kn=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return vn(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new Sn(wn(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=lt.RAW),this._throwIfRoot("putString");var r=ft(t,e),i=Object(h.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Sn(new sn(this._delegate,new Dt(r.data,!0),i),this)},e.prototype.listAll=function(){var e,t=this;return(e=this._delegate,cn(e=Object(u.getModularInstance)(e))).then((function(e){return new Cn(e,t.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return hn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new Cn(e,t.storage)}))},e.prototype.getMetadata=function(){return En(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return fn(e=Object(u.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return e=this._delegate,dn(e=Object(u.getModularInstance)(e));var e},e.prototype.delete=function(){return this._throwIfRoot("delete"),e=this._delegate,pn(e=Object(u.getModularInstance)(e));var e},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw st(e)},e}(),On=function(){function e(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(gn(e))throw ot("ref() expected a child path but got a URL, use refFromURL instead.");return new kn(Tn(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!gn(e))throw ot("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Et.makeFromUrl(e,this._delegate.host)}catch(r){throw ot("refFromUrl() expected a valid full URL but got an invalid one.")}return new kn(Tn(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t){!function(e,t,n){e.host="http://"+t+":"+n}(this._delegate,e,t)},e}();function Pn(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new On(r,new _n(r,i,a,new wt,n,o.default.SDK_VERSION))}!function(e){var t={TaskState:mt,TaskEvent:yt,StringFormat:lt,Storage:_n,Reference:kn};e.INTERNAL.registerComponent(new s.Component("storage",Pn,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.5.6")}(o.default);var xn,Nn,An,Rn="0.4.16",Dn=Rn,jn="FB-PERF-TRACE-MEASURE",Ln="_wt_",Mn="_fcp",Fn="_fid",Un="@firebase/performance/config",qn="@firebase/performance/configexpire",Vn="Performance",Bn=((xn={})["trace started"]="Trace {$traceName} was started before.",xn["trace stopped"]="Trace {$traceName} is not running.",xn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",xn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",xn["no window"]="Window is not available.",xn["no app id"]="App id is not available.",xn["no project id"]="Project id is not available.",xn["no api key"]="Api key is not available.",xn["invalid cc log"]="Attempted to queue invalid cc event",xn["FB not default"]="Performance can only start when Firebase app instance is the default one.",xn["RC response not ok"]="RC response is not ok",xn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",xn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",xn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",xn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",xn),zn=new u.ErrorFactory("performance",Vn,Bn),Kn=new c.Logger(Vn);Kn.logLevel=c.LogLevel.INFO;var Wn,Hn=function(){function e(e){if(this.window=e,!e)throw zn.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(u.isIndexedDBAvailable)()||(Kn.info("IndexedDB is not supported by current browswer"),!1):(Kn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===Nn&&(Nn=new e(An)),Nn},e}();function Gn(e,t){var n=e.length-t.length;if(n<0||n>1)throw zn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var Qn,$n,Yn=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Gn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Gn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw zn.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw zn.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw zn.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Wn&&(Wn=new e),Wn},e}();function Xn(){return Qn}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}($n||($n={}));var Jn=["firebase_","google_","ga_"],Zn=new RegExp("^[a-zA-Z]\\w*$");function er(){var e=Hn.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function tr(){switch(Hn.getInstance().document.visibilityState){case"visible":return $n.VISIBLE;case"hidden":return $n.HIDDEN;default:return $n.UNKNOWN}}function nr(){var e=Hn.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var rr="0.0.1",ir=!0,or="FIREBASE_INSTALLATIONS_AUTH";function ar(e){var t=function(){var e=Hn.getInstance().localStorage;if(!e)return;var t=e.getItem(qn);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(Un);if(!r)return;try{return JSON.parse(r)}catch(i){return}}();return t?(ur(t),Promise.resolve()):function(e){return function(){var e=Yn.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Yn.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Yn.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:or+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Yn.getInstance().getAppId(),app_version:Dn,sdk_version:rr})});return fetch(r).then((function(e){if(e.ok)return e.json();throw zn.create("RC response not ok")}))})).catch((function(){Kn.info(sr)}))}(e).then(ur).then((function(e){return function(e){var t=Hn.getInstance().localStorage;if(!e||!t)return;t.setItem(Un,JSON.stringify(e)),t.setItem(qn,String(Date.now()+60*Yn.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var sr="Could not fetch config, will use default configs";function ur(e){if(!e)return e;var t=Yn.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=ir,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=cr(t.tracesSamplingRate),t.logNetworkAfterSampling=cr(t.networkRequestsSamplingRate),e}function cr(e){return Math.random()<=e}var lr,hr=1;function fr(){return hr=2,lr=lr||function(){var e=Hn.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function n(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Yn.getInstance().installationsService.getId();return e.then((function(e){Qn=e})),e}()})).then((function(e){return ar(e)})).then((function(){return dr()}),(function(){return dr()}))}function dr(){hr=3}var pr,vr=1e4,gr=3,yr=[],mr=!1;function br(e){setTimeout((function(){if(0!==gr)return yr.length?void function(){var e=yr.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Yn.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Kn.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=vr;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(yr=Object(h.__spreadArray)(Object(h.__spreadArray)([],t),yr),Kn.info("Retry transport request later.")),gr=3,br(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Yn.getInstance().logSource,log_event:t},e).catch((function(){yr=Object(h.__spreadArray)(Object(h.__spreadArray)([],e),yr),gr--,Kn.info("Tries left: "+gr+"."),br(vr)}))}():br(vr)}),e)}function _r(e){if(!e.eventTime||!e.message)throw zn.create("invalid cc log");yr=Object(h.__spreadArray)(Object(h.__spreadArray)([],yr),[e])}function wr(e,t){pr||(pr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];_r({message:e.apply(void 0,t),eventTime:Date.now()})}}(Ir)),pr(e,t)}function Er(e){var t=Yn.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Hn.getInstance().requiredApisAvailable()&&(e.isAuto&&tr()!==$n.VISIBLE||(3===hr?Tr(e):fr().then((function(){return Tr(e)}),(function(){return Tr(e)}))))}function Tr(e){if(Xn()){var t=Yn.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return wr(e,1)}),0)}}function Ir(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Sr(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Sr(),trace_metric:t};return JSON.stringify(r)}(e)}function Sr(){return{google_app_id:Yn.getInstance().getAppId(),app_instance_id:Xn(),web_app_info:{sdk_version:Dn,page_url:Hn.getInstance().getUrl(),service_worker_status:er(),visibility_state:tr(),effective_connection_type:nr()},application_process_state:0}}var Cr=["_fp",Mn,Fn];var kr=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Hn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw zn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw zn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Er(this)},e.prototype.record=function(e,t,n){if(e<=0)throw zn.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw zn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Object(h.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Er(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(Ln)&&Cr.indexOf(n)>-1)&&n.startsWith("_"))throw zn.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Kn.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Jn.some((function(e){return n.startsWith(e)}))&&!!n.match(Zn),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw zn.create("invalid attribute name",{attributeName:e});if(!i)throw zn.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return Object(h.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Hn.getInstance().getUrl();if(i){var o=new e(Ln+i,!0),a=Math.floor(1e3*Hn.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Mn,Math.floor(1e3*u.startTime)),r&&o.putMetric(Fn,Math.floor(1e3*r))}Er(o)}},e.createUserTimingTrace=function(t){Er(new e(t,!1,t))},e}();function Or(e){var t=e;if(t&&void 0!==t.responseStart){var n=Hn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Yn.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return wr(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Pr(){Xn()&&(setTimeout((function(){return function(){var e=Hn.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){kr.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),kr.createOobTrace(t,n,e))}))}else kr.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Hn.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){Or(r[n])}e.setupObserver("resource",Or)}()}),0),setTimeout((function(){return function(){for(var e=Hn.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){xr(r[n])}e.setupObserver("measure",xr)}()}),0))}function xr(e){var t=e.name;t.substring(0,jn.length)!==jn&&kr.createUserTimingTrace(t)}var Nr=function(){function e(e){this.app=e,Hn.getInstance().requiredApisAvailable()&&Object(u.validateIndexedDBOpenable)().then((function(e){e&&(mr||(br(5500),mr=!0),fr().then(Pr,Pr))})).catch((function(e){Kn.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new kr(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Yn.getInstance().instrumentationEnabled},set:function(e){Yn.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Yn.getInstance().dataCollectionEnabled},set:function(e){Yn.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw zn.create("FB not default");if("undefined"===typeof window)throw zn.create("no window");return function(e){An=e}(window),Yn.getInstance().firebaseAppInstance=e,Yn.getInstance().installationsService=t,new Nr(e)};e.INTERNAL.registerComponent(new s.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Rn)}(o.default);var Ar,Rr,Dr="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(Ar||(Ar={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(Rr||(Rr={}));var jr,Lr=new c.Logger("@firebase/analytics");function Mr(e,t,n,r,i,o){return Object(h.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c;return Object(h.__generator)(this,(function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find((function(e){return e.measurementId===i})))?[4,t[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),Lr.error(c),[3,8];case 8:return e(Ar.CONFIG,i,o),[2]}}))}))}function Fr(e,t,n,r,i){return Object(h.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,d;return Object(h.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=h.sent(),u=function(e){var n=s.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&(f=l[c],"break"!==u(f));c++);h.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return h.sent(),e(Ar.EVENT,r,i||{}),[3,5];case 4:return d=h.sent(),Lr.error(d),[3,5];case 5:return[2]}}))}))}function Ur(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,a){return Object(h.__awaiter)(this,void 0,void 0,(function(){var s;return Object(h.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==Ar.EVENT?[3,2]:[4,Fr(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==Ar.CONFIG?[3,4]:[4,Mr(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(Ar.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),Lr.error(s),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var qr=((jr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",jr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",jr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",jr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",jr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",jr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",jr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',jr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',jr),Vr=new u.ErrorFactory("analytics","Analytics",qr),Br=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function zr(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Kr(e){var t;return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Object(h.__generator)(this,(function(c){switch(c.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:zr(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=c.sent()).status||304===a.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,a.json()];case 3:return u=c.sent(),(null===(t=u.error)||void 0===t?void 0:t.message)&&(s=u.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw Vr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function Wr(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=Br),Object(h.__awaiter)(this,void 0,void 0,(function(){var t,a,s,c,l,f,d;return Object(h.__generator)(this,(function(h){switch(h.label){case 0:t=e.appId,a=e.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Hr(n,i)];case 2:return h.sent(),[3,4];case 3:if(s=h.sent(),a)return Lr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:t,measurementId:a}];throw s;case 4:return h.trys.push([4,6,,7]),[4,Kr(e)];case 5:return c=h.sent(),r.deleteThrottleMetadata(t),[2,c];case 6:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l=h.sent())){if(r.deleteThrottleMetadata(t),a)return Lr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:t,measurementId:a}];throw l}return f=503===Number(l.customData.httpStatus)?Object(u.calculateBackoffMillis)(o,r.intervalMillis,30):Object(u.calculateBackoffMillis)(o,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+f,backoffCount:o+1},r.setThrottleMetadata(t,d),Lr.debug("Calling attemptFetch again in "+f+" millis"),[2,Wr(e,d,n,r)];case 7:return[2]}}))}))}function Hr(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Vr.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Gr=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Qr(e,t,n,r,i,o){return Object(h.__awaiter)(this,void 0,void 0,(function(){var a,s,c,l,f,d,p;return Object(h.__generator)(this,(function(v){switch(v.label){case 0:return a=function(e,t,n){return void 0===t&&(t=Br),Object(h.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,u,c=this;return Object(h.__generator)(this,(function(l){if(r=e.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Vr.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Vr.create("no-api-key")}return s=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new Gr,setTimeout((function(){return Object(h.__awaiter)(c,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){return u.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Wr({appId:i,apiKey:o,measurementId:a},s,u,t)]}))}))}(e),a.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Lr.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Lr.error(e)})),t.push(a),s=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e;return Object(h.__generator)(this,(function(t){switch(t.label){case 0:return Object(u.isIndexedDBAvailable)()?[3,1]:(Lr.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),Lr.warn(Vr.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return c=v.sent(),l=c[0],f=c[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Dr))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=Dr+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,d=p,null!=f&&(d.firebase_id=f),i(Ar.CONFIG,l.measurementId,d),[2,l.measurementId]}}))}))}var $r,Yr,Xr={},Jr=[],Zr={},ei="dataLayer",ti="gtag",ni=!1;function ri(e){if(ni)throw Vr.create("already-initialized");e.dataLayerName&&(ei=e.dataLayerName),e.gtagName&&(ti=e.gtagName)}function ii(e,t){!function(){var e=[];if(Object(u.isBrowserExtension)()&&e.push("This is a browser extension environment."),Object(u.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=Vr.create("invalid-analytics-context",{errorInfo:t});Lr.warn(n.message)}}();var n=e.options.appId;if(!n)throw Vr.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Vr.create("no-api-key");Lr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Xr[n])throw Vr.create("already-exists",{id:n});if(!ni){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ei);var r=Ur(Xr,Jr,Zr,ei,ti),i=r.wrappedGtag,o=r.gtagCore;Yr=i,$r=o,ni=!0}Xr[n]=Qr(e,Jr,Zr,t,$r,ei);var a={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return Object(h.__awaiter)(this,void 0,void 0,(function(){var o,a;return Object(h.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(e(Ar.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=s.sent(),a=Object(h.__assign)(Object(h.__assign)({},r),{send_to:o}),e(Ar.EVENT,n,a),s.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],e,t,r).catch((function(e){return Lr.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Object(h.__awaiter)(this,void 0,void 0,(function(){var i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Ar.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Ar.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],e,t).catch((function(e){return Lr.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Object(h.__awaiter)(this,void 0,void 0,(function(){var i;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(Ar.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(Ar.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],e,t).catch((function(e){return Lr.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Object(h.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return Object(h.__generator)(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(Ar.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(Ar.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(Yr,Xr[n],e,t).catch((function(e){return Lr.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Xr[n],e).catch((function(e){return Lr.error(e)}))},INTERNAL:{delete:function(){return delete Xr[n],Promise.resolve()}}};return a}var oi="analytics";function ai(){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){switch(e.label){case 0:if(Object(u.isBrowserExtension)())return[2,!1];if(!Object(u.areCookiesEnabled)())return[2,!1];if(!Object(u.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,Object(u.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new s.Component(oi,(function(e){return ii(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:ri,EventName:Rr,isSupported:ai})),e.INTERNAL.registerComponent(new s.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(oi).getImmediate().logEvent}}catch(r){throw Vr.create("interop-component-reg-failed",{reason:r})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.14")}(o.default);var si,ui=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=a.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},e}(),ci=((si={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",si["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",si["registration-api-key"]="Undefined API key. Check Firebase app initialization.",si["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",si["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",si["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",si["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",si["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",si["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",si["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',si["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',si["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",si["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",si),li=new u.ErrorFactory("remoteconfig","Remote Config",ci);var hi=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l,f,d,p,v,g,y,m,b,_;return Object(h.__generator)(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=h.sent(),n=t[0],r=t[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},u={method:"POST",headers:a,body:JSON.stringify(s)},c=fetch(o,u),l=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return h.sent(),[4,c];case 4:return f=h.sent(),[3,6];case 5:throw d=h.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),li.create(p,{originalErrorMessage:d.message});case 6:if(v=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,f.json()];case 8:return b=h.sent(),[3,10];case 9:throw _=h.sent(),li.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:y=b.entries,m=b.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==v&&200!==v)throw li.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}var w}))}))},e}(),fi=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),di=["1","true","t","yes","y","on"],pi=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&di.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),vi=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=c.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=c.LogLevel.SILENT;break;default:this._logger.logLevel=c.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return Object(h.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:e=new fi,setTimeout((function(){return Object(h.__awaiter)(r,void 0,void 0,(function(){return Object(h.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),n=function(e,t){return e instanceof u.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){return Object(h.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys(Object(h.__assign)(Object(h.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new pi("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new pi("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new pi("static"))},e}();function gi(e,t){var n=e.target.error||void 0;return li.create(t,{originalErrorMessage:n&&n.message})}var yi="app_namespace_store";var mi=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(gi(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(yi,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([yi],"readonly").objectStore(yi),s=n.createCompositeKey(e);try{var u=a.get(s);u.onerror=function(e){o(gi(e,"storage-get"))},u.onsuccess=function(e){var t=e.target.result;i(t?t.value:void 0)}}catch(r){o(li.create("storage-get",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.set=function(e,t){return Object(h.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return Object(h.__generator)(this,(function(o){switch(o.label){case 0:return[4,this.openDbPromise];case 1:return n=o.sent(),[2,new Promise((function(o,a){var s=n.transaction([yi],"readwrite").objectStore(yi),u=i.createCompositeKey(e);try{var c=s.put({compositeKey:u,value:t});c.onerror=function(e){a(gi(e,"storage-set"))},c.onsuccess=function(){o()}}catch(r){a(li.create("storage-set",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.delete=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return Object(h.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return t=i.sent(),[2,new Promise((function(i,o){var a=t.transaction([yi],"readwrite").objectStore(yi),s=n.createCompositeKey(e);try{var u=a.delete(s);u.onerror=function(e){o(gi(e,"storage-delete"))},u.onsuccess=function(){i()}}catch(r){o(li.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),bi=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return Object(h.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function _i(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(li.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var wi,Ei=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return Object(h.__awaiter)(this,void 0,void 0,(function(){var t;return Object(h.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Object(h.__awaiter)(this,void 0,void 0,(function(){var t,i,o;return Object(h.__generator)(this,(function(a){switch(a.label){case 0:return[4,_i(e.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof u.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(u.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(e,o)];case 7:return[2]}}))}))},e}(),Ti="@firebase/remote-config";(wi=o.default).INTERNAL.registerComponent(new s.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw li.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw li.create("registration-project-id");if(!s)throw li.create("registration-api-key");if(!u)throw li.create("registration-app-id");n=n||"firebase";var l=new mi(u,r.name,n),h=new bi(l),f=new c.Logger(Ti);f.logLevel=c.LogLevel.ERROR;var d=new hi(i,wi.SDK_VERSION,n,a,s,u),p=new Ei(d,l),v=new ui(p,l,h,f),g=new vi(r,v,h,l,f);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),wi.registerVersion(Ti,"0.1.41");n(184);var Ii="8.7.1";o.default.registerVersion("firebase",Ii,"app"),o.default.SDK_VERSION=Ii;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),o.default.registerVersion("firebase","8.7.1")},,function(e,t,n){"use strict";var r=n(36),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),a=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var b=m.prototype=new y;b.constructor=m,r(b,g.prototype),b.isPureReactComponent=!0;var _={current:null},w=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case o:u=!0}}if(u)return a=a(u=e),e=""===r?"."+C(u,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(S,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=k(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,l=r+C(s,c++),a);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var x={current:null};function N(){var e=x.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:x,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:_,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!E.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return N().useCallback(e,t)},t.useContext=function(e,t){return N().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return N().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return N().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return N().useLayoutEffect(e,t)},t.useMemo=function(e,t){return N().useMemo(e,t)},t.useReducer=function(e,t,n){return N().useReducer(e,t,n)},t.useRef=function(e){return N().useRef(e)},t.useState=function(e){return N().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(3),i=n(36),o=n(81);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,b);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=60103,T=60106,I=60107,S=60108,C=60114,k=60109,O=60110,P=60112,x=60113,N=60120,A=60115,R=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;E=U("react.element"),T=U("react.portal"),I=U("react.fragment"),S=U("react.strict_mode"),C=U("react.profiler"),k=U("react.provider"),O=U("react.context"),P=U("react.forward_ref"),x=U("react.suspense"),N=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var q,V="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=V&&e[V]||e["@@iterator"])?e:null}function z(e){if(void 0===q)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);q=t&&t[1]||""}return"\n"+q+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case T:return"Portal";case C:return"Profiler";case S:return"StrictMode";case x:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ge,ye=(ge=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_e=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){_e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Oe=null,Pe=null;function xe(e){if(e=ri(e)){if("function"!==typeof ke)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),ke(e.stateNode,e.type,t))}}function Ne(e){Oe?Pe?Pe.push(e):Pe=[e]:Oe=e}function Ae(){if(Oe){var e=Oe,t=Pe;if(Pe=Oe=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function je(){}var Le=Re,Me=!1,Fe=!1;function Ue(){null===Oe&&null===Pe||(je(),Ae())}function qe(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ve=!1;if(h)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ge){Ve=!1}function ze(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,o,a,s,u){Ke=!1,We=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){mt(e)&&n.delete(t)}function _t(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&mt(st)&&(st=null),null!==ut&&mt(ut)&&(ut=null),null!==ct&&mt(ct)&&(ct=null),lt.forEach(bt),ht.forEach(bt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,_t)))}function Et(e){function t(t){return wt(t,e)}if(0<at.length){wt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)yt(n),null===n.blockedOn&&ft.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},St={},Ct={};function kt(e){if(St[e])return St[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return St[e]=n[t];return e}h&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ot=kt("animationend"),Pt=kt("animationiteration"),xt=kt("animationstart"),Nt=kt("transitionend"),At=new Map,Rt=new Map,Dt=["abort","abort",Ot,"animationEnd",Pt,"animationIteration",xt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function jt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),At.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function Mt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var u=o&~a;0!==u?(r=Mt(u),i=Lt):0!==(s&=o)&&(r=Mt(s),i=Lt)}else 0!==(o=n&~a)?(r=Mt(o),i=Lt):0!==s&&(r=Mt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Mt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function qt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?qt(10,t):e;case 10:return 0===(e=Vt(192&~t))?qt(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Me||je();var i=Jt,o=Me;Me=!0;try{De(i,e,t,n,r)}finally{(Me=o)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return ut=gt(ut,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,gt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}jr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ce(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return jr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),gn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=un(gn),mn=un(i({},gn,{dataTransfer:0})),bn=un(i({},pn,{relatedTarget:0})),_n=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=un(wn),Tn=un(i({},fn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function On(){return kn}var Pn=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=un(Pn),Nn=un(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Rn=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jn=un(Dn),Ln=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,qn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ne(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Pr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ce(e)),e=Xn,Me)e(t);else{Me=!0;try{Re(e,t)}finally{Me=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function ur(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mr=h&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,wr=null,Er=!1;function Tr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==br||br!==J(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Mr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}jt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),jt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),jt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Ir.length;Sr++)Rt.set(Ir[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function xr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Nr="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){e[Nr]||(e[Nr]=!0,s.forEach((function(t){kr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&kr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Dr(o,e,i,t),a.add(s))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e(t,n);Fe=!0;try{Le(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=o,i=Ce(n),a=[];e:{var s=At.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":u=xn;break;case"focusin":c="focus",u=bn;break;case"focusout":c="blur",u=bn;break;case"beforeblur":case"afterblur":u=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=An;break;case Ot:case Pt:case xt:u=_n;break;case Nt:u=Rn;break;case"scroll":u=vn;break;case"wheel":u=jn;break;case"copy":case"cut":case"paste":u=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Nn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=qe(p,f))&&l.push(Lr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=yn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Nn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Fr(d))p++;for(d=0,v=f;v;v=Fr(v))d++;for(;0<p-d;)l=Fr(l),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Fr(l),f=Fr(f)}l=null}else l=null;null!==u&&Ur(a,s,u,l,!1),null!==c&&null!==h&&Ur(a,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Gn(s))if(er)g=cr;else{g=sr;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ur);switch(g&&(g=g(e,r))?Qn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,_r=r,wr=null);break;case"focusout":wr=_r=br=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Tr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":Tr(a,n,i)}var m;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Wn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(qn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Wn&&(m=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Mr(r,b)).length&&(b=new Tn(b,e,null,n,i),a.push({event:b,listeners:y}),m?b.data=m:null!==(m=Kn(n))&&(b.data=m))),(m=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Vn);case"textInput":return(e=t.data)===Vn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Mn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Mr(r,"onBeforeInput")).length&&(i=new Tn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Pr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=qe(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=qe(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=qe(n,o))&&a.unshift(Lr(n,u,s)):i||null!=(u=qe(n,o))&&a.push(Lr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function qr(){}var Vr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function gi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function mi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==fi)throw Error(a(168));hi(di,t),hi(pi,n)}function _i(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=_i(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var Ti=null,Ii=null,Si=o.unstable_runWithPriority,Ci=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Pi=o.unstable_requestPaint,xi=o.unstable_now,Ni=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ri=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Li=o.unstable_IdlePriority,Mi={},Fi=void 0!==Pi?Pi:function(){},Ui=null,qi=null,Vi=!1,Bi=xi(),zi=1e4>Bi?xi:function(){return xi()-Bi};function Ki(){switch(Ni()){case Ai:return 99;case Ri:return 98;case Di:return 97;case ji:return 96;case Li:return 95;default:throw Error(a(332))}}function Wi(e){switch(e){case 99:return Ai;case 98:return Ri;case 97:return Di;case 96:return ji;case 95:return Li;default:throw Error(a(332))}}function Hi(e,t){return e=Wi(e),Si(e,t)}function Gi(e,t,n){return e=Wi(e),Ci(e,t,n)}function Qi(){if(null!==qi){var e=qi;qi=null,ki(e)}$i()}function $i(){if(!Vi&&null!==Ui){Vi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ci(Ai,Qi),n}finally{Vi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ma=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(null!==u){o.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?a=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==a){for(f=o.baseState,s=0,h=l=c=null;;){u=a.lane;var d=a.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(u=o.effects)?o.effects=[a]:u.push(a))}else d={eventTime:d,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(a=a.next)){if(null===(u=o.shared.pending))break;a=u.next,u.next=null,o.lastBaseUpdate=u,o.shared.pending=null}}null===h&&(c=f),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=h,Vs|=s,e.lanes=s,e.memoizedState=f}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function yo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var mo={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),pu(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,o))}function _o(e,t,n){var r=!1,i=fi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=yi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):fi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&mo.enqueueReplaceState(t,t.state,null)}function Eo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=yi(t)?vi:di.current,i.context=gi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(yo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&mo.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var To=Array.isArray;function Io(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Co(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Io(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=Io(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=Io(e,null,t),n.return=e,n;case T:return(t=Xu(t,e.mode,n)).return=e,t}if(To(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?n.type===I?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case T:return n.key===i?l(e,t,n,r):null}if(To(n)||B(n))return null!==i?null:h(e,t,n,r,null);So(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return e=e.get(null===r.key?n:r.key)||null,r.type===I?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(To(r)||B(r))return h(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var y=d(i,h,s[v],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,h=g}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(a=o(h,a,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var h=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var b=d(i,v,m.value,c);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,v=y}if(m.done)return n(i,v),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=f(i,m.value,c))&&(s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=o(m,s,g),null===h?l=m:h.sibling=m,h=m);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===I&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case E:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===I){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Io(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===I?((r=Qu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Gu(o.type,o.key,o.props,null,e.mode,u)).ref=Io(e,r,o),u.return=e,e=u)}return s(e);case T:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Yu(o,e.mode,u)).return=e,e=r),s(e);if(To(o))return v(e,r,o,u);if(B(o))return g(e,r,o,u);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var ko=Co(!0),Oo=Co(!1),Po={},xo=ci(Po),No=ci(Po),Ao=ci(Po);function Ro(e){if(e===Po)throw Error(a(174));return e}function Do(e,t){switch(hi(Ao,t),hi(No,e),hi(xo,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(xo),hi(xo,t)}function jo(){li(xo),li(No),li(Ao)}function Lo(e){Ro(Ao.current);var t=Ro(xo.current),n=pe(t,e.type);t!==n&&(hi(No,e),hi(xo,n))}function Mo(e){No.current===e&&(li(xo),li(No))}var Fo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qo=null,Vo=null,Bo=!1;function zo(e,t){var n=Ku(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wo(e){if(Bo){var t=Vo;if(t){var n=t;if(!Ko(e,t)){if(!(t=Qr(n.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(qo=e);zo(qo,n)}qo=e,Vo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,qo=e}}function Ho(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;qo=e}function Go(e){if(e!==qo)return!1;if(!Bo)return Ho(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Vo;t;)zo(e,t),t=Qr(t.nextSibling);if(Ho(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vo=null}}else Vo=qo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){Vo=qo=null,Bo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=w.ReactCurrentDispatcher,Jo=w.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Ra:Da,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=ja,e=n(r,i)}while(ia)}if(Xo.current=Aa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function ua(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,o=r):u=u.next=h,ea.lanes|=l,Vs|=l}c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,lr(r,t.memoizedState)||(Ma=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(Ma=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Rs;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),u=Xo.current,c=u.useState((function(){return da(i,t,n)})),l=c[1],h=c[0];c=na;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var g=ea;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var u=31-Kt(a),c=1<<u;r[u]|=e,a&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:h}).dispatch=l=Na.bind(null,ea,e),c.queue=e,c.baseQueue=null,h=da(i,t,n),c.memoizedState=c.baseState=h),h}function va(e,t,n){return pa(ca(),e,t,n)}function ga(e){var t=ua();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Na.bind(null,ea,e),[t.memoizedState,e]}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(e){return e={current:e},ua().memoizedState=e}function ba(){return ca().memoizedState}function _a(e,t,n,r){var i=ua();ea.flags|=e,i.memoizedState=ya(1|t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ya(t,n,o,r)}ea.flags|=e,i.memoizedState=ya(1|t,n,o,r)}function Ea(e,t){return _a(516,4,e,t)}function Ta(e,t){return wa(516,4,e,t)}function Ia(e,t){return wa(4,2,e,t)}function Sa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Sa.bind(null,t,e),n)}function ka(){}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function xa(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Na(e,t,n){var r=fu(),i=du(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=a(s,n);if(o.eagerReducer=a,o.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Aa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:function(e,t){return ua().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Ea,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,_a(4,2,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,2,e,t)},useMemo:function(e,t){var n=ua();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ua();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Na.bind(null,ea,e),[r.memoizedState,e]},useRef:ma,useState:ga,useDebugValue:ka,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Ea((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ma(e=xa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ua();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ya(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Pa,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:ka,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Ta((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},ja={readContext:ao,useCallback:Oa,useContext:ao,useEffect:Ta,useImperativeHandle:Ca,useLayoutEffect:Ia,useMemo:Pa,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:ka,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Ta((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La=w.ReactCurrentOwner,Ma=!1;function Fa(e,t,n,r){t.child=null===e?Oo(t,null,n,r):ko(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function qa(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Wu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Hu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,i,o){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Ma=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(Ma=!0)}return Ka(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Eu(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Eu(t,e),null;t.memoizedState={baseLanes:0},Eu(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Eu(t,r);return Fa(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ka(e,t,n,r,i){var o=yi(n)?vi:di.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||Ma?(t.flags|=1,Fa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Wa(e,t,n,r,i){if(yi(n)){var o=!0;wi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),_o(t,n,r),Eo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&wo(t,a,r,c),so=!1;var f=t.memoizedState;a.state=f,po(t,r,a,i),u=t.memoizedState,s!==r||f!==u||pi.current||so?("function"===typeof l&&(yo(t,n,l,r),u=t.memoizedState),(s=so||bo(t,n,s,r,f,u,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Xi(t.type,s),a.props=c,h=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ao(u):u=gi(t,u=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||f!==u)&&wo(t,a,r,u),so=!1,f=t.memoizedState,a.state=f,po(t,r,a,i);var p=t.memoizedState;s!==h||f!==p||pi.current||so?("function"===typeof d&&(yo(t,n,d,r),p=t.memoizedState),(c=so||bo(t,n,c,r,f,p,u))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ha(e,t,n,r,o,i)}function Ha(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Ei(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):Fa(e,t,s,o),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Do(e,t.containerInfo)}var Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=Fo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Fo,1&o),null===e?(void 0!==i.fallback&&Wo(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$u(t,i,0,null),n=Qu(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(a,s),null!==e?r=Hu(e,r):(r=Qu(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fa(e,t,r.children,n),0!==(2&(r=Fo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Fo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Vs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&mi(),null;case 3:return jo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Mo(t);var o=Ro(Ao.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Ro(xo.current),Go(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Jr]=t,r[Zr]=s,n){case"dialog":xr("cancel",r),xr("close",r);break;case"iframe":case"object":case"embed":xr("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)xr(Cr[e],r);break;case"source":xr("error",r);break;case"img":case"image":case"link":xr("error",r),xr("load",r);break;case"details":xr("toggle",r);break;case"input":ee(r,s),xr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xr("invalid",r);break;case"textarea":ue(r,s),xr("invalid",r)}for(var c in Ie(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):u.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&xr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=qr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=Se(n,r),n){case"dialog":xr("cancel",e),xr("close",e),o=r;break;case"iframe":case"object":case"embed":xr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)xr(Cr[o],e);o=r;break;case"source":xr("error",e),o=r;break;case"img":case"image":case"link":xr("error",e),xr("load",e),o=r;break;case"details":xr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),xr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),xr("invalid",e);break;case"textarea":ue(e,r),o=se(e,r),xr("invalid",e);break;default:o=r}Ie(n,o);var l=o;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?Ee(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ye(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&me(e,h):"number"===typeof h&&me(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&xr("scroll",e):null!=h&&_(e,s,h,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=qr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Ro(Ao.current),Ro(xo.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fo.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===Rs||0===(134217727&Vs)&&0===(134217727&Bs)||mu(Rs,js))),(r||n)&&(t.flags|=4),null);case 4:return jo(),null===e&&Ar(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(Fo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Fo,1&Fo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hs&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Uo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fo.current,hi(Fo,s?1&t|2:1&t),n):null;case 23:case 24:return Tu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function us(e){switch(e.tag){case 1:yi(e.type)&&mi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(jo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Mo(e),null;case 13:return li(Fo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fo),null;case 4:return jo(),null;case 10:return ro(e),null;case 23:case 24:return Tu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ro(xo.current);var a,s=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=qr)}for(h in Ie(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&xr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){qu(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(a(163))}function ms(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(Ti,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(o){qu(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){qu(t,o)}break;case 5:vs(t);break;case 4:Ss(e,t)}}function _s(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Es(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(me(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ts(e,n,t):Is(e,n,t)}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=qr));else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Is(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Is(e,t,n),e=e.sibling;null!==e;)Is(e,t,n),e=e.sibling}function Ss(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?Ee(n,u):"dangerouslySetInnerHTML"===s?ye(n,u):"children"===s?me(n,u):_(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=zi(),ms(t.child,!0)),void ks(t);case 19:return void ks(t);case 23:case 24:return void ms(t,null!==t.memoizedState)}throw Error(a(163))}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,xs=w.ReactCurrentDispatcher,Ns=w.ReactCurrentOwner,As=0,Rs=null,Ds=null,js=0,Ls=0,Ms=ci(0),Fs=0,Us=null,qs=0,Vs=0,Bs=0,zs=0,Ks=null,Ws=0,Hs=1/0;function Gs(){Hs=zi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,ou=0,au=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&As)?zi():-1!==su?su:su=zi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===uu&&(uu=qs),0!==Yi.transition){0!==cu&&(cu=null!==Ks?Ks.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&As)&&98===e?e=qt(12,uu):e=qt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<ou)throw ou=0,au=null,Error(a(185));if(null===(e=vu(e,t)))return null;zt(e,t,n),e===Rs&&(Bs|=t,4===Fs&&mu(e,js));var r=Ki();1===t?0!==(8&As)&&0===(48&As)?bu(e):(gu(e,n),0===As&&(Gs(),Qi())):(0===(4&As)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),gu(e,n)),Ks=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-Kt(s),c=1<<u,l=o[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Mt(c);var h=Lt;o[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Ft(e,e===Rs?js:0),t=Lt,0===r)null!==n&&(n!==Mi&&ki(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&ki(n)}15===t?(n=bu.bind(null,e),null===Ui?(Ui=[n],qi=Ci(Ai,$i)):Ui.push(n),n=Mi):14===t?n=Gi(99,bu.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&As))throw Error(a(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Ft(e,e===Rs?js:0);if(0===n)return null;var r=n,i=As;As|=16;var o=Cu();for(Rs===e&&js===r||(Gs(),Iu(e,r));;)try{Pu();break}catch(u){Su(e,u)}if(no(),xs.current=o,As=i,null!==Ds?r=0:(Rs=null,js=0,r=Fs),0!==(qs&Bs))Iu(e,0);else if(0!==r){if(2===r&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=ku(e,n))),1===r)throw t=Us,Iu(e,0),mu(e,n),gu(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Au(e);break;case 3:if(mu(e,n),(62914560&n)===n&&10<(r=Ws+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Au.bind(null,e),r);break}Au(e);break;case 4:if(mu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Kt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=Wr(Au.bind(null,e),n);break}Au(e);break;default:throw Error(a(329))}}return gu(e,zi()),e.callbackNode===t?yu.bind(null,e):null}function mu(e,t){for(t&=~zs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function bu(e){if(0!==(48&As))throw Error(a(327));if(ju(),e===Rs&&0!==(e.expiredLanes&js)){var t=js,n=ku(e,t);0!==(qs&Bs)&&(n=ku(e,t=Ft(e,t)))}else n=ku(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(As|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=ku(e,t))),1===n)throw n=Us,Iu(e,0),mu(e,t),gu(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Au(e),gu(e,zi()),null}function _u(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}}function wu(e,t){var n=As;As&=-2,As|=8;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}}function Eu(e,t){hi(Ms,Ls),Ls|=t,qs|=t}function Tu(){Ls=Ms.current,li(Ms)}function Iu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&mi();break;case 3:jo(),li(pi),li(di),Yo();break;case 5:Mo(r);break;case 4:jo();break;case 13:case 19:li(Fo);break;case 10:ro(r);break;case 23:case 24:Tu()}n=n.return}Rs=e,Ds=Hu(e.current,null),js=Ls=qs=t,Fs=0,Us=null,zs=Bs=Vs=0}function Su(e,t){for(;;){var n=Ds;try{if(no(),Xo.current=Aa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Ns.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var o=e,a=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&Fo.current),f=a;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var y=new Set;y.add(c),f.updateQueue=y}else g.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=lo(-1,1);m.tag=2,ho(s,m)}s.lanes|=1;break e}u=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new hs,u=new Set,b.set(c,u)):void 0===(u=b.get(c))&&(u=new Set,b.set(c,u)),!u.has(s)){u.add(s);var _=Vu.bind(null,o,c,s);c.then(_,_)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),f=a;do{switch(f.tag){case 3:o=u,f.flags|=4096,t&=-t,f.lanes|=t,fo(f,fs(0,o,t));break e;case 1:o=u;var w=f.type,E=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===Js||!Js.has(E)))){f.flags|=4096,t&=-t,f.lanes|=t,fo(f,ds(f,o,t));break e}}f=f.return}while(null!==f)}Nu(n)}catch(T){t=T,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Cu(){var e=xs.current;return xs.current=Aa,null===e?Aa:e}function ku(e,t){var n=As;As|=16;var r=Cu();for(Rs===e&&js===t||Iu(e,t);;)try{Ou();break}catch(i){Su(e,i)}if(no(),As=n,xs.current=r,null!==Ds)throw Error(a(261));return Rs=null,js=0,Fs}function Ou(){for(;null!==Ds;)xu(Ds)}function Pu(){for(;null!==Ds&&!Oi();)xu(Ds)}function xu(e){var t=Qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Nu(e):Ds=t,Ns.current=null}function Nu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Au(e){var t=Ki();return Hi(99,Ru.bind(null,e,t)),null}function Ru(e,t){do{ju()}while(null!==eu);if(0!==(48&As))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<o;){var c=31-Kt(o),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,o&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Rs&&(Ds=Rs=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=As,As|=32,Ns.current=null,Vr=$t,yr(s=gr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,g=s,y=null;t:for(;;){for(var m;g!==u||0!==o&&3!==g.nodeType||(f=h+o),g!==c||0!==l&&3!==g.nodeType||(d=h+l),3===g.nodeType&&(h+=g.nodeValue.length),null!==(m=g.firstChild);)y=g,g=m;for(;;){if(g===s)break t;if(y===u&&++p===o&&(f=h),y===c&&++v===l&&(d=h),null!==(m=g.nextSibling))break;y=(g=y).parentNode}g=m}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;Br={focusedElem:s,selectionRange:u},$t=!1,lu=null,hu=!1,$s=r;do{try{Du()}catch(C){if(null===$s)throw Error(a(330));qu($s,C),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var b=$s.flags;if(16&b&&me($s.stateNode,""),128&b){var _=$s.alternate;if(null!==_){var w=_.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&b){case 2:Es($s),$s.flags&=-3;break;case 6:Es($s),$s.flags&=-3,Cs($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Cs($s.alternate,$s);break;case 4:Cs($s.alternate,$s);break;case 8:Ss(s,u=$s);var E=u.alternate;_s(u),null!==E&&_s(E)}$s=$s.nextEffect}}catch(C){if(null===$s)throw Error(a(330));qu($s,C),$s=$s.nextEffect}}while(null!==$s);if(w=Br,_=gr(),b=w.focusedElem,s=w.selectionRange,_!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==s&&yr(b)&&(_=s.start,void 0===(w=s.end)&&(w=_),"selectionStart"in b?(b.selectionStart=_,b.selectionEnd=Math.min(w,b.value.length)):(w=(_=b.ownerDocument||document)&&_.defaultView||window).getSelection&&(w=w.getSelection(),u=b.textContent.length,E=Math.min(s.start,u),s=void 0===s.end?E:Math.min(s.end,u),!w.extend&&E>s&&(u=s,s=E,E=u),u=pr(b,E),o=pr(b,s),u&&o&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((_=_.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),E>s?(w.addRange(_),w.extend(o.node,o.offset)):(_.setEnd(o.node,o.offset),w.addRange(_))))),_=[];for(w=b;w=w.parentNode;)1===w.nodeType&&_.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<_.length;b++)(w=_[b]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!Vr,Br=Vr=null,e.current=n,$s=r;do{try{for(b=e;null!==$s;){var T=$s.flags;if(36&T&&ys(b,$s.alternate,$s),128&T){_=void 0;var I=$s.ref;if(null!==I){var S=$s.stateNode;$s.tag,_=S,"function"===typeof I?I(_):I.current=_}}$s=$s.nextEffect}}catch(C){if(null===$s)throw Error(a(330));qu($s,C),$s=$s.nextEffect}}while(null!==$s);$s=null,Fi(),As=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((T=$s).sibling=null,T.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===au?ou++:(ou=0,au=e):ou=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(Ti,n,void 0,64===(64&n.current.flags))}catch(C){}if(gu(e,zi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&As)||Qi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;hu||null===lu||(0!==(8&$s.flags)?et($s,lu)&&(hu=!0):13===$s.tag&&Os(e,$s)&&et($s,lu)&&(hu=!0));var t=$s.flags;0!==(256&t)&&gs(e,$s),0===(512&t)||Zs||(Zs=!0,Gi(97,(function(){return ju(),null}))),$s=$s.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Gi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&As))throw Error(a(331));var t=As;As|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===o)throw Error(a(330));qu(o,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return As=t,Qi(),!0}function Uu(e,t,n){ho(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(zt(e,1,t),gu(e,t))}function qu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(ho(n,i),i=fu(),null!==(n=vu(n,1)))zt(n,1,i),gu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Vu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Rs===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>zi()-Ws?Iu(e,0):zs|=n),gu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===uu&&(uu=qs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(zt(e,t,n),gu(e,n))}function zu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku(e,t,n,r){return new zu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=Ku(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case I:return Qu(n.children,i,o,t);case L:s=8,i|=16;break;case S:s=8,i|=1;break;case C:return(e=Ku(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=o,e;case x:return(e=Ku(13,n,t,i)).type=x,e.elementType=x,e.lanes=o,e;case N:return(e=Ku(19,n,t,i)).elementType=N,e.lanes=o,e;case M:return $u(n,i,o,t);case F:return(e=Ku(24,n,t,i)).elementType=F,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case O:s=9;break e;case P:s=11;break e;case A:s=14;break e;case R:s=16,r=null;break e;case D:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ku(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qu(e,t,n,r){return(e=Ku(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Ku(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Ku(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Ku(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=fu(),s=du(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=_i(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),pu(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Ku(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,uo(t),e[ei]=n.current,Ar(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}wu((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zu(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Ma=!0;else{if(0===(n&r)){switch(Ma=!1,t.tag){case 3:Ga(t),Qo();break;case 5:Lo(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Do(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(hi(Fo,1&Fo.current),null!==(t=os(e,t,n))?t.sibling:null);hi(Fo,1&Fo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Fo,Fo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return os(e,t,n)}Ma=0!==(16384&e.flags)}else Ma=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var o=!0;wi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,uo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&yo(t,r,s,e),i.updater=mo,t.stateNode=i,i._reactInternals=t,Eo(t,r,e,n),t=Ha(null,t,r,!0,o,n)}else t.tag=0,Fa(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===A)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ka(null,t,i,e,n);break e;case 1:t=Wa(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=qa(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wa(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Vo=Qr(t.stateNode.containerInfo.firstChild),qo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fa(e,t,r,n),Qo();t=t.child}return t;case 5:return Lo(t),null===e&&Wo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Kr(r,i)?s=null:null!==o&&Kr(r,o)&&(t.flags|=16),za(e,t),Fa(e,t,s,n),t.child;case 6:return null===e&&Wo(t),null;case 13:return Ja(e,t,n);case 4:return Do(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ko(t,null,r,n):Fa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Fa(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fa(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(hi(Ji,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=lr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=os(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=lo(-1,n&-n)).tag=2,ho(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),io(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Fa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Fa(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),qa(e,t,i,o=Xi(i.type,o),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,oo(t,n),_o(t,r,i),Eo(t,r,i,n),Ha(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},ke=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Re=_u,De=function(e,t,n,r,i){var o=As;As|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(As=o)&&(Gs(),Qi())}},je=function(){0===(49&As)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gu(e,zi())}))}Qi()}(),ju())},Le=function(e,t){var n=As;As|=2;try{return e(t)}finally{0===(As=n)&&(Gs(),Qi())}};var uc={Events:[ri,ii,oi,Ne,Ae,ju,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Ti=hc.inject(lc),Ii=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=As;if(0!==(48&n))return e(t);As|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{As=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=_u,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(82)},function(e,t,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,h=null,f=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(f,0))},i=function(e,t){h=setTimeout(e,t)},o=function(){clearTimeout(h)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,y=null,m=-1,b=5,_=0;t.unstable_shouldYield=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+b;try{y(!0,e)?E.postMessage(null):(g=!1,y=null)}catch(n){throw E.postMessage(null),n}}else g=!1},r=function(e){y=e,g||(g=!0,E.postMessage(null))},i=function(e,n){m=d((function(){e(t.unstable_now())}),n)},o=function(){p(m),m=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function I(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>C(a,n))void 0!==u&&0>C(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var k=[],O=[],P=1,x=null,N=3,A=!1,R=!1,D=!1;function j(e){for(var t=I(O);null!==t;){if(null===t.callback)S(O);else{if(!(t.startTime<=e))break;S(O),t.sortIndex=t.expirationTime,T(k,t)}t=I(O)}}function L(e){if(D=!1,j(e),!R)if(null!==I(k))R=!0,r(M);else{var t=I(O);null!==t&&i(L,t.startTime-e)}}function M(e,n){R=!1,D&&(D=!1,o()),A=!0;var r=N;try{for(j(n),x=I(k);null!==x&&(!(x.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=x.callback;if("function"===typeof a){x.callback=null,N=x.priorityLevel;var s=a(x.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?x.callback=s:x===I(k)&&S(k),j(n)}else S(k);x=I(k)}if(null!==x)var u=!0;else{var c=I(O);null!==c&&i(L,c.startTime-n),u=!1}return u}finally{x=null,N=r,A=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return I(k)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:P++,callback:n,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>s?(e.sortIndex=a,T(O,e),null===I(k)&&e===I(O)&&(D?o():D=!0,i(L,a-s))):(e.sortIndex=u,T(k,e),R||A||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},,,function(e,t,n){"use strict";n(36);var r=n(3),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},,,function(e,t,n){"use strict";var r=n(89);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports=n(92)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||E(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},function(e,t,n){"use strict";e.exports=n(94)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,m=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case h:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case g:case c:return e;default:return t}}case o:return t}}}function T(e){return E(e)===f}t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||E(e)===h},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===m)},t.typeOf=E},,,function(e,t,n){"use strict";var r=n(18),i=n(48),o=n(98),a=n(54);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(31));s.Axios=o,s.Cancel=n(33),s.CancelToken=n(111),s.isCancel=n(53),s.VERSION=n(55).version,s.all=function(e){return Promise.all(e)},s.spread=n(112),s.isAxiosError=n(113),e.exports=s,e.exports.default=s},function(e,t,n){"use strict";var r=n(18),i=n(49),o=n(99),a=n(100),s=n(54),u=n(110),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&u.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(p){d(p);break}}try{i=a(h)}catch(p){return Promise.reject(p)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},l.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},function(e,t,n){"use strict";var r=n(18);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(18),i=n(101),o=n(53),a=n(31),s=n(33);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(18),i=n(31);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},function(e,t,n){"use strict";var r=n(18);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(106),i=n(107);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(18);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(55).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],u=void 0===s||a(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},function(e,t,n){"use strict";var r=n(33);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(116),t),i(n(117),t),i(n(118),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.heightWidthRadiusDefaults=t.heightWidthDefaults=t.sizeMarginDefaults=t.sizeDefaults=void 0;var r={loading:!0,color:"#000000",css:"",speedMultiplier:1};function i(e){return Object.assign({},r,{size:e})}function o(e,t){return Object.assign({},r,{height:e,width:t})}t.sizeDefaults=i,t.sizeMarginDefaults=function(e){return Object.assign({},i(e),{margin:2})},t.heightWidthDefaults=o,t.heightWidthRadiusDefaults=function(e,t,n){return void 0===n&&(n=2),Object.assign({},o(e,t),{radius:n,margin:2})}},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRgba=void 0,function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"}(r||(r={}));t.calculateRgba=function(e,t){if(Object.keys(r).includes(e)&&(e=r[e]),"#"===e[0]&&(e=e.slice(1)),3===e.length){var n="";e.split("").forEach((function(e){n+=e,n+=e})),e=n}return"rgba("+(e.match(/.{2}/g)||[]).map((function(e){return parseInt(e,16)})).join(", ")+", "+t+")"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cssValue=t.parseLengthAndUnit=void 0;var r={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function i(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var i=(e.match(/[^0-9]*$/)||"").toString();return r[i]?{value:t,unit:i}:(console.warn("React Spinners: "+e+" is not a valid css value. Defaulting to "+t+"px."),{value:t,unit:"px"})}t.parseLengthAndUnit=i,t.cssValue=function(e){var t=i(e);return""+t.value+t.unit}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=g(i),a=g(n(5)),s=g(n(20)),u=g(n(121)),c=g(n(135)),l=g(n(137)),h=g(n(138)),f=g(n(148)),d=g(n(150)),p=g(n(15)),v=g(n(8));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getData=function(){return n.visibleRows()},n.validateProps(),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.onDataSizeChange&&!e.pagination&&e.data.length!==this.props.data.length&&e.onDataSizeChange({dataSize:e.data.length})}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.overlay;if(n){var r=n(t);return o.default.createElement(r,null,this.renderTable())}return this.renderTable()}},{key:"renderTable",value:function(){var e,t,n,r=this.props,i=r.columns,a=r.keyField,d=r.tabIndexCell,g=r.id,y=r.classes,m=r.bootstrap4,b=r.striped,_=r.hover,w=r.bordered,E=r.condensed,T=r.noDataIndication,I=r.caption,S=r.rowStyle,C=r.rowClasses,k=r.wrapperClasses,O=r.rowEvents,P=r.selectRow,x=r.expandRow,N=r.cellEdit,A=r.filterPosition,R=(0,s.default)("react-bootstrap-table",k),D=(0,s.default)("table",(n=E,(t=m?"table-sm":"table-condensed")in(e={"table-striped":b,"table-hover":_,"table-bordered":w})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),y),j=i.some((function(e){return e.filter||e.filterRenderer})),L=v.default.filter(i,(function(e){return v.default.has(e,"footer")})).length>0,M=I&&o.default.createElement(l.default,{bootstrap4:m},I);return o.default.createElement("div",{className:R},o.default.createElement("table",{id:g,className:D},M,o.default.createElement(u.default,{columns:i,className:this.props.headerClasses,wrapperClasses:this.props.headerWrapperClasses,sortField:this.props.sortField,sortOrder:this.props.sortOrder,onSort:this.props.onSort,globalSortCaret:this.props.sort&&this.props.sort.sortCaret,onFilter:this.props.onFilter,currFilters:this.props.currFilters,onExternalFilter:this.props.onExternalFilter,selectRow:P,expandRow:x,filterPosition:A}),j&&A!==p.default.FILTERS_POSITION_INLINE&&o.default.createElement(c.default,{columns:i,className:this.props.filtersClasses,onSort:this.props.onSort,onFilter:this.props.onFilter,currFilters:this.props.currFilters,filterPosition:this.props.filterPosition,onExternalFilter:this.props.onExternalFilter,selectRow:P,expandRow:x}),o.default.createElement(h.default,{className:this.props.bodyClasses,data:this.getData(),keyField:a,tabIndexCell:d,columns:i,isEmpty:this.isEmpty(),visibleColumnSize:this.visibleColumnSize(),noDataIndication:T,cellEdit:N,selectRow:P,expandRow:x,rowStyle:S,rowClasses:C,rowEvents:O}),L&&o.default.createElement(f.default,{data:this.getData(),columns:i,selectRow:P,expandRow:x,className:this.props.footerClasses})))}}]),t}((0,d.default)(i.Component));y.propTypes={keyField:a.default.string.isRequired,data:a.default.array.isRequired,columns:a.default.array.isRequired,bootstrap4:a.default.bool,remote:a.default.oneOfType([a.default.bool,a.default.shape({pagination:a.default.bool})]),noDataIndication:a.default.oneOfType([a.default.node,a.default.func]),striped:a.default.bool,bordered:a.default.bool,hover:a.default.bool,tabIndexCell:a.default.bool,id:a.default.string,classes:a.default.string,headerClasses:a.default.string,bodyClasses:a.default.string,wrapperClasses:a.default.string,headerWrapperClasses:a.default.string,condensed:a.default.bool,caption:a.default.oneOfType([a.default.node,a.default.string]),pagination:a.default.object,filter:a.default.object,cellEdit:a.default.object,selectRow:a.default.shape({mode:a.default.oneOf([p.default.ROW_SELECT_SINGLE,p.default.ROW_SELECT_MULTIPLE,p.default.ROW_SELECT_DISABLED]).isRequired,clickToSelect:a.default.bool,clickToExpand:a.default.bool,clickToEdit:a.default.bool,hideSelectAll:a.default.bool,onSelect:a.default.func,onSelectAll:a.default.func,style:a.default.oneOfType([a.default.object,a.default.func]),classes:a.default.oneOfType([a.default.string,a.default.func]),nonSelectable:a.default.array,nonSelectableStyle:a.default.oneOfType([a.default.string,a.default.func]),nonSelectableClasses:a.default.oneOfType([a.default.string,a.default.func]),bgColor:a.default.oneOfType([a.default.string,a.default.func]),hideSelectColumn:a.default.bool,selectionRenderer:a.default.func,selectionHeaderRenderer:a.default.func,headerColumnStyle:a.default.oneOfType([a.default.object,a.default.func]),selectColumnStyle:a.default.oneOfType([a.default.object,a.default.func]),selectColumnPosition:a.default.oneOf([p.default.INDICATOR_POSITION_LEFT,p.default.INDICATOR_POSITION_RIGHT])}),expandRow:a.default.shape({renderer:a.default.func,expanded:a.default.array,onExpand:a.default.func,onExpandAll:a.default.func,nonExpandable:a.default.array,showExpandColumn:a.default.bool,onlyOneExpanding:a.default.bool,expandByColumnOnly:a.default.bool,expandColumnRenderer:a.default.func,expandHeaderColumnRenderer:a.default.func,expandColumnPosition:a.default.oneOf([p.default.INDICATOR_POSITION_LEFT,p.default.INDICATOR_POSITION_RIGHT]),className:a.default.oneOfType([a.default.string,a.default.func]),parentClassName:a.default.oneOfType([a.default.string,a.default.func])}),rowStyle:a.default.oneOfType([a.default.object,a.default.func]),rowEvents:a.default.object,rowClasses:a.default.oneOfType([a.default.string,a.default.func]),filtersClasses:a.default.string,filterPosition:a.default.oneOf([p.default.FILTERS_POSITION_TOP,p.default.FILTERS_POSITION_INLINE,p.default.FILTERS_POSITION_BOTTOM]),footerClasses:a.default.string,defaultSorted:a.default.arrayOf(a.default.shape({dataField:a.default.string.isRequired,order:a.default.oneOf([p.default.SORT_DESC,p.default.SORT_ASC]).isRequired})),sort:a.default.shape({dataField:a.default.string,order:a.default.oneOf([p.default.SORT_DESC,p.default.SORT_ASC]),sortFunc:a.default.func,sortCaret:a.default.func}),defaultSortDirection:a.default.oneOf([p.default.SORT_DESC,p.default.SORT_ASC]),overlay:a.default.func,onTableChange:a.default.func,onSort:a.default.func,onFilter:a.default.func,onExternalFilter:a.default.func,onDataSizeChange:a.default.func,search:a.default.shape({searchText:a.default.string,searchContext:a.default.func}),setDependencyModules:a.default.func},y.defaultProps={bootstrap4:!1,remote:!1,striped:!1,bordered:!0,hover:!1,condensed:!1,noDataIndication:null,selectRow:{mode:p.default.ROW_SELECT_DISABLED,selected:[],hideSelectColumn:!0},expandRow:{renderer:void 0,expanded:[],nonExpandable:[]},cellEdit:{mode:null,nonEditableRows:[]},filterPosition:p.default.FILTERS_POSITION_INLINE},t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(3)),i=h(n(5)),o=h(n(122)),a=h(n(127)),s=h(n(128)),u=h(n(129)),c=h(n(134)),l=h(n(15));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.className,n=e.columns,i=e.onSort,h=e.onFilter,f=e.sortField,d=e.sortOrder,p=e.selectRow,v=e.expandRow,g=e.currFilters,y=e.onExternalFilter,m=e.filterPosition,b=e.globalSortCaret,_=e.wrapperClasses,w=function(){return null},E=function(){return null};v.showExpandColumn&&(E=(0,c.default)(s.default)),p&&(w=(0,u.default)(a.default));var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.INDICATOR_POSITION_LEFT;return e===l.default.INDICATOR_POSITION_LEFT},I=[n.map((function(e,t){var n=e.dataField===f,a=e.dataField===f;return r.default.createElement(o.default,{index:t,key:e.dataField,column:e,onSort:i,sorting:n,sortOrder:d,globalSortCaret:b,isLastSorting:a,onFilter:h,currFilters:g,onExternalFilter:y,filterPosition:m})}))];return p.hideSelectColumn||(T(p.selectColumnPosition)?I.unshift(r.default.createElement(w,{key:"selection"})):I.push(r.default.createElement(w,{key:"selection"}))),v.showExpandColumn&&(T(v.expandColumnPosition)?I.unshift(r.default.createElement(E,{key:"expansion"})):I.push(r.default.createElement(E,{key:"expansion"}))),r.default.createElement("thead",{className:_},r.default.createElement("tr",{className:t},I))};f.propTypes={columns:i.default.array.isRequired,onSort:i.default.func,onFilter:i.default.func,sortField:i.default.string,sortOrder:i.default.string,selectRow:i.default.object,currFilters:i.default.object,onExternalFilter:i.default.func,globalSortCaret:i.default.func,className:i.default.string,wrapperClasses:i.default.string,expandRow:i.default.object,filterPosition:i.default.oneOf([l.default.FILTERS_POSITION_TOP,l.default.FILTERS_POSITION_INLINE,l.default.FILTERS_POSITION_BOTTOM])},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(3)),a=f(n(20)),s=f(n(5)),u=f(n(15)),c=f(n(123)),l=f(n(124)),h=f(n(8));function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=function(e){function t(){return d(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.column,n=e.index,i=e.onSort,s=e.sorting,f=e.sortOrder,d=e.isLastSorting,p=e.onFilter,v=e.currFilters,g=e.filterPosition,y=e.onExternalFilter,m=e.globalSortCaret,b=t.text,_=t.sort,w=t.sortCaret,E=t.filter,T=t.filterRenderer,I=t.headerTitle,S=t.headerAlign,C=t.headerFormatter,k=t.headerEvents,O=t.headerClasses,P=t.headerStyle,x=t.headerAttrs,N=t.headerSortingClasses,A=t.headerSortingStyle,R=w||m,D=this.delegate(k),j=h.default.isFunction(x)?x(t,n):x||{},L=r({},j,D,{tabIndex:h.default.isDefined(j.tabIndex)?j.tabIndex:0}),M=void 0,F=void 0,U={},q=h.default.isFunction(O)?O(t,n):O;if(P&&(U=(U=h.default.isFunction(P)?P(t,n):P)?r({},U):U),I&&(L.title=h.default.isFunction(I)?I(t,n):b),S&&(U.textAlign=h.default.isFunction(S)?S(t,n):S),_){var V=L.onClick;L["aria-label"]=s?b+" sort "+f:b+" sortable",L.onKeyUp=function(e){"Enter"===e.key&&(i(t),h.default.isFunction(V)&&V(e))},L.onClick=function(e){i(t),h.default.isFunction(V)&&V(e)},L.className=(0,a.default)(L.className,"sortable"),s?(M=R?R(f,t):o.default.createElement(l.default,{order:f}),q=(0,a.default)(q,h.default.isFunction(N)?N(t,f,d,n):N),U=r({},U,h.default.isFunction(A)?A(t,f,d,n):A)):M=R?R(void 0,t):o.default.createElement(c.default,null)}(q&&(L.className=(0,a.default)(L.className,q)),h.default.isEmptyObject(U)||(L.style=U),g===u.default.FILTERS_POSITION_INLINE)&&(T?F=T(y(t,E.props.type),t):E&&(F=o.default.createElement(E.Filter,r({},E.props,{filterState:v[t.dataField],onFilter:p,column:t}))));var B=C?C(t,n,{sortElement:M,filterElement:F}):b;return C?o.default.createElement("th",L,B):o.default.createElement("th",L,B,M,F)}}]),t}((0,f(n(38)).default)(o.default.Component));v.propTypes={column:s.default.shape({dataField:s.default.string.isRequired,text:s.default.string.isRequired,type:s.default.oneOf([u.default.TYPE_STRING,u.default.TYPE_NUMBER,u.default.TYPE_BOOLEAN,u.default.TYPE_DATE]),isDummyField:s.default.bool,hidden:s.default.bool,headerFormatter:s.default.func,formatter:s.default.func,formatExtraData:s.default.any,headerClasses:s.default.oneOfType([s.default.string,s.default.func]),classes:s.default.oneOfType([s.default.string,s.default.func]),headerStyle:s.default.oneOfType([s.default.object,s.default.func]),style:s.default.oneOfType([s.default.object,s.default.func]),headerTitle:s.default.oneOfType([s.default.bool,s.default.func]),title:s.default.oneOfType([s.default.bool,s.default.func]),headerEvents:s.default.object,events:s.default.object,headerAlign:s.default.oneOfType([s.default.string,s.default.func]),align:s.default.oneOfType([s.default.string,s.default.func]),headerAttrs:s.default.oneOfType([s.default.object,s.default.func]),attrs:s.default.oneOfType([s.default.object,s.default.func]),sort:s.default.bool,sortFunc:s.default.func,onSort:s.default.func,editor:s.default.object,editable:s.default.oneOfType([s.default.bool,s.default.func]),editCellStyle:s.default.oneOfType([s.default.object,s.default.func]),editCellClasses:s.default.oneOfType([s.default.string,s.default.func]),editorStyle:s.default.oneOfType([s.default.object,s.default.func]),editorClasses:s.default.oneOfType([s.default.string,s.default.func]),editorRenderer:s.default.func,validator:s.default.func,filter:s.default.object,filterRenderer:s.default.func,filterValue:s.default.func,searchable:s.default.bool}).isRequired,index:s.default.number.isRequired,onSort:s.default.func,sorting:s.default.bool,sortOrder:s.default.oneOf([u.default.SORT_ASC,u.default.SORT_DESC]),sortCaret:s.default.func,isLastSorting:s.default.bool,onFilter:s.default.func,filterPosition:s.default.oneOf([u.default.FILTERS_POSITION_INLINE,u.default.FILTERS_POSITION_BOTTOM,u.default.FILTERS_POSITION_TOP]),currFilters:s.default.object,onExternalFilter:s.default.func},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=(r=i)&&r.__esModule?r:{default:r},a=n(26);t.default=function(){return o.default.createElement(a.BootstrapContext.Consumer,null,(function(e){return e.bootstrap4?o.default.createElement("span",{className:"order-4"}):o.default.createElement("span",{className:"order"},o.default.createElement("span",{className:"dropdown"},o.default.createElement("span",{className:"caret"})),o.default.createElement("span",{className:"dropup"},o.default.createElement("span",{className:"caret"})))}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(20)),o=u(n(5)),a=u(n(15)),s=n(26);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.order,n=(0,i.default)("react-bootstrap-table-sort-order",{dropup:t===a.default.SORT_ASC});return r.default.createElement(s.BootstrapContext.Consumer,null,(function(e){return e.bootstrap4?r.default.createElement("span",{className:"caret-4-"+t}):r.default.createElement("span",{className:n},r.default.createElement("span",{className:"caret"}))}))};c.propTypes={order:o.default.oneOf([a.default.SORT_ASC,a.default.SORT_DESC]).isRequired},t.default=c},function(e,t,n){(function(e,n){var r;!function(){var i="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},o=i._,a=Array.prototype,s=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,c=a.push,l=a.slice,h=s.toString,f=s.hasOwnProperty,d=Array.isArray,p=Object.keys,v=Object.create,g=function(){},y=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};t.nodeType?i._=y:(!n.nodeType&&n.exports&&(t=n.exports=y),t._=y),y.VERSION="1.9.1";var m,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return y.iteratee!==m?y.iteratee(e,t):null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)&&!y.isArray(e)?y.matcher(e):y.property(e)};y.iteratee=m=function(e,t){return _(e,t,1/0)};var w=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},E=function(e){if(!y.isObject(e))return{};if(v)return v(e);g.prototype=e;var t=new g;return g.prototype=null,t},T=function(e){return function(t){return null==t?void 0:t[e]}},I=function(e,t){return null!=e&&f.call(e,t)},S=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},C=Math.pow(2,53)-1,k=T("length"),O=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=C};y.each=y.forEach=function(e,t,n){var r,i;if(t=b(t,n),O(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=_(t,n);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var P=function(e){var t=function(t,n,r,i){var o=!O(t)&&y.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r};return function(e,n,r,i){var o=arguments.length>=3;return t(e,b(n,i,4),r,o)}};y.reduce=y.foldl=y.inject=P(1),y.reduceRight=y.foldr=P(-1),y.find=y.detect=function(e,t,n){var r=(O(e)?y.findIndex:y.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},y.filter=y.select=function(e,t,n){var r=[];return t=_(t,n),y.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},y.reject=function(e,t,n){return y.filter(e,y.negate(_(t)),n)},y.every=y.all=function(e,t,n){t=_(t,n);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=_(t,n);for(var r=!O(e)&&y.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return O(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=w((function(e,t,n){var r,i;return y.isFunction(t)?i=t:y.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),y.map(e,(function(e){var o=i;if(!o){if(r&&r.length&&(e=S(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)}))})),y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=O(e)?e:y.values(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=_(t,n),y.each(e,(function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)}));return o},y.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=O(e)?e:y.values(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=_(t,n),y.each(e,(function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)}));return o},y.shuffle=function(e){return y.sample(e,1/0)},y.sample=function(e,t,n){if(null==t||n)return O(e)||(e=y.values(e)),e[y.random(e.length-1)];var r=O(e)?y.clone(e):y.values(e),i=k(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=y.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)},y.sortBy=function(e,t,n){var r=0;return t=_(t,n),y.pluck(y.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var x=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=_(r,i),y.each(n,(function(t,i){var a=r(t,i,n);e(o,t,a)})),o}};y.groupBy=x((function(e,t,n){I(e,n)?e[n].push(t):e[n]=[t]})),y.indexBy=x((function(e,t,n){e[n]=t})),y.countBy=x((function(e,t,n){I(e,n)?e[n]++:e[n]=1}));var N=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;y.toArray=function(e){return e?y.isArray(e)?l.call(e):y.isString(e)?e.match(N):O(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:O(e)?e.length:y.keys(e).length},y.partition=x((function(e,t,n){e[n?0:1].push(t)}),!0),y.first=y.head=y.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,Boolean)};var A=function e(t,n,r,i){for(var o=(i=i||[]).length,a=0,s=k(t);a<s;a++){var u=t[a];if(O(u)&&(y.isArray(u)||y.isArguments(u)))if(n)for(var c=0,l=u.length;c<l;)i[o++]=u[c++];else e(u,n,r,i),o=i.length;else r||(i[o++]=u)}return i};y.flatten=function(e,t){return A(e,t,!1)},y.without=w((function(e,t){return y.difference(e,t)})),y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],a=0,s=k(e);a<s;a++){var u=e[a],c=n?n(u,a,e):u;t&&!n?(a&&o===c||i.push(u),o=c):n?y.contains(o,c)||(o.push(c),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=w((function(e){return y.uniq(A(e,!0,!0))})),y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=k(e);r<i;r++){var o=e[r];if(!y.contains(t,o)){var a;for(a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=w((function(e,t){return t=A(t,!0,!0),y.filter(e,(function(e){return!y.contains(t,e)}))})),y.unzip=function(e){for(var t=e&&y.max(e,k).length||0,n=Array(t),r=0;r<t;r++)n[r]=y.pluck(e,r);return n},y.zip=w(y.unzip),y.object=function(e,t){for(var n={},r=0,i=k(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var R=function(e){return function(t,n,r){n=_(n,r);for(var i=k(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};y.findIndex=R(1),y.findLastIndex=R(-1),y.sortedIndex=function(e,t,n,r){for(var i=(n=_(n,r,1))(t),o=0,a=k(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var D=function(e,t,n){return function(r,i,o){var a=0,s=k(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return r[o=n(r,i)]===i?o:-1;if(i!==i)return(o=t(l.call(r,a,s),y.isNaN))>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&o<s;o+=e)if(r[o]===i)return o;return-1}};y.indexOf=D(1,y.findIndex,y.sortedIndex),y.lastIndexOf=D(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},y.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};var j=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=E(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=w((function(e,t,n){if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var r=w((function(i){return j(e,r,t,this,n.concat(i))}));return r})),y.partial=w((function(e,t){var n=y.partial.placeholder;return function r(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return j(e,r,this,this,a)}})),y.partial.placeholder=y,y.bindAll=w((function(e,t){var n=(t=A(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=y.bind(e[r],e)}})),y.memoize=function(e,t){var n=function n(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return I(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=w((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:y.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=y.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},y.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=w((function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=y.delay(o,t,this,a);return i}));return a.cancel=function(){clearTimeout(r),r=null},a},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},y.once=y.partial(y.before,2),y.restArguments=w;var L=!{toString:null}.propertyIsEnumerable("toString"),M=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=M.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||s,o="constructor";for(I(e,o)&&!y.contains(t,o)&&t.push(o);n--;)(o=M[n])in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)};y.keys=function(e){if(!y.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)I(e,n)&&t.push(n);return L&&F(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&F(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=_(t,n);for(var r=y.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()};var U=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}};y.extend=U(y.allKeys),y.extendOwn=y.assign=U(y.keys),y.findKey=function(e,t,n){t=_(t,n);for(var r,i=y.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var q,V,B=function(e,t,n){return t in n};y.pick=w((function(e,t){var n={},r=t[0];if(null==e)return n;y.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=y.allKeys(e)):(r=B,t=A(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n})),y.omit=w((function(e,t){var n,r=t[0];return y.isFunction(r)?(r=y.negate(r),t.length>1&&(n=t[1])):(t=y.map(A(t,!1,!1),String),r=function(e,n){return!y.contains(t,n)}),y.pick(e,r,n)})),y.defaults=U(y.allKeys,!0),y.create=function(e,t){var n=E(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},q=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&V(e,t,n,r)},V=function(e,t,n,r){e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var c=(n=n||[]).length;c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if((c=e.length)!==t.length)return!1;for(;c--;)if(!q(e[c],t[c],n,r))return!1}else{var l,f=y.keys(e);if(c=f.length,y.keys(t).length!==c)return!1;for(;c--;)if(l=f[c],!I(t,l)||!q(e[l],t[l],n,r))return!1}return n.pop(),r.pop(),!0},y.isEqual=function(e,t){return q(e,t)},y.isEmpty=function(e){return null==e||(O(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length)},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=d||function(e){return"[object Array]"===h.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){y["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}})),y.isArguments(arguments)||(y.isArguments=function(e){return I(e,"callee")});var z=i.document&&i.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof z&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return!y.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&isNaN(e)},y.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===h.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){if(!y.isArray(t))return I(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=function(e){return y.isArray(e)?function(t){return S(t,e)}:T(e)},y.propertyOf=function(e){return null==e?function(){}:function(t){return y.isArray(t)?S(e,t):e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},W=y.invert(K),H=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=H(K),y.unescape=H(W),y.result=function(e,t,n){y.isArray(t)||(t=[t]);var r=t.length;if(!r)return y.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=y.isFunction(o)?o.call(e):o}return e};var G=0;y.uniqueId=function(e){var t=++G+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var Q=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+$[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r,i=RegExp([(t.escape||Q).source,(t.interpolate||Q).source,(t.evaluate||Q).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,(function(t,n,r,i,s){return a+=e.slice(o,s).replace(Y,X),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t})),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(c){throw c.source=a,c}var s=function(e){return r.call(this,e,y)},u=t.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},y.chain=function(e){var t=y(e);return t._chain=!0,t};var J=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){return y.each(y.functions(e),(function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),J(this,n.apply(y,e))}})),y},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],J(this,n)}})),y.each(["concat","join","slice"],(function(e){var t=a[e];y.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}})),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return String(this._wrapped)},void 0===(r=function(){return y}.apply(t,[]))||(n.exports=r)}()}).call(this,n(24),n(126)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckBox=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=h(o),s=h(n(5)),u=h(n(15)),c=n(26),l=h(n(8));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.CheckBox=function(e){var t=e.className,n=e.checked,r=e.indeterminate;return a.default.createElement("input",{type:"checkbox",checked:n,className:t,ref:function(e){e&&(e.indeterminate=r)},onChange:function(){}})};f.propTypes={checked:s.default.bool.isRequired,indeterminate:s.default.bool.isRequired,className:s.default.string};var d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCheckBoxClick=e.handleCheckBoxClick.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){var t=u.default.ROW_SELECT_SINGLE,n=this.props,r=n.mode,i=n.checkedStatus;return r!==t&&e.checkedStatus!==i}},{key:"handleCheckBoxClick",value:function(e){var t=this.props,n=t.onAllRowsSelect,r=t.checkedStatus;n(e,r===u.default.CHECKBOX_STATUS_CHECKED||r===u.default.CHECKBOX_STATUS_INDETERMINATE)}},{key:"render",value:function(){var e=this,t=u.default.CHECKBOX_STATUS_CHECKED,n=u.default.CHECKBOX_STATUS_INDETERMINATE,i=u.default.ROW_SELECT_MULTIPLE,o=this.props,s=o.mode,h=o.checkedStatus,d=o.selectionHeaderRenderer,p=o.hideSelectAll,v=o.headerColumnStyle;if(p)return a.default.createElement("th",{"data-row-selection":!0});var g=h===t,y=h===n,m={},b=void 0;return(d||s===i)&&(m.onClick=this.handleCheckBoxClick),m.style=l.default.isFunction(v)?v(h):v,a.default.createElement(c.BootstrapContext.Consumer,null,(function(t){var n=t.bootstrap4;return d?b=d({mode:s,checked:g,indeterminate:y}):s===i&&(b=a.default.createElement(f,r({},e.props,{checked:g,className:n?"selection-input-4":"",indeterminate:y}))),a.default.createElement("th",r({className:"selection-cell-header","data-row-selection":!0},m),b)}))}}]),t}(o.Component);d.propTypes={mode:s.default.string.isRequired,checkedStatus:s.default.string,onAllRowsSelect:s.default.func,hideSelectAll:s.default.bool,selectionHeaderRenderer:s.default.func,headerColumnStyle:s.default.oneOfType([s.default.object,s.default.func])},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=u(o),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleCheckBoxClick=e.handleCheckBoxClick.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"handleCheckBoxClick",value:function(e){var t=this.props,n=t.isAnyExpands;(0,t.onAllRowExpand)(e,!n)}},{key:"render",value:function(){var e=this.props,t=e.isAnyExpands,n=e.expandHeaderColumnRenderer,i={onClick:this.handleCheckBoxClick};return a.default.createElement("th",r({className:"expand-cell-header","data-row-selection":!0},i),n?n({isAnyExpands:t}):t?"(-)":"(+)")}}]),t}(o.Component);c.propTypes={isAnyExpands:s.default.bool.isRequired,onAllRowExpand:s.default.func.isRequired,expandHeaderColumnRenderer:s.default.func},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(39));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(){return r.default.createElement(i.default.Consumer,null,(function(t){return r.default.createElement(e,t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExpandedRows=t.expandableKeys=t.isAnyExpands=void 0;var r,i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(8),a=(r=o)&&r.__esModule?r:{default:r},s=n(34);t.isAnyExpands=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=function(r){var i=a.default.get(e[r],t);if("undefined"!==typeof n.find((function(e){return e===i})))return{v:!0}},o=0;o<e.length;o+=1){var s=r(o);if("object"===("undefined"===typeof s?"undefined":i(s)))return s.v}return!1},t.expandableKeys=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return 0===n.length?e.map((function(e){return a.default.get(e,t)})):e.filter((function(e){return!a.default.contains(n,a.default.get(e,t))})).map((function(e){return a.default.get(e,t)}))},t.getExpandedRows=function(e,t,n){return n.map((function(n){return(0,s.getRowByRowId)(e,t,n)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.editCell=void 0;var r,i=n(8),o=(r=i)&&r.__esModule?r:{default:r},a=n(34);t.editCell=function(e,t,n,r,i){var s=(0,a.getRowByRowId)(e,t,n);s&&o.default.set(s,r,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextOrder=t.sort=void 0;var r=o(n(8)),i=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return"string"===typeof t?t.localeCompare(e):e>t?-1:e<t?1:0}t.sort=function(e,t,n){var o=n.dataField,s=n.sortFunc,u=n.sortValue,c=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return c.sort((function(e,n){var c=r.default.get(e,o),l=r.default.get(n,o);return u?(c=u(c,e),l=u(l,n)):(c=r.default.isDefined(c)?c:"",l=r.default.isDefined(l)?l:""),s?s(c,l,t,o,e,n):t===i.default.SORT_DESC?a(c,l):a(l,c)})),c},t.nextOrder=function(e,t){var n=t.sortOrder,r=t.sortColumn,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.SORT_DESC;return r&&e.dataField===r.dataField?n===i.default.SORT_DESC?i.default.SORT_ASC:i.default.SORT_DESC:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeConvert=void 0;var r,i=n(15),o=(r=i)&&r.__esModule?r:{default:r};t.typeConvert=function(e,t){return e===o.default.TYPE_STRING?String(t):e===o.default.TYPE_NUMBER?Number(t):e===o.default.TYPE_BOOLEAN?"boolean"===typeof t?t:"true"===t:e===o.default.TYPE_DATE?new Date(t):t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(41));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(){return r.default.createElement(i.default.Consumer,null,(function(t){return r.default.createElement(e,t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(5)),o=u(n(136)),a=u(n(15)),s=u(n(57));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.columns,n=e.onFilter,i=e.currFilters,u=e.filterPosition,c=e.onExternalFilter,l=e.className,h=e.selectRow,f=e.expandRow;return r.default.createElement("tbody",{className:l,style:{display:u===a.default.FILTERS_POSITION_TOP?"table-header-group":"table-footer-group"}},r.default.createElement(s.default,{renderContent:function(){var e=[],a=!1;return t.forEach((function(t,s){e.push(r.default.createElement(o.default,{index:s,key:t.dataField,column:t,currFilters:i,onExternalFilter:c,onFilter:n})),(t.filterRenderer||t.filter)&&(a||(a=!0))})),e},selectRow:h,expandRow:f,cellEl:"td"}))};c.propTypes={columns:i.default.array.isRequired,onFilter:i.default.func,filterPosition:i.default.oneOf([a.default.FILTERS_POSITION_TOP,a.default.FILTERS_POSITION_INLINE,a.default.FILTERS_POSITION_BOTTOM]),currFilters:i.default.object,onExternalFilter:i.default.func,className:i.default.string,selectRow:i.default.object,expandRow:i.default.object},c.defaultProps={position:a.default.FILTERS_POSITION_TOP},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=s(n(3)),o=s(n(5)),a=s(n(8));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.index,n=e.column,o=e.onExternalFilter,s=e.currFilters,u=e.onFilter,c=n.filterRenderer,l=n.filter,h=void 0,f={},d={};(f.style=d,n.headerAlign&&(d.textAlign=a.default.isFunction(n.headerAlign)?n.headerAlign(n,t):n.headerAlign),n.filterRenderer)?h=c(o(n,l.props.type),n):l&&(h=i.default.createElement(l.Filter,r({},l.props,{filterState:s[n.dataField],onFilter:u,column:n})));return i.default.createElement("th",f,h)};u.propTypes={index:o.default.number.isRequired,column:o.default.object.isRequired,currFilters:o.default.object.isRequired,onFilter:o.default.func,onExternalFilter:o.default.func},u.defaultProps={onFilter:function(){},onExternalFilter:function(){}},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return e.children?e.bootstrap4?r.default.createElement("caption",{style:{captionSide:"top"}},e.children):r.default.createElement("caption",null,e.children):null};a.propTypes={children:i.default.oneOfType([i.default.node,i.default.string]),bootstrap4:i.default.bool},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(3)),a=p(n(5)),s=p(n(8)),u=p(n(139)),c=p(n(141)),l=p(n(144)),h=p(n(15)),f=p(n(145)),d=p(n(146));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.keyField,i=e.cellEdit,o=e.selectRow,a=e.expandRow;i.createContext&&(n.EditingCell=i.createEditingCell(s.default,i.options.onStartEdit));var l=u.default,p=o.mode!==h.default.ROW_SELECT_DISABLED,v=!!a.renderer;return v&&(l=(0,d.default)(c.default)),p&&(l=(0,f.default)(v?l:c.default)),i.createContext&&(l=i.withRowLevelCellEdit(l,p,r,s.default)),n.RowComponent=l,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.columns,i=t.data,a=t.tabIndexCell,u=t.keyField,c=t.isEmpty,f=t.noDataIndication,d=t.visibleColumnSize,p=t.cellEdit,v=t.selectRow,g=t.rowStyle,y=t.rowClasses,m=t.rowEvents,b=t.expandRow,_=t.className,w=void 0;if(c){var E=s.default.isFunction(f)?f():f;if(!E)return null;w=o.default.createElement(l.default,{content:E,colSpan:d})}else{var T=v.mode!==h.default.ROW_SELECT_DISABLED,I=!!b.renderer,S={};p.createContext&&(S.EditingCellComponent=this.EditingCell),(T||I)&&(S.expandRow=b,S.selectRow=v),w=i.map((function(t,i){var c=s.default.get(t,u),l=r({key:c,row:t,tabIndexCell:a,columns:n,keyField:u,cellEdit:p,value:c,rowIndex:i,visibleColumnSize:d,attrs:m||{}},S);return l.style=s.default.isFunction(g)?g(t,i):g,l.className=s.default.isFunction(y)?y(t,i):y,o.default.createElement(e.RowComponent,l)}))}return o.default.createElement("tbody",{className:_},w)}}]),t}(o.default.Component);v.propTypes={keyField:a.default.string.isRequired,data:a.default.array.isRequired,columns:a.default.array.isRequired,selectRow:a.default.object},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=l(o),s=l(n(5)),u=l(n(58)),c=l(n(59));function l(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldUpdateRowContent=!1,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return this.shouldUpdateRowContent=!1,this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),!!this.shouldUpdateRowContent||this.shouldUpdatedBySelfProps(e)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,i=e.attrs,o=e.visibleColumnSize,s=e.tabIndexCell,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","style","attrs","visibleColumnSize","tabIndexCell"]),l=this.delegate(i),h=this.props.rowIndex*o+1;return a.default.createElement("tr",r({style:n,className:t},l),a.default.createElement(u.default,r({shouldUpdate:this.shouldUpdateRowContent,tabIndexStart:s?h:-1},c)))}}]),t}((0,l(n(60)).default)((0,c.default)(o.Component)));h.propTypes={row:s.default.object.isRequired,rowIndex:s.default.number.isRequired,columns:s.default.array.isRequired,style:s.default.object,className:s.default.string,attrs:s.default.object},h.defaultProps={editable:!0,style:{},className:null,attrs:{}},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=l(o),s=l(n(5)),u=l(n(38)),c=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.createHandleEditingCell=function(e){return function(t){var r=n.props,i=r.onStart,o=r.rowIndex,a=r.columnIndex,s=r.clickToEdit,u=r.dbclickToEdit;(s||u)&&c.default.isFunction(e)&&e(t),i&&i(o,a)}},n.createHandleEditingCell=n.createHandleEditingCell.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return(e.column.isDummyField?!c.default.isEqual(this.props.row,e.row):c.default.get(this.props.row,this.props.column.dataField)!==c.default.get(e.row,e.column.dataField))||(!!e.column.formatter&&!c.default.isEqual(this.props.row,e.row)||this.props.column.hidden!==e.column.hidden||this.props.column.isDummyField!==e.column.isDummyField||this.props.rowIndex!==e.rowIndex||this.props.columnIndex!==e.columnIndex||this.props.className!==e.className||this.props.title!==e.title||this.props.editable!==e.editable||this.props.clickToEdit!==e.clickToEdit||this.props.dbclickToEdit!==e.dbclickToEdit||!c.default.isEqual(this.props.style,e.style)||!c.default.isEqual(this.props.column.formatExtraData,e.column.formatExtraData)||!c.default.isEqual(this.props.column.events,e.column.events)||!c.default.isEqual(this.props.column.attrs,e.column.attrs)||this.props.tabIndex!==e.tabIndex)}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,i=e.column,o=(e.columnIndex,e.onStart,e.editable),s=e.clickToEdit,u=e.dbclickToEdit,l=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["row","rowIndex","column","columnIndex","onStart","editable","clickToEdit","dbclickToEdit"]),h=i.dataField,f=i.formatter,d=i.formatExtraData,p=this.delegate(r({},l)),v=i.isDummyField?null:c.default.get(t,h);return f&&(v=i.formatter(v,t,n,d)),s&&o?p.onClick=this.createHandleEditingCell(p.onClick):u&&o&&(p.onDoubleClick=this.createHandleEditingCell(p.onDoubleClick)),a.default.createElement("td",p,"boolean"===typeof v?""+v:v)}}]),t}((0,u.default)(o.Component));h.propTypes={row:s.default.object.isRequired,rowIndex:s.default.number.isRequired,column:s.default.object.isRequired,columnIndex:s.default.number.isRequired},t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=p(n(3)),a=p(n(5)),s=p(n(8)),u=p(n(142)),c=p(n(143)),l=p(n(60)),h=p(n(59)),f=p(n(58)),d=p(n(15));function p(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickNum=0,n.shouldUpdateRowContent=!1,n.createClickEventHandler=n.createClickEventHandler.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.selected!==e.selected||this.props.expanded!==e.expanded||this.props.expandable!==e.expandable||this.props.selectable!==e.selectable||this.props.selectRow.hideSelectColumn!==e.selectRow.hideSelectColumn||this.shouldUpdatedBySelfProps(e)?(this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),!0):(this.shouldUpdateRowContent=this.shouldRowContentUpdate(e),this.shouldUpdateRowContent)}},{key:"isRenderFunctionColumnInLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.INDICATOR_POSITION_LEFT;return e===d.default.INDICATOR_POSITION_LEFT}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.columns,i=e.keyField,a=e.rowIndex,l=e.style,h=e.className,d=e.attrs,p=e.selectRow,v=e.expandRow,g=e.expanded,y=e.expandable,m=e.selected,b=e.selectable,_=e.visibleColumnSize,w=e.tabIndexCell,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["row","columns","keyField","rowIndex","style","className","attrs","selectRow","expandRow","expanded","expandable","selected","selectable","visibleColumnSize","tabIndexCell"]),T=s.default.get(t,i),I=p.hideSelectColumn,S=p.selectColumnPosition,C=p.clickToSelect,k=v.showExpandColumn,O=v.expandColumnPosition,P=this.delegate(r({},d));(C||v.renderer)&&(P.onClick=this.createClickEventHandler(P.onClick));var x=a*_+1,N=[o.default.createElement(f.default,r({key:"row",row:t,columns:n,keyField:i,rowIndex:a,shouldUpdate:this.shouldUpdateRowContent,tabIndexStart:w?x:-1},E))];if(!I){var A=o.default.createElement(c.default,r({},p,{key:"selection-cell",rowKey:T,rowIndex:a,selected:m,disabled:!b,tabIndex:w?x++:-1}));this.isRenderFunctionColumnInLeft(S)?N.unshift(A):N.push(A)}if(k){var R=o.default.createElement(u.default,r({},v,{key:"expand-cell",rowKey:T,rowIndex:a,expanded:g,expandable:y,tabIndex:w?x++:-1}));this.isRenderFunctionColumnInLeft(O)?N.unshift(R):N.push(R)}return o.default.createElement("tr",r({style:l,className:h},P),N)}}]),t}((0,l.default)((0,h.default)(o.default.Component)));v.propTypes={attrs:a.default.object,style:a.default.object},v.defaultProps={attrs:{},style:{}},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=u(o),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.expanded!==e.expanded||this.props.rowKey!==e.rowKey||this.props.tabIndex!==e.tabIndex}},{key:"handleClick",value:function(e){var t=this.props,n=t.rowKey,r=t.expanded,i=t.onRowExpand,o=t.rowIndex;e.stopPropagation(),i(n,!r,o,e)}},{key:"render",value:function(){var e=this.props,t=e.expanded,n=e.expandable,i=e.expandColumnRenderer,o=e.tabIndex,s=e.rowKey,u={};return-1!==o&&(u.tabIndex=o),a.default.createElement("td",r({className:"expand-cell",onClick:this.handleClick},u),i?i({expandable:n,expanded:t,rowKey:s}):n?t?"(-)":"(+)":"")}}]),t}(o.Component);c.propTypes={rowKey:s.default.any,expanded:s.default.bool.isRequired,expandable:s.default.bool.isRequired,onRowExpand:s.default.func.isRequired,expandColumnRenderer:s.default.func,rowIndex:s.default.number,tabIndex:s.default.number},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=h(o),s=h(n(5)),u=h(n(15)),c=h(n(8)),l=n(26);function h(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.rowIndex!==e.rowIndex||this.props.selected!==e.selected||this.props.disabled!==e.disabled||this.props.rowKey!==e.rowKey||this.props.tabIndex!==e.tabIndex||this.props.selectColumnStyle!==e.selectColumnStyle}},{key:"handleClick",value:function(e){var t=this.props,n=t.mode,r=t.rowKey,i=t.selected,o=t.onRowSelect,a=t.disabled,s=t.rowIndex;(e.stopPropagation(),a)||o(r,n===u.default.ROW_SELECT_SINGLE||!i,s,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.rowKey,i=t.mode,o=t.selected,s=t.disabled,u=t.tabIndex,h=t.rowIndex,f=t.selectionRenderer,d=t.selectColumnStyle,p={};return-1!==u&&(p.tabIndex=u),p.style=c.default.isFunction(d)?d({checked:o,disabled:s,rowIndex:h,rowKey:n}):d,a.default.createElement(l.BootstrapContext.Consumer,null,(function(t){var u=t.bootstrap4;return a.default.createElement("td",r({className:"selection-cell",onClick:e.handleClick},p),f?f({mode:i,checked:o,disabled:s,rowIndex:h,rowKey:n}):a.default.createElement("input",{type:i,checked:o,disabled:s,className:u?"selection-input-4":"",onChange:function(){}}))}))}}]),t}(o.Component);f.propTypes={mode:s.default.string.isRequired,rowKey:s.default.any,selected:s.default.bool,onRowSelect:s.default.func,disabled:s.default.bool,rowIndex:s.default.number,tabIndex:s.default.number,clickToSelect:s.default.bool,selectionRenderer:s.default.func,selectColumnStyle:s.default.oneOfType([s.default.object,s.default.func])},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.content,n=e.colSpan;return r.default.createElement("tr",null,r.default.createElement("td",{"data-toggle":"collapse",colSpan:n,className:"react-bs-table-no-data"},t))};a.propTypes={content:i.default.any,colSpan:i.default.number},a.defaultProps={content:null,colSpan:1},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(3)),o=u(n(20)),a=u(n(8)),s=u(n(39));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){function t(t){return i.default.createElement(s.default.Consumer,null,(function(n){return function(t,n){var s=t.value,u=a.default.contains(n.selected,s),c=!n.nonSelectable||!a.default.contains(n.nonSelectable,s),l=a.default.contains(n.nonSelectable,s),h=t.style,f=t.className;if(u){var d=a.default.isFunction(n.style)?n.style(t.row,t.rowIndex):n.style,p=a.default.isFunction(n.classes)?n.classes(t.row,t.rowIndex):n.classes;h=r({},h,d),f=(0,o.default)(f,p)||void 0,n.bgColor&&((h=h||{}).backgroundColor=a.default.isFunction(n.bgColor)?n.bgColor(t.row,t.rowIndex):n.bgColor)}if(l){var v=a.default.isFunction(n.nonSelectableStyle)?n.nonSelectableStyle(t.row,t.rowIndex):n.nonSelectableStyle,g=a.default.isFunction(n.nonSelectableClasses)?n.nonSelectableClasses(t.row,t.rowIndex):n.nonSelectableClasses;h=r({},h,v),f=(0,o.default)(f,g)||void 0}return i.default.createElement(e,r({},t,{style:h,className:f,selectRow:n,selected:u,selectable:c}))}(t,n)}))}return t.displayName="WithSelectionRowConsumer",t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(3)),o=c(n(20)),a=c(n(147)),s=c(n(8)),u=c(n(41));function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){return i.default.createElement(u.default.Consumer,null,(function(n){return function(t,n){var u="",c="",l=t.value,h=s.default.contains(n.expanded,l),f=s.default.contains(n.isClosing,l),d=!n.nonExpandable||!s.default.contains(n.nonExpandable,l);return h&&(u=s.default.isFunction(n.parentClassName)?n.parentClassName(h,t.row,t.rowIndex):n.parentClassName||"",c=s.default.isFunction(n.className)?n.className(h,t.row,t.rowIndex):n.className||""),[i.default.createElement(e,r({},t,{key:l,expanded:h,expandable:d,expandRow:r({},n),className:(0,o.default)(t.className,u)})),h||f?i.default.createElement(a.default,{key:l+"-expanding",colSpan:t.visibleColumnSize,expanded:h,onClosed:function(){return n.onClosed(l)},className:c},n.renderer(t.row,t.rowIndex)):null]}(t,n)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(20)),o=u(n(3)),a=u(n(5)),s=n(188);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.children,n=e.expanded,a=e.onClosed,u=e.className,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","expanded","onClosed","className"]);return o.default.createElement("tr",null,o.default.createElement("td",r({className:(0,i.default)("reset-expansion-style",u)},c),o.default.createElement(s.CSSTransition,{appear:!0,in:n,timeout:400,classNames:"row-expand-slide",onExited:a},o.default.createElement("div",null,o.default.createElement("div",{className:"row-expansion-style"},t)))))};c.propTypes={children:a.default.node,expanded:a.default.bool,onClosed:a.default.func,className:a.default.string},c.defaultProps={children:null,expanded:!1,onClosed:null,className:""},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(5)),o=u(n(57)),a=u(n(149)),s=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.data,n=e.className,i=e.columns,u=e.selectRow,c=e.expandRow;return r.default.createElement("tfoot",null,r.default.createElement(o.default,{renderContent:function(){return i.map((function(e,n){if(void 0===e.footer||null===e.footer)return!1;var i=s.default.pluck(t,e.dataField);return r.default.createElement(a.default,{index:n,key:e.dataField,column:e,columnData:i})}))},selectRow:u,expandRow:c,className:n,cellEl:"th"}))};c.propTypes={data:i.default.array,className:i.default.string,columns:i.default.array,selectRow:i.default.object,expandRow:i.default.object},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=c(n(3)),a=c(n(20)),s=c(n(5)),u=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return l(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.index,n=e.column,i=e.columnData,s=n.footer,c=n.footerTitle,l=n.footerAlign,h=n.footerFormatter,f=n.footerEvents,d=n.footerClasses,p=n.footerStyle,v=n.footerAttrs,g=this.delegate(f),y=r({},u.default.isFunction(v)?v(n,t):v,g),m="";u.default.isString(s)?m=s:u.default.isFunction(s)&&(m=s(i,n,t));var b={},_=u.default.isFunction(d)?d(n,t):d;p&&(b=(b=u.default.isFunction(p)?p(n,t):p)?r({},b):b),c&&(y.title=u.default.isFunction(c)?c(n,t):m),l&&(b.textAlign=u.default.isFunction(l)?l(n,t):l),_&&(y.className=(0,a.default)(y.className,_)),u.default.isEmptyObject(b)||(y.style=b);var w=h?h(n,t,{text:m}):m;return o.default.createElement("th",y,w)}}]),t}((0,c(n(38)).default)(o.default.Component));f.propTypes={columnData:s.default.array,index:s.default.number,column:s.default.object},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(8)),o=a(n(151));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(e){function t(){return s(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"validateProps",value:function(){if(!this.props.keyField)throw new Error("Please specify a field as key via keyField");if(this.visibleColumnSize(!1)<=0)throw new Error("No visible columns detected")}},{key:"isEmpty",value:function(){return 0===this.props.data.length}},{key:"visibleRows",value:function(){var e=this.props,t=e.data,n=e.hiddenRows,r=e.keyField;return n&&0!==n.length?t.filter((function(e){var t=i.default.get(e,r);return!i.default.contains(n,t)})):t}}]),t}((0,o.default)(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"visibleColumnSize",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(this.props.columnToggle&&this.props.columnToggle.toggles){var n=this.props.columnToggle.toggles;t=Object.keys(n).filter((function(e){return n[e]})).length}else t=this.props.columns.filter((function(e){return!e.hidden})).length;return e?(this.props.selectRow&&!this.props.selectRow.hideSelectColumn&&(t+=1),this.props.expandRow&&this.props.expandRow.showExpandColumn&&(t+=1),t):t}}]),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(3),a=y(o),s=y(n(42)),u=y(n(8)),c=y(n(153)),l=y(n(154)),h=y(n(155)),f=y(n(39)),d=y(n(41)),p=y(n(156)),v=n(26),g=y(n(40));function y(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(t.DataContext=(0,c.default)(),e.registerExposedAPI){var r=new s.default;r.on("get.table.data",(function(e){return e.result=t.table.getData()})),r.on("get.selected.rows",(function(e){return e.result=t.selectionContext.getSelected()})),r.on("get.filtered.rows",(function(e){t.searchContext?e.result=t.searchContext.getSearched():t.filterContext?e.result=t.filterContext.getFiltered():e.result=t.table.getData()})),e.registerExposedAPI(r)}return e.columns.filter((function(e){return e.sort})).length>0&&(t.SortContext=(0,h.default)(g.default,t.isRemoteSort,t.handleRemoteSortChange)),(e.columnToggle||e.columns.filter((function(e){return e.hidden})).length>0)&&(t.ColumnManagementContext=(0,l.default)()),e.selectRow&&(t.SelectionContext=f.default),e.expandRow&&(t.RowExpandContext=d.default),e.cellEdit&&e.cellEdit.createContext&&(t.CellEditContext=e.cellEdit.createContext(u.default,g.default,t.isRemoteCellEdit,t.handleRemoteCellChange)),e.filter&&(t.FilterContext=e.filter.createContext(u.default,t.isRemoteFiltering,t.handleRemoteFilterChange)),e.pagination&&(t.PaginationContext=e.pagination.createContext()),e.search&&e.search.searchContext&&(t.SearchContext=e.search.searchContext(u.default,t.isRemoteSearch,t.handleRemoteSearchChange)),e.setDependencyModules&&e.setDependencyModules(u.default),e.setPaginationRemoteEmitter&&e.setPaginationRemoteEmitter(t.remoteEmitter),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),i(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.columns.filter((function(e){return e.sort})).length<=0?this.SortContext=null:this.SortContext||(this.SortContext=(0,h.default)(g.default,this.isRemoteSort,this.handleRemoteSortChange)),!e.pagination&&this.props.pagination&&(this.PaginationContext=null),e.pagination&&!this.props.pagination&&(this.PaginationContext=e.pagination.createContext(this.isRemotePagination,this.handleRemotePageChange)),!e.cellEdit&&this.props.cellEdit&&(this.CellEditContext=null),e.cellEdit&&!this.props.cellEdit&&(this.CellEditContext=e.cellEdit.createContext(u.default,g.default,this.isRemoteCellEdit,this.handleRemoteCellChange))}},{key:"renderBase",value:function(){var t=this;return function(n,i,o,s,u,c){return a.default.createElement(e,r({ref:function(e){return t.table=e}},t.props,s,i,o,u,c,{data:n.getData(i,o,s,u)}))}}},{key:"renderWithColumnManagementCtx",value:function(e,t){var n=this;return function(i,o,s,u,c){return a.default.createElement(n.ColumnManagementContext.Provider,r({},t,{toggles:n.props.columnToggle?n.props.columnToggle.toggles:null}),a.default.createElement(n.ColumnManagementContext.Consumer,null,(function(t){return e(i,o,s,u,c,t)})))}}},{key:"renderWithSelectionCtx",value:function(e,t){var n=this;return function(i,o,s,u,c){return a.default.createElement(n.SelectionContext.Provider,r({},t,{ref:function(e){return n.selectionContext=e},selectRow:n.props.selectRow,data:i.getData(o,s,u,c)}),e(i,o,s,u,c))}}},{key:"renderWithRowExpandCtx",value:function(e,t){var n=this;return function(i,o,s,u,c){return a.default.createElement(n.RowExpandContext.Provider,r({},t,{ref:function(e){return n.rowExpandContext=e},expandRow:n.props.expandRow,data:i.getData(o,s,u,c)}),e(i,o,s,u,c))}}},{key:"renderWithPaginationCtx",value:function(e){var t=this;return function(n,r,i,o){return a.default.createElement(t.PaginationContext.Provider,{ref:function(e){return t.paginationContext=e},pagination:t.props.pagination,data:n.getData(r,i,o),bootstrap4:t.props.bootstrap4,isRemotePagination:t.isRemotePagination,remoteEmitter:t.remoteEmitter,onDataSizeChange:t.props.onDataSizeChange,tableId:t.props.id},a.default.createElement(t.PaginationContext.Consumer,null,(function(t){return e(n,r,i,o,t)})))}}},{key:"renderWithSortCtx",value:function(e,t){var n=this;return function(i,o,s){return a.default.createElement(n.SortContext.Provider,r({},t,{ref:function(e){return n.sortContext=e},defaultSorted:n.props.defaultSorted,defaultSortDirection:n.props.defaultSortDirection,sort:n.props.sort,data:i.getData(o,s)}),a.default.createElement(n.SortContext.Consumer,null,(function(t){return e(i,o,s,t)})))}}},{key:"renderWithSearchCtx",value:function(e,t){var n=this;return function(i,o){return a.default.createElement(n.SearchContext.Provider,r({},t,{ref:function(e){return n.searchContext=e},data:i.getData(o),searchText:n.props.search.searchText,dataChangeListener:n.props.dataChangeListener}),a.default.createElement(n.SearchContext.Consumer,null,(function(t){return e(i,o,t)})))}}},{key:"renderWithFilterCtx",value:function(e,t){var n=this;return function(i){return a.default.createElement(n.FilterContext.Provider,r({},t,{ref:function(e){return n.filterContext=e},data:i.getData(),filter:n.props.filter.options||{},dataChangeListener:n.props.dataChangeListener}),a.default.createElement(n.FilterContext.Consumer,null,(function(t){return e(i,t)})))}}},{key:"renderWithCellEditCtx",value:function(e,t){var n=this;return function(i){return a.default.createElement(n.CellEditContext.Provider,r({},t,{ref:function(e){return n.cellEditContext=e},selectRow:n.props.selectRow,cellEdit:n.props.cellEdit,data:i.getData()}),e(i))}}},{key:"render",value:function(){var e=this.props,t=e.keyField,n=e.columns,i=e.bootstrap4,o={keyField:t,columns:n},s=this.renderBase();return this.ColumnManagementContext&&(s=this.renderWithColumnManagementCtx(s,o)),this.SelectionContext&&(s=this.renderWithSelectionCtx(s,o)),this.RowExpandContext&&(s=this.renderWithRowExpandCtx(s,o)),this.PaginationContext&&(s=this.renderWithPaginationCtx(s,o)),this.SortContext&&(s=this.renderWithSortCtx(s,o)),this.SearchContext&&(s=this.renderWithSearchCtx(s,o)),this.FilterContext&&(s=this.renderWithFilterCtx(s,o)),this.CellEditContext&&(s=this.renderWithCellEditCtx(s,o)),a.default.createElement(v.BootstrapContext.Provider,{value:{bootstrap4:i}},a.default.createElement(this.DataContext.Provider,r({},o,{data:this.props.data}),a.default.createElement(this.DataContext.Consumer,null,s)))}}]),n}((0,p.default)(o.Component))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3),o=s(i),a=s(n(5));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(){var e=o.default.createContext(),t=function(t){function n(){var e,t,r;u(this,n);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=r=c(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(o))),r.state={data:r.props.data},r.getData=function(e,t,n,i){return i?i.data:n?n.data:t?t.data:e?e.data:r.props.data},c(r,t)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState((function(){return{data:e.data}}))}},{key:"render",value:function(){return o.default.createElement(e.Provider,{value:{data:this.state.data,getData:this.getData}},this.props.children)}}]),n}(i.Component);return t.propTypes={data:a.default.array.isRequired,children:a.default.node.isRequired},{Provider:t,Consumer:e.Consumer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(3)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(){var e=i.default.createContext(),t=function(t){function n(){return s(this,n),u(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"render",value:function(){var t=void 0,n=this.props,r=n.columns,o=n.toggles;return t=o?r.filter((function(e){return o[e.dataField]})):r.filter((function(e){return!e.hidden})),i.default.createElement(e.Provider,{value:{columns:t}},this.props.children)}}]),n}(i.default.Component);return t.propTypes={columns:o.default.array.isRequired,toggles:o.default.object},t.defaultProps={toggles:null},{Provider:t,Consumer:e.Consumer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(3)),a=u(n(5)),s=u(n(15));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var u=o.default.createContext(),c=function(a){function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));l.call(t);var n=void 0,r=void 0,i=e.defaultSorted,o=e.defaultSortDirection,a=e.sort;return i&&i.length>0?(n=i[0].order||o,r=t.initSort(i[0].dataField,n)):a&&a.dataField&&a.order&&(n=a.order,r=t.initSort(a.dataField,n)),t.state={sortOrder:n,sortColumn:r},t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(s,a),i(s,[{key:"componentDidMount",value:function(){var e=this.state,r=e.sortOrder,i=e.sortColumn;t()&&r&&i&&n(i.dataField,r)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.sort,n=e.columns;t&&t.dataField&&t.order&&this.setState({sortOrder:t.order,sortColumn:n.find((function(e){return e.dataField===t.dataField}))})}},{key:"initSort",value:function(e,t){var n=void 0,r=this.props.columns.filter((function(t){return t.dataField===e}));return r.length>0&&(n=r[0]).onSort&&n.onSort(e,t),n}},{key:"render",value:function(){var n=this.props.data,i=this.props.sort,a=this.state,s=a.sortOrder,c=a.sortColumn;if(!t()&&c){var l=c.sortFunc?c.sortFunc:i&&i.sortFunc;n=e.sort(n,s,r({},c,{sortFunc:l}))}return o.default.createElement(u.Provider,{value:{data:n,sortOrder:s,onSort:this.handleSort,sortField:c?c.dataField:null}},this.props.children)}}]),s}(o.default.Component);c.propTypes={data:a.default.array.isRequired,columns:a.default.array.isRequired,children:a.default.node.isRequired,defaultSorted:a.default.arrayOf(a.default.shape({dataField:a.default.string.isRequired,order:a.default.oneOf([s.default.SORT_DESC,s.default.SORT_ASC]).isRequired})),sort:a.default.shape({dataField:a.default.string,order:a.default.oneOf([s.default.SORT_DESC,s.default.SORT_ASC]),sortFunc:a.default.func}),defaultSortDirection:a.default.oneOf([s.default.SORT_DESC,s.default.SORT_ASC])};var l=function(){var r=this;this.handleSort=function(i){var o=e.nextOrder(i,r.state,r.props.defaultSortDirection);i.onSort&&i.onSort(i.dataField,o),t()&&n(i.dataField,o),r.setState((function(){return{sortOrder:o,sortColumn:i}}))}};return{Provider:c,Consumer:u.Consumer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(42)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getNewestState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,i=void 0,o=void 0,a=void 0,s=void 0,u={};return n.sortContext&&(t=n.sortContext.state.sortOrder,i=n.sortContext.state.sortColumn?n.sortContext.state.sortColumn.dataField:null),n.filterContext&&(u=n.filterContext.currFilters),n.paginationContext&&(o=n.paginationContext.currPage,a=n.paginationContext.currSizePerPage),n.searchContext&&(s=n.props.search.searchText),r({sortOrder:t,sortField:i,filters:u,page:o,sizePerPage:a,searchText:s},e,{data:n.props.data})},n.isRemoteSearch=function(){var e=n.props.remote;return!0===e||o.default.isObject(e)&&e.search||n.isRemotePagination()},n.isRemotePagination=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.props.remote;return e.result=!0===t||o.default.isObject(t)&&t.pagination,e.result},n.isRemoteFiltering=function(){var e=n.props.remote;return!0===e||o.default.isObject(e)&&e.filter||n.isRemotePagination()},n.isRemoteSort=function(){var e=n.props.remote;return!0===e||o.default.isObject(e)&&e.sort||n.isRemotePagination()},n.isRemoteCellEdit=function(){var e=n.props.remote;return!0===e||o.default.isObject(e)&&e.cellEdit},n.handleRemotePageChange=function(e,t){n.props.onTableChange("pagination",n.getNewestState({page:e,sizePerPage:t}))},n.handleRemoteFilterChange=function(e){var t={filters:e};if(n.isRemotePagination()){var r=n.props.pagination.options||{};t.page=o.default.isDefined(r.pageStartIndex)?r.pageStartIndex:1}n.props.onTableChange("filter",n.getNewestState(t))},n.handleRemoteSortChange=function(e,t){n.props.onTableChange("sort",n.getNewestState({sortField:e,sortOrder:t}))},n.handleRemoteCellChange=function(e,t,r){var i={rowId:e,dataField:t,newValue:r};n.props.onTableChange("cellEdit",n.getNewestState({cellEdit:i}))},n.handleRemoteSearchChange=function(e){n.props.onTableChange("search",n.getNewestState({searchText:e}))},n.remoteEmitter=new i.default,n.remoteEmitter.on("paginationChange",n.handleRemotePageChange),n.remoteEmitter.on("isRemotePagination",n.isRemotePagination),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=h(n(3)),s=h(n(5)),u=h(n(27)),c=h(n(158)),l=n(62);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var v=(0,h(n(61)).default)().Provider,g=a.default.createContext(),y=function(e){function t(){var e,n,i;d(this,t);for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];return n=i=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),i.isRemotePagination=function(){return i.props.isRemotePagination()},i.renderDefaultPagination=function(){if(!i.props.pagination.options.custom){var e=i.getPaginationProps(),t=e.page,n=e.sizePerPage,o=e.dataSize,s=f(e,["page","sizePerPage","dataSize"]);return a.default.createElement(c.default,r({},s,{key:"pagination",dataSize:o||i.props.data.length,currPage:t,currSizePerPage:n}))}return null},p(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"UNSAFE_componentWillReceiveProps",this).call(this,e);var n=this.currSizePerPage,r=e.pagination.options,i=r.custom,a=r.onPageChange,s="undefined"!==typeof e.pagination.options.pageStartIndex?e.pagination.options.pageStartIndex:u.default.PAGE_START_INDEX;if(!this.isRemotePagination()&&!i){var c=(0,l.alignPage)(e.data.length,this.props.data.length,this.currPage,n,s);this.currPage!==c&&(a&&a(c,n),this.currPage=c)}e.onDataSizeChange&&e.data.length!==this.props.data.length&&e.onDataSizeChange({dataSize:e.data.length})}},{key:"render",value:function(){var e=this.props.data,t=this.props.pagination.options,n=this.currPage,r=this.currSizePerPage,i="undefined"===typeof t.pageStartIndex?u.default.PAGE_START_INDEX:t.pageStartIndex;return e=this.isRemotePagination()?e:(0,l.getByCurrPage)(e,n,r,i),a.default.createElement(g.Provider,{value:{data:e,setRemoteEmitter:this.setRemoteEmitter}},this.props.children,this.renderDefaultPagination())}}]),t}(v);y.propTypes={data:s.default.array.isRequired,remoteEmitter:s.default.object.isRequired,isRemotePagination:s.default.func.isRequired},t.default=function(){return{Provider:y,Consumer:g.Consumer}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=v(n(20)),a=n(3),s=v(a),u=v(n(5)),c=v(n(28)),l=v(n(43)),h=n(63),f=n(65),d=n(67),p=v(n(27));function v(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=function(e){function t(){return g(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.tableId,n=e.currPage,i=e.pageStartIndex,a=e.showTotal,u=e.dataSize,c=e.pageListRenderer,l=e.pageButtonRenderer,p=e.paginationTotalRenderer,v=e.hidePageListOnlyOnePage,g=e.totalPages,y=e.lastPage,m=e.onPageChange,b=e.sizePerPageList,_=e.currSizePerPage,w=e.hideSizePerPage,E=e.sizePerPageRenderer,T=e.sizePerPageOptionRenderer,I=e.onSizePerPageChange,S=e.bootstrap4,C=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tableId","currPage","pageStartIndex","showTotal","dataSize","pageListRenderer","pageButtonRenderer","paginationTotalRenderer","hidePageListOnlyOnePage","totalPages","lastPage","onPageChange","sizePerPageList","currSizePerPage","hideSizePerPage","sizePerPageRenderer","sizePerPageOptionRenderer","onSizePerPageChange","bootstrap4"]),k=this.calculatePageStatus(this.calculatePages(g,y),y),O=(0,o.default)("react-bootstrap-table-pagination-list","col-md-6 col-xs-6 col-sm-6 col-lg-6",{"react-bootstrap-table-pagination-list-hidden":v&&1===g});return s.default.createElement("div",{className:"row react-bootstrap-table-pagination"},s.default.createElement("div",{className:"col-md-6 col-xs-6 col-sm-6 col-lg-6"},s.default.createElement(h.SizePerPageDropdownWithAdapter,{bootstrap4:S,tableId:t,sizePerPageList:b,currSizePerPage:_,hideSizePerPage:w,sizePerPageRenderer:E,sizePerPageOptionRenderer:T,onSizePerPageChange:I}),a?s.default.createElement(d.PaginationTotalWithAdapter,{currPage:n,currSizePerPage:_,pageStartIndex:i,dataSize:u,paginationTotalRenderer:p}):null),c?c({pages:k,onPageChange:m}):s.default.createElement("div",{className:O},s.default.createElement(f.PaginationListWithAdapter,r({},C,{currPage:n,currSizePerPage:_,pageStartIndex:i,lastPage:y,totalPages:g,pageButtonRenderer:l,onPageChange:m}))))}}]),t}((0,c.default)(a.Component));m.propTypes={dataSize:u.default.number.isRequired,sizePerPageList:u.default.array.isRequired,currPage:u.default.number.isRequired,currSizePerPage:u.default.number.isRequired,onPageChange:u.default.func.isRequired,onSizePerPageChange:u.default.func.isRequired,disablePageTitle:u.default.bool,pageStartIndex:u.default.number,paginationSize:u.default.number,showTotal:u.default.bool,pageListRenderer:u.default.func,pageButtonRenderer:u.default.func,sizePerPageRenderer:u.default.func,paginationTotalRenderer:u.default.func,sizePerPageOptionRenderer:u.default.func,firstPageText:u.default.oneOfType([u.default.string,u.default.node]),prePageText:u.default.oneOfType([u.default.string,u.default.node]),nextPageText:u.default.oneOfType([u.default.string,u.default.node]),lastPageText:u.default.oneOfType([u.default.string,u.default.node]),nextPageTitle:u.default.string,prePageTitle:u.default.string,firstPageTitle:u.default.string,lastPageTitle:u.default.string,withFirstAndLast:u.default.bool,alwaysShowAllBtns:u.default.bool,hideSizePerPage:u.default.bool,hidePageListOnlyOnePage:u.default.bool,bootstrap4:u.default.bool},m.defaultProps={disablePageTitle:!1,bootstrap4:!1,pageStartIndex:p.default.PAGE_START_INDEX,paginationSize:p.default.PAGINATION_SIZE,withFirstAndLast:p.default.With_FIRST_AND_LAST,alwaysShowAllBtns:p.default.SHOW_ALL_PAGE_BTNS,showTotal:p.default.SHOW_TOTAL,pageListRenderer:null,pageButtonRenderer:null,sizePerPageRenderer:null,paginationTotalRenderer:p.default.PAGINATION_TOTAL,sizePerPageOptionRenderer:null,firstPageText:p.default.FIRST_PAGE_TEXT,prePageText:p.default.PRE_PAGE_TEXT,nextPageText:p.default.NEXT_PAGE_TEXT,lastPageText:p.default.LAST_PAGE_TEXT,sizePerPageList:p.default.SIZE_PER_PAGE_LIST,nextPageTitle:p.default.NEXT_PAGE_TITLE,prePageTitle:p.default.PRE_PAGE_TITLE,firstPageTitle:p.default.FIRST_PAGE_TITLE,lastPageTitle:p.default.LAST_PAGE_TITLE,hideSizePerPage:p.default.HIDE_SIZE_PER_PAGE,hidePageListOnlyOnePage:p.default.HIDE_PAGE_LIST_ONLY_ONE_PAGE},t.default=(0,l.default)(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.text,n=e.page,i=e.onSizePerPageChange;return e.bootstrap4?r.default.createElement("a",{href:"#",tabIndex:"-1",role:"menuitem",className:"dropdown-item","data-page":n,onMouseDown:function(e){e.preventDefault(),i(n)}},t):r.default.createElement("li",{key:t,role:"presentation",className:"dropdown-item"},r.default.createElement("a",{href:"#",tabIndex:"-1",role:"menuitem","data-page":n,onMouseDown:function(e){e.preventDefault(),i(n)}},t))};a.propTypes={text:i.default.string.isRequired,page:i.default.number.isRequired,onSizePerPageChange:i.default.func.isRequired,bootstrap4:i.default.bool},a.defaultProps={bootstrap4:!1},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(20)),o=n(3),a=u(o),s=u(n(5));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onPageChange(this.props.page)}},{key:"render",value:function(){var e=this.props,t=e.page,n=e.title,r=e.active,o=e.disabled,s=e.className,u=(0,i.default)({active:r,disabled:o,"page-item":!0},s);return a.default.createElement("li",{className:u,title:n},a.default.createElement("a",{href:"#",onClick:this.handleClick,className:"page-link"},t))}}]),t}(o.Component);c.propTypes={onPageChange:s.default.func.isRequired,page:s.default.oneOfType([s.default.node,s.default.number,s.default.string]).isRequired,active:s.default.bool.isRequired,disabled:s.default.bool.isRequired,className:s.default.string,title:s.default.string},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(66)),o=u(n(44)),a=u(n(43)),s=u(n(65));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((0,a.default)((0,s.default)((function(e){return r.default.createElement(i.default,e)}))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(3)),i=u(n(64)),o=u(n(44)),a=u(n(43)),s=u(n(63));function u(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((0,a.default)((0,s.default)((function(e){return r.default.createElement(i.default,e)}))))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(3)),i=s(n(68)),o=s(n(44)),a=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,o.default)((0,a.default)((function(e){return r.default.createElement(i.default,e)})))},function(e,t,n){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(166)),i=o(n(167));function o(e){return e&&e.__esModule?e:{default:e}}t.default={SearchBar:r.default,ClearSearchButton:i.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=arguments,o=n(3),a=c(o),s=n(5),u=c(s);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e,t,n){var r=void 0;return function(){var o=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(void 0,i)}),t||0),o&&e.appy(void 0,i)}},p=function(e){function t(e){l(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChangeValue=function(e){n.setState({value:e.target.value})},n.onKeyup=function(){var e=n.props,t=e.delay,r=e.onSearch;d((function(){r(n.input.value)}),t)()},n.state={value:e.searchText},n}return f(t,e),r(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({value:e.searchText})}},{key:"render",value:function(){var e=this,n=this.props,r=n.className,i=n.style,o=n.placeholder,s=n.tableId,u=n.srText;return a.default.createElement("label",{htmlFor:"search-bar-"+s,className:"search-label"},a.default.createElement("span",{id:"search-bar-"+s+"-label",className:"sr-only"},u),a.default.createElement("input",{ref:function(t){return e.input=t},id:"search-bar-"+s,type:"text",style:i,"aria-labelledby":"search-bar-"+s+"-label",onKeyUp:function(){return e.onKeyup()},onChange:this.onChangeValue,className:"form-control "+r,value:this.state.value,placeholder:o||t.defaultProps.placeholder}))}}]),t}(a.default.Component);p.propTypes={onSearch:u.default.func.isRequired,className:u.default.string,placeholder:u.default.string,style:u.default.object,delay:u.default.number,searchText:u.default.string,tableId:u.default.string,srText:u.default.string},p.defaultProps={className:"",style:{},placeholder:"Search",delay:250,searchText:"",tableId:"0",srText:"Search this table"},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(3)),i=o(n(5));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t=e.onClear,n=e.text,i=e.className;return r.default.createElement("button",{className:"btn btn-default "+i,onClick:t},n)};a.propTypes={onClear:i.default.func.isRequired,className:i.default.string,text:i.default.string},a.defaultProps={text:"Clear",className:""},t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(169),o=(r=i)&&r.__esModule?r:{default:r};t.default={ExportCSVButton:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(3)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.onExport,n=e.children,o=e.className,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onExport","children","className"]);return i.default.createElement("button",r({type:"button",className:"react-bs-table-csv-btn btn btn-default "+o,onClick:function(){return t()}},a),n)};s.propTypes={children:o.default.node.isRequired,onExport:o.default.func.isRequired,className:o.default.string,style:o.default.object},s.defaultProps={className:"",style:{}},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(171),o=(r=i)&&r.__esModule?r:{default:r};t.default={ToggleList:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=a(n(3)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.columns,n=e.onColumnToggle,o=e.toggles,a=e.contextual,s=e.className,u=e.btnClassName;return i.default.createElement("div",{className:"btn-group btn-group-toggle "+s,"data-toggle":"buttons"},t.map((function(e){return r({},e,{toggle:o[e.dataField]})})).map((function(e){return i.default.createElement("button",{type:"button",key:e.dataField,className:u+" btn btn-"+a+" "+(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return n(e.dataField)}},e.text)})))};s.propTypes={columns:o.default.array.isRequired,toggles:o.default.object.isRequired,onColumnToggle:o.default.func.isRequired,btnClassName:o.default.string,className:o.default.string,contextual:o.default.string},s.defaultProps={btnClassName:"",className:"",contextual:"primary"},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(173),o=(r=i)&&r.__esModule?r:{default:r};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}t.default=function(e){return function(e){function t(){var e,n,r;a(this,t);for(var i=arguments.length,o=Array(i),u=0;u<i;u++)o[u]=arguments[u];return n=r=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.registerExposedAPI=function(e){r.tableExposedAPIEmitter=e},s(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default.csvOperation(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(174),o=(r=i)&&r.__esModule?r:{default:r};t.default={csvOperation:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(175);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s={fileName:"spreadsheet.csv",separator:",",ignoreHeader:!1,ignoreFooter:!0,noAutoBOM:!0,blobType:"text/plain;charset=utf-8",exportAll:!0,onlyExportSelection:!1};t.default=function(e){return function(e){function t(){var e,n,u;o(this,t);for(var c=arguments.length,l=Array(c),h=0;h<c;h++)l[h]=arguments[h];return n=u=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),u.handleExportCSV=function(e){var t=u.props,n=t.columns,o=t.exportCSV,a=t.keyField,c=(0,i.getMetaInfo)(n),l=!0===o?s:r({},s,o),h=void 0;if("undefined"!==typeof e)h=e;else if(l.exportAll)h=u.props.data;else if(l.onlyExportFiltered){var f={};u.tableExposedAPIEmitter.emit("get.filtered.rows",f),h=f.result}else{var d={};u.tableExposedAPIEmitter.emit("get.table.data",d),h=d.result}if(l.onlyExportSelection){var p={};u.tableExposedAPIEmitter.emit("get.selected.rows",p);var v=p.result;h=h.filter((function(e){return!!v.find((function(t){return e[a]===t}))}))}var g=(0,i.transform)(h,c,n,u._,l);(0,i.save)(g,l)},a(u,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.save=t.transform=t.getMetaInfo=void 0;var r,i=n(176),o=(r=i)&&r.__esModule?r:{default:r};t.getMetaInfo=function(e){return e.map((function(e){return{field:e.dataField,type:e.csvType||String,formatter:e.csvFormatter,formatExtraData:e.formatExtraData,header:e.csvText||e.text,export:!1!==e.csvExport,row:Number(e.row)||0,rowSpan:Number(e.rowSpan)||1,colSpan:Number(e.colSpan)||1,footer:e.footer,footerFormatter:e.footerFormatter}})).filter((function(e){return e.export}))},t.transform=function(e,t,n,r,i){var o=i.separator,a=i.ignoreHeader,s=i.ignoreFooter,u=t.filter((function(e){return e.export})),c="";return a||(c+=u.map((function(e){return'"'+e.header+'"'})).join(o),c+="\n"),0===e.length||(c+=e.map((function(e,t){return u.map((function(n){var i=r.get(e,n.field);return n.formatter&&(i=n.formatter(i,e,t,n.formatExtraData)),n.type===String?'"'+(""+i).replace(/"/g,'""')+'"':i})).join(o)})).join("\n"),s||(c+="\n",c+=u.map((function(t,i){if("function"===typeof t.footer){var o=r.pluck(e,n[i].dataField);return'"'+t.footer(o,n[i],i)+'"'}return t.footerFormatter?'"'+t.footerFormatter(n[i],i)+'"':'"'+t.footer+'"'})).join(o))),c},t.save=function(e,t){var n=t.noAutoBOM,r=t.fileName,i=t.blobType;o.default.saveAs(new Blob([e],{type:i}),r,n)}},function(e,t,n){(function(n){var r,i,o;i=[],r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var s=a.URL||a.webkitURL,u=document.createElement("a");t=t||e.name||"download",u.download=t,u.rel="noopener","string"==typeof e?(u.href=e,u.origin===location.origin?o(u):i(u.href)?r(e,t,n):o(u,u.target="_blank")):(u.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){o(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(i(e))r(e,n,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s)&&"object"==typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var l=a.URL||a.webkitURL,h=l.createObjectURL(e);i?i.location=h:location.href=h,i=null,setTimeout((function(){l.revokeObjectURL(h)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)}).call(this,n(24))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=a(n(3)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{searchFormatted:!1,afterSearch:null,onColumnMatch:null};return function(t,n,a){var l=i.default.createContext(),h=function(o){function h(e){s(this,h);var t=u(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,e)),r=e.data;return n()&&""!==t.props.searchText?a(t.props.searchText):(r=t.search(e),t.triggerListener(r,!0)),t.state={data:r},t}return c(h,o),r(h,[{key:"getSearched",value:function(){return this.state.data}},{key:"triggerListener",value:function(t,n){e.afterSearch&&!n&&e.afterSearch(t),this.props.dataChangeListener&&this.props.dataChangeListener.emit("filterChanged",t.length)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.searchText!==this.props.searchText)if(n())a(e.searchText);else{var r=this.search(e);this.triggerListener(r),this.setState({data:r})}else if(n())this.setState({data:e.data});else if(!t.isEqual(e.data,this.props.data)){var i=this.search(e);this.triggerListener(i),this.setState({data:i})}}},{key:"search",value:function(n){var r=n.data,i=n.columns,o=n.searchText.toLowerCase();return r.filter((function(n,r){for(var a=0;a<i.length;a+=1){var s=i[a];if(!1!==s.searchable){var u=t.get(n,s.dataField);if(s.formatter&&e.searchFormatted?u=s.formatter(u,n,r,s.formatExtraData):s.filterValue&&(u=s.filterValue(u,n)),e.onColumnMatch){if(e.onColumnMatch({searchText:o,value:u,column:s,row:n}))return!0}else if(null!==u&&"undefined"!==typeof u&&(u=u.toString().toLowerCase()).indexOf(o)>-1)return!0}}return!1}))}},{key:"render",value:function(){return i.default.createElement(l.Provider,{value:{data:this.state.data}},this.props.children)}}]),h}(i.default.Component);return h.propTypes={data:o.default.array.isRequired,columns:o.default.array.isRequired,searchText:o.default.string,dataChangeListener:o.default.object},{Provider:h,Consumer:l.Consumer}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(3)),i=a(n(5)),o=a(n(69));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){return r.default.createElement(o.default.Provider,e,r.default.createElement(o.default.Consumer,null,(function(t){return e.children(t)})))};s.propTypes={children:i.default.func.isRequired},t.default=s},function(e,t,n){},,,function(e,t,n){"use strict";(function(e,t){var r=n(4),i=n(7),o=n(1),a=n(0),s=n(6),u="";function c(e){u=e}var l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return Object(o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),f=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),v=new s.Logger("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),y=function(e){var t=Object(o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},m=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var a=t[i];Array.isArray(a)||a&&"object"===typeof a&&"number"===typeof a.length?r+=e.apply(null,a):r+="object"===typeof a?Object(o.stringify)(a):a,r+=" "}return r},b=null,_=!0,w=function(e,t){Object(o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=s.LogLevel.VERBOSE,b=v.log.bind(v),t&&p.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,p.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===b&&!0===p.get("logging_enabled")&&w(!0)),b){var n=m.apply(null,e);b(n)}},T=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,Object(a.__spreadArray)([e],Object(a.__read)(t)))}},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+m.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));v.error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+m.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));throw v.error(n),new Error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+m.apply(void 0,Object(a.__spreadArray)([],Object(a.__read)(e)));v.warn(n)},k=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},O="[MIN_NAME]",P="[MAX_NAME]",x=function(e,t){if(e===t)return 0;if(e===O||t===P)return-1;if(t===O||e===P)return 1;var n=q(e),r=q(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},N=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(o.stringify)(t))},R=function e(t){if("object"!==typeof t||null===t)return Object(o.stringify)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.stringify)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},D=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function j(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){Object(o.assert)(!k(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var h=parseInt(c.substr(a,8),2).toString(16);1===h.length&&(h="0"+h),l+=h}return l.toLowerCase()};var M=new RegExp("^-?(0*)\\d{1,10}$"),F=-2147483648,U=2147483647,q=function(e){if(M.test(e)){var t=Number(e);if(t>=F&&t<=U)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw C("Exception was thrown by user callback.",e),t}),Math.floor(0))}},B=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){C('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),K=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",G=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q="websocket",$="long_polling",Y=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=d.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&d.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function X(e,t,n){var r;if(Object(o.assert)("string"===typeof t,"typeof type must == string"),Object(o.assert)("object"===typeof n,"typeof params must == object"),t===Q)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==$)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return j(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var J=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Object(o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return Object(o.deepCopy)(this.counters_)},e}(),Z={},ee={};function te(e){var t=e.toString();return Z[t]||(Z[t]=new J),Z[t]}var ne=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),re="start",ie="close",oe=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(e),this.stats_=te(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),X(t,$,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ne(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Object(o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ae((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===re)n.id=o,n.password=s;else{if(i!==ie)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Object(a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!Object(o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=Object(o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(o.base64Encode)(t),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!Object(o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=Object(o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),ae=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){E("frame writing exception"),u.stack&&E(u.stack),E(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;Object(o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),se=null;"undefined"!==typeof MozWebSocket?se=MozWebSocket:"undefined"!==typeof WebSocket&&(se=WebSocket);var ue=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=te(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!Object(o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&G.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),X(e,Q,i)},t.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(Object(o.isNodeSdk)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+u+"/"+e.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=this.authToken),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var s=Object({NODE_ENV:"production",PUBLIC_URL:"/smsapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),c=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;c&&(a.proxy={origin:c}),this.mySock=new se(this.connURL,[],a)}else{a={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new se(this.connURL,[],a)}}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==se&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(o.jsonEval)(t);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.prototype.extractFrameCount_=function(e){if(Object(o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(e){this.resetKeepAlive();var t=Object(o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=D(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),ce=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[oe,ue]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ue&&ue.isAvailable(),o=i&&!ue.previouslyFailed();if(t.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ue];else{var s=this.transports_=[];try{for(var u=Object(a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),le=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new ce(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=B((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?I("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):I("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),B((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):B((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),fe=function(){function e(e){this.allowedEvents_=e,this.listeners_={},Object(o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=Object(a.__spreadArray)([],Object(a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){Object(o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),de=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return Object(a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(fe),pe=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ve(){return new pe("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function me(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function we(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function Ee(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function Te(e){return e.pieceNum_>=e.pieces_.length}function Ie(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Ie(me(e),me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Se(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=x(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ce(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function ke(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Oe=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.stringLength)(this.parts_[n]);Pe(this)};function Pe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xe(e))}function xe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ne,Ae,Re=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return Object(a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return Object(o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(fe),De=1e3,je=function(e){function t(n,r,i,a,s,u,c,l){var h=e.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=a,h.onServerInfoUpdate_=s,h.authTokenProvider_=u,h.appCheckTokenProvider_=c,h.authOverride_=l,h.id=t.nextPersistentConnectionId_++,h.log_=T("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=De,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Re.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&de.getInstance().on("online",h.onOnline_,h),h}return Object(a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(o.stringify)(i)),Object(o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&Object(o.contains)(e,"w")){var n=Object(o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||Object(o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+Object(o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):I("Unrecognized action received from server: "+Object(o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;Object(o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=De),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,h,f,d,p,v,g,y=this;return Object(a.__generator)(this,(function(m){switch(m.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},h=function(e){Object(o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,m.label=1;case 1:return m.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)])];case 2:return d=a.__read.apply(void 0,[m.sent(),2]),p=d[0],v=d[1],u?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new le(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){C(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),s)),[3,4];case 3:return g=m.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&C(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=De,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return R(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new pe(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){E("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,Object(a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},t.prototype.sendConnectStats_=function(){var e={},t="js";Object(o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+u.replace(/\./g,"-")]=1,Object(o.isMobileCordova)()?e["framework.cordova"]=1:Object(o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=de.getInstance().currentlyOnline();return Object(o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Me=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(O,e),r=new Le(O,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ne},set:function(e){Ne=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return x(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw Object(o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(P,Ne)},t.prototype.makePost=function(e,t){return Object(o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Ne)},t.prototype.toString=function(){return".key"},t}(Me),Ue=new Fe,qe=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ve=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:ze.EMPTY_NODE,this.right=null!=o?o:ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Be=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ve(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new qe(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new qe(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new qe(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new qe(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Be,e}();function Ke(e,t){return x(e.name,t.name)}function We(e,t){return x(e,t)}var He,Ge,Qe,$e=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},Ye=function(e){if(e.isLeafNode()){var t=e.val();Object(o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(o.contains)(t,".sv"),"Priority must be a string or number.")}else Object(o.assert)(e===Ae||e.isEmpty(),"priority of unexpected type.");Object(o.assert)(e===Ae||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ye(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Te(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.assert)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(me(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+$e(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(o.assert)(i>=0,"Unknown leaf type: "+n),Object(o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,Ze,et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(P,new Xe("[PRIORITY-POST]",Qe))},t.prototype.makePost=function(e,t){var n=Ge(e);return new Le(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Me),tt=new et,nt=Math.log(2),rt=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/nt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),it=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new Ve(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Ve.BLACK):(s(h,Ve.BLACK),s(h,Ve.RED))}return o}(new rt(e.length));return new ze(r||t,o)},ot={},at=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return Object(o.assert)(ot&&tt,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":ot},{".priority":tt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=Object(o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof ze?t:null},e.prototype.hasIndex=function(e){return Object(o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){Object(o.assert)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?it(i,t.getCompare()):ot;var l=t.toString(),h=Object(a.__assign)({},this.indexSet_);h[l]=t;var f=Object(a.__assign)({},this.indexes_);return f[l]=r,new e(f,h)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(Object(o.map)(this.indexes_,(function(e,i){var a=Object(o.safeGet)(r.indexSet_,i);if(Object(o.assert)(a,"Missing index implementation for "+i),e===ot){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),it(s,a.getCompare())}return ot}var l=n.get(t.name),h=e;return l&&(h=h.remove(new Le(t.name,l))),h.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(Object(o.map)(this.indexes_,(function(e){if(e===ot)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),st=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ye(this.priorityNode_),this.children_.isEmpty()&&Object(o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ze||(Ze=new e(new ze(We),null,at.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ze},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ze:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(me(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(Object(o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Ze:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;Object(o.assert)(".priority"!==ge(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(me(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(tt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+$e(this.getPriority().val())+":"),this.forEachChild(tt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ut?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(tt),r=t.getIterator(tt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ut=new(function(e){function t(){return e.call(this,new ze(We),st.EMPTY_NODE,at.Default)||this}return Object(a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return st.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(st));Object.defineProperties(Le,{MIN:{value:new Le(O,st.EMPTY_NODE)},MAX:{value:new Le(P,ut)}}),Fe.__EMPTY_NODE=st.EMPTY_NODE,Xe.__childrenNodeConstructor=st,Ae=ut,function(e){Qe=e}(ut);function ct(e,t){if(void 0===t&&(t=null),null===e)return st.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Xe(e,ct(t));if(e instanceof Array){var n=st.EMPTY_NODE;return j(e,(function(t,r){if(Object(o.contains)(e,t)&&"."!==t.substring(0,1)){var i=ct(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(ct(t))}var r=[],i=!1;if(j(e,(function(e,t){if("."!==e.substring(0,1)){var n=ct(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return st.EMPTY_NODE;var a=it(r,Ke,(function(e){return e.name}),We);if(i){var s=it(r,tt.getCompare());return new st(a,ct(t),new at({".priority":s},{".priority":tt}))}return new st(a,ct(t),at.Default)}!function(e){Ge=e}(ct);var lt=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,Object(o.assert)(!Te(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return Object(a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?x(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=ct(e),r=st.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=st.EMPTY_NODE.updateChild(this.indexPath_,ut);return new Le(P,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(Me),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?x(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=ct(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(Me),ft=new ht,dt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=dt.charAt(n%64),n=Math.floor(n/64);Object(o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=dt.charAt(t[r]);return Object(o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),vt=function(e){if("2147483647"===e)return"-";var t=q(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=n[i],a=dt.charAt(dt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gt=function(e){if("-2147483648"===e)return O;var t=q(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=dt.charAt(dt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function yt(e){return{type:"value",snapshotNode:e}}function mt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var wt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){Object(o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):Object(o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(mt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(tt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(tt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(mt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?st.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Et=function(){function e(t){this.indexedFilter_=new wt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=st.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=st.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(st.EMPTY_NODE);var i=this;return t.forEachChild(tt,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,st.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Tt=function(){function e(e){this.rangedFilter_=new Et(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=st.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=st.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=st.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(st.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,st.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;Object(o.assert)(u.numChildren()===this.limit_,"");var c=new Le(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,f)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,f));var v=u.updateImmediateChild(t,st.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(mt(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(mt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,st.EMPTY_NODE)):e},e}(),It=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return Object(o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:O},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return Object(o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return Object(o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===tt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function St(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function kt(e,t){var n=e.copy();return n.index_=t,n}function Ot(e){var t,n={};return e.isDefault()||(e.index_===tt?t="$priority":e.index_===ft?t="$value":e.index_===Ue?t="$key":(Object(o.assert)(e.index_ instanceof lt,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(o.stringify)(t),e.startSet_&&(n.startAt=Object(o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==tt&&(t.i=e.index_.toString()),t}var xt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return Object(a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(Object(o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=Ot(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),Object(o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=Ot(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=Object(a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Object(o.querystring)(t);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var e=null;if(h.status>=200&&h.status<300){try{e=Object(o.jsonEval)(h.responseText)}catch(t){C("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,e)}else 401!==h.status&&404!==h.status&&C("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()}))},t}(he),Nt=function(){function e(){this.rootNode_=st.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function At(){return{value:null,children:new Map}}function Rt(e,t,n){if(Te(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,At()),Rt(e.children.get(r),t=me(t),n)}}function Dt(e,t){if(Te(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(tt,(function(t,n){Rt(e,new pe(t),n)})),Dt(e,t)}if(e.children.size>0){var r=ge(t);if(t=me(t),e.children.has(r))Dt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function jt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){jt(r,new pe(t.toString()+"/"+e),n)}))}var Lt,Mt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object(a.__assign)({},e);return this.last_&&j(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ft=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Mt(e);var n=1e4+2e4*Math.random();B(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;j(t,(function(t,i){i>0&&Object(o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),B(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={}));var qt,Vt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Te(this.path)){if(null!=this.affectedTree.value)return Object(o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new pe(t));return new e(ve(),n,this.revert)}return Object(o.assert)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(me(this.path),this.affectedTree,this.revert)},e}(),Bt=function(){function e(e,t){this.source=e,this.path=t,this.type=Lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ve()):new e(this.source,me(this.path))},e}(),zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Lt.OVERWRITE}return e.prototype.operationForChild=function(t){return Te(this.path)?new e(this.source,ve(),this.snap.getImmediateChild(t)):new e(this.source,me(this.path),this.snap)},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Lt.MERGE}return e.prototype.operationForChild=function(t){if(Te(this.path)){var n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new zt(this.source,ve(),n.value):new e(this.source,ve(),n)}return Object(o.assert)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,me(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Gt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(o.assertionError)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Qt(e,t){return{eventCache:e,serverCache:t}}function $t(e,t,n,r){return Qt(new Wt(t,n,r),e.serverCache)}function Yt(e,t,n,r){return Qt(e.eventCache,new Wt(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Zt=function(){function e(e,t){void 0===t&&(qt||(qt=new ze(N)),t=qt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return j(t,(function(e,t){n=n.set(new pe(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ve(),value:this.value};if(Te(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(me(e),t);return null!=i?{path:Ee(new pe(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Te(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(me(t)):new e(null)},e.prototype.set=function(t,n){if(Te(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(me(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Te(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(me(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Te(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(me(e)):null},e.prototype.setTree=function(t,n){if(Te(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(me(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ve(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ee(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ve(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Te(e))return null;var i=ge(e),o=this.children.get(i);return o?o.findOnPath_(me(e),Ee(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ve(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Te(t))return this;this.value&&r(n,this.value);var i=ge(t),o=this.children.get(i);return o?o.foreachOnPath_(me(t),Ee(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ve(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ee(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),en=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new Zt(null))},e}();function tn(e,t,n){if(Te(t))return new en(new Zt(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Ie(i,t);return o=o.updateChild(a,n),new en(e.writeTree_.set(i,o))}var s=new Zt(n),u=e.writeTree_.setTree(t,s);return new en(u)}function nn(e,t,n){var r=e;return j(n,(function(e,n){r=tn(r,Ee(t,e),n)})),r}function rn(e,t){if(Te(t))return en.empty();var n=e.writeTree_.setTree(t,new Zt(null));return new en(n)}function on(e,t){return null!=an(e,t)}function an(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Ie(n.path,t)):null}function sn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(tt,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function un(e,t){if(Te(t))return e;var n=an(e,t);return new en(null!=n?new Zt(n):e.writeTree_.subtree(t))}function cn(e){return e.writeTree_.isEmpty()}function ln(e,t){return hn(ve(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Object(o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(Ee(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ee(e,".priority"),r)),n}function fn(e,t){return Sn(t,e)}function dn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Object(o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&pn(u,r.path)?i=!1:ke(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,vn,ve()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=rn(e.visibleWrites,r.path):j(r.children,(function(t){e.visibleWrites=rn(e.visibleWrites,Ee(r.path,t))}));return!0}return!1}function pn(e,t){if(e.snap)return ke(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&ke(Ee(e.path,n),t))return!0;return!1}function vn(e){return e.visible}function gn(e,t,n){for(var r=en.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)ke(n,s)?r=tn(r,u=Ie(n,s),a.snap):ke(s,n)&&(u=Ie(s,n),r=tn(r,ve(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.assertionError)("WriteRecord should have .snap or .children");if(ke(n,s))r=nn(r,u=Ie(n,s),a.children);else if(ke(s,n))if(Te(u=Ie(s,n)))r=nn(r,ve(),a.children);else{var c=Object(o.safeGet)(a.children,ge(u));if(c){var l=c.getChild(me(u));r=tn(r,ve(),l)}}}}}return r}function yn(e,t,n,r,i){if(r||i){var o=un(e.visibleWrites,t);if(!i&&cn(o))return n;if(i||null!=n||on(o,ve())){return ln(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(ke(e.path,t)||ke(t,e.path))}),t),n||st.EMPTY_NODE)}return null}var a=an(e.visibleWrites,t);if(null!=a)return a;var s=un(e.visibleWrites,t);return cn(s)?n:null!=n||on(s,ve())?ln(s,n||st.EMPTY_NODE):null}function mn(e,t,n,r){return yn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=st.EMPTY_NODE,i=an(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(tt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=un(e.visibleWrites,t);return n.forEachChild(tt,(function(e,t){var n=ln(un(o,new pe(e)),t);r=r.updateImmediateChild(e,n)})),sn(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return sn(un(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){Object(o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ee(t,n);if(on(e.visibleWrites,a))return null;var s=un(e.visibleWrites,a);return cn(s)?i.getChild(n):ln(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t){return an(e.visibleWrites,t)}(e.writeTree,Ee(e.treePath,t))}function En(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=un(e.visibleWrites,t),c=an(u,ve());if(null!=c)s=c;else{if(null==n)return[];s=ln(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Tn(e,t,n){return function(e,t,n,r){var i=Ee(t,n),o=an(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(un(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function In(e,t){return Sn(Ee(e.treePath,t),e.writeTree)}function Sn(e,t){return{treePath:e,writeTree:t}}var Cn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;Object(o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,mt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),kn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),On=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jt(this.viewCache_),i=En(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Pn(e,t,n,r,i){var a,s,u=new Cn;if(n.type===Lt.OVERWRITE){var c=n;c.source.fromUser?a=An(e,t,c.path,c.snap,r,i,u):(Object(o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Te(c.path),a=Nn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Lt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ee(n,r);Rn(t,ge(c))&&(s=An(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ee(n,r);Rn(t,ge(c))||(s=An(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):(Object(o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=jn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Lt.ACK_USER_WRITE){var h=n;a=h.revert?function(e,t,n,r,i,a){var s;if(null!=wn(r,n))return t;var u=new On(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Te(n)||".priority"===ge(n)){var h=void 0;if(t.serverCache.isFullyInitialized())h=mn(r,Jt(t));else{var f=t.serverCache.getNode();Object(o.assert)(f instanceof st,"serverChildren would be complete if leaf node"),h=bn(r,f)}h=h,l=e.filter.updateFullNode(c,h,a)}else{var d=ge(n),p=Tn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,me(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,st.EMPTY_NODE,me(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=mn(r,Jt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=wn(r,ve()),$t(t,l,s,e.filter.filtersNodes())}(e,t,h.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=wn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Te(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Nn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Te(n)){var c=new Zt(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new pe(e),t)})),jn(e,t,n,c,i,o,s,a)}return t}var l=new Zt(null);return r.foreach((function(e,t){var r=Ee(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),jn(e,t,n,l,i,o,s,a)}(e,t,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw Object(o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Yt(t,o.getNode(),o.isFullyInitialized()||Te(n),o.isFiltered());return xn(e,a,n,r,kn,i)}(e,t,n.path,r,u)}var f=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yt(Xt(t)))}}(t,a,f),{viewCache:a,changes:f}}function xn(e,t,n,r,i,a){var s=t.eventCache;if(null!=wn(r,n))return t;var u=void 0,c=void 0;if(Te(n))if(Object(o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Jt(t),h=bn(r,l instanceof st?l:st.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=mn(r,Jt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=ge(n);if(".priority"===d){Object(o.assert)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=_n(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=me(n),y=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var m=_n(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(d).updateChild(g,m):s.getNode().getImmediateChild(d)}else y=Tn(r,d,t.serverCache);u=null!=y?e.filter.updateChild(s.getNode(),d,y,g,i,a):s.getNode()}}return $t(t,u,s.isFullyInitialized()||Te(n),e.filter.filtersNodes())}function Nn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Te(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=ge(n);if(!c.isCompleteForPath(n)&&ye(n)>1)return t;var d=me(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,kn,null)}var v=Yt(t,u,c.isFullyInitialized()||Te(n),l.filtersNodes());return xn(e,v,n,i,new On(i,v,o),s)}function An(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new On(i,t,o);if(Te(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=$t(t,u,!0,e.filter.filtersNodes());else{var h=ge(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=$t(t,u,c.isFullyInitialized(),c.isFiltered());else{var f=me(n),d=c.getNode().getImmediateChild(h),p=void 0;if(Te(f))p=r;else{var v=l.getCompleteChild(h);p=null!=v?".priority"===be(f)&&v.getChild(we(f)).isEmpty()?v:v.updateChild(f,r):st.EMPTY_NODE}if(d.equals(p))s=t;else s=$t(t,e.filter.updateChild(c.getNode(),h,p,f,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Rn(e,t){return e.eventCache.isCompleteForChild(t)}function Dn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function jn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Te(n)?r:new Zt(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Nn(e,c,new pe(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=Dn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Nn(e,c,new pe(n),h,i,o,a,s)}})),c}var Ln,Mn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new wt(r.getIndex()),o=(n=r).loadsAllData()?new wt(n.getIndex()):n.hasLimit()?new Tt(n):new Et(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(st.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(st.EMPTY_NODE,s.getNode(),null),l=new Wt(u,a.isFullyInitialized(),i.filtersNodes()),h=new Wt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qt(h,l),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Fn(e,t){var n=Jt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Te(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function qn(e,t,n){var r=[];if(n){Object(o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Vn(e,t,n,r){t.type===Lt.MERGE&&null!==t.source.queryId&&(Object(o.assert)(Jt(e.viewCache_),"We should always have a full cache before handling merges"),Object(o.assert)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Pn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,Object(o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Bn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Bn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Gt(e,i,"child_removed",t,r,n),Gt(e,i,"child_added",t,r,n),Gt(e,i,"child_moved",o,r,n),Gt(e,i,"child_changed",t,r,n),Gt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var zn,Kn=function(){this.views=new Map};function Wn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return Object(o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Vn(c,t,n,r)}var l=[];try{for(var h=Object(a.__values)(e.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Vn(c,t,n,r))}}catch(d){i={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function Hn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=mn(n,i?r:null),u=!1;s?u=!0:r instanceof st?(s=bn(n,r),u=!1):(s=st.EMPTY_NODE,u=!1);var c=Qt(new Wt(s,u,!1),new Wt(r,i,!1));return new Mn(t,c)}return a}function Gn(e,t,n,r,i,o){var a=Hn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(function(e,t){r.push(mt(e,t))})),n.isFullyInitialized()&&r.push(yt(n.getNode())),Bn(e,r,n.getNode(),t)}(a,n)}function Qn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],h=Zn(e);if("default"===u)try{for(var f=Object(a.__values)(e.views.entries()),d=f.next();!d.done;d=f.next()){var p=Object(a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(qn(g,n,r)),Un(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(y){i={error:y}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(qn(g,n,r)),Un(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return h&&!Zn(e)&&c.push(new(Object(o.assert)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path)),{removed:c,events:l}}function $n(e){var t,n,r=[];try{for(var i=Object(a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Yn(e,t){var n,r,i=null;try{for(var o=Object(a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Fn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return er(e);var n=t._queryIdentifier;return e.views.get(n)}function Jn(e,t){return null!=Xn(e,t)}function Zn(e){return null!=er(e)}function er(e){var t,n;try{for(var r=Object(a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var tr=1,nr=function(e){this.listenProvider_=e,this.syncPointTree_=new Zt(null),this.pendingWriteTree_={visibleWrites:en.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function rr(e,t,n,r,i){return function(e,t,n,r,i){Object(o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=tn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ir(e,t,n,r){!function(e,t,n,r){Object(o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=nn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=Zt.fromObject(n);return hr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function or(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(dn(e.pendingWriteTree_,t)){var i=new Zt(null);return null!=r.snap?i=i.set(ve(),!0):j(r.children,(function(e){i=i.set(new pe(e),!0)})),hr(e,new Vt(r.path,i,n))}return[]}function ar(e,t,n){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function sr(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Jn(o,t))){var s=Qn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return Zn(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&Zn(t))return[er(t)];var r=[];return t&&(r=$n(t)),j(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,g=pr(e,p);e.listenProvider_.startListening(_r(v),vr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_r(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function ur(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Ie(e,r);i=i||Yn(t,n),a=a||Zn(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||Zn(u),i=i||Yn(u,ve())):(u=new Kn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=st.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Yn(t,ve());n&&(i=i.updateImmediateChild(e,n))})));var c=Jn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gr(t);Object(o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=tr++;e.queryToTagMap.set(l,h),e.tagToQueryMap.set(h,l)}var f=Gn(u,t,n,fn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Xn(u,t);f=f.concat(function(e,t,n){var r=t._path,i=vr(e,t),a=pr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)Object(o.assert)(!Zn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Te(e)&&t&&Zn(t))return[er(t).query];var r=[];return t&&(r=r.concat($n(t).map((function(e){return e.query})))),j(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var h=c[l];e.listenProvider_.stopListening(_r(h),vr(e,h))}return s}(e,t,d))}return f}function cr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Yn(n,Ie(e,t));if(r)return r}));return yn(r,t,i,n,!0)}function lr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Ie(e,n);r=r||Yn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Yn(i,ve()):(i=new Kn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Wt(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Hn(i,t,fn(e.pendingWriteTree_,t._path),o?a.getNode():st.EMPTY_NODE,o))}function hr(e,t){return fr(t,e.syncPointTree_,null,fn(e.pendingWriteTree_,ve()))}function fr(e,t,n,r){if(Te(e.path))return dr(e,t,n,r);var i=t.get(ve());null==n&&null!=i&&(n=Yn(i,ve()));var o=[],a=ge(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=In(r,a);o=o.concat(fr(s,u,c,l))}return i&&(o=o.concat(Wn(i,e,r,n))),o}function dr(e,t,n,r){var i=t.get(ve());null==n&&null!=i&&(n=Yn(i,ve()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=In(r,t),u=e.operationForChild(t);u&&(o=o.concat(dr(u,i,a,s)))})),i&&(o=o.concat(Wn(i,e,r,n))),o}function pr(e,t){var n=t.query,r=vr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||st.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=yr(e,n);if(r){var i=mr(r),o=i.path,a=i.queryId,s=Ie(o,t);return br(e,o,new Bt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sr(e,n,null,i)}}}function vr(e,t){var n=gr(t);return e.queryToTagMap.get(n)}function gr(e){return e._path.toString()+"$"+e._queryIdentifier}function yr(e,t){return e.tagToQueryMap.get(t)}function mr(e){var t=e.indexOf("$");return Object(o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return Object(o.assert)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,fn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Object(o.assert)(zn,"Reference.ts has not been loaded"),zn)(e._repo,e._path):e}var wr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Er=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ee(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return cr(this.syncTree_,this.path_)},e}(),Tr=function(e,t,n){return e&&"object"===typeof e?(Object(o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Ir(e[".sv"],t,n):"object"===typeof e[".sv"]?Sr(e[".sv"],t):void Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Ir=function(e,t,n){if("timestamp"===e)return n.timestamp;Object(o.assert)(!1,"Unexpected server value: "+e)},Sr=function(e,t,n){e.hasOwnProperty("increment")||Object(o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Cr=function(e,t,n,r){return Or(t,new Er(n,e),r)},kr=function(e,t,n){return Or(e,new wr(t),n)};function Or(e,t,n){var r,i=e.getPriority().val(),o=Tr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Tr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,ct(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(tt,(function(e,i){var o=Or(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function xr(e,t){for(var n=t instanceof pe?t:new pe(t),r=e,i=ge(n);null!==i;){var a=Object(o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=ge(n=me(n))}return r}function Nr(e){return e.node.value}function Ar(e,t){e.node.value=t,Mr(e)}function Rr(e){return e.node.childCount>0}function Dr(e,t){j(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function jr(e,t,n,r){n&&!r&&t(e),Dr(e,(function(e){jr(e,t,!0,r)})),n&&r&&t(e)}function Lr(e){return new pe(null===e.parent?e.name:Lr(e.parent)+"/"+e.name)}function Mr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Nr(e)&&!Rr(e)}(n),i=Object(o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Mr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Mr(e))}(e.parent,e.name,e)}var Fr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,qr=10485760,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Fr.test(e)},Br=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!k(e)||e&&"object"===typeof e&&Object(o.contains)(e,".sv")},Kr=function(e,t,n,r){r&&void 0===t||Wr(Object(o.errorPrefix)(e,"value"),t,n)},Wr=function e(t,n,r){var i=r instanceof pe?new Oe(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+xe(i));if("function"===typeof n)throw new Error(t+"contains a function "+xe(i)+" with contents = "+n.toString());if(k(n))throw new Error(t+"contains "+n.toString()+" "+xe(i));if("string"===typeof n&&n.length>qr/3&&Object(o.stringLength)(n)>qr)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+xe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,s=!1;if(j(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!Vr(n)))throw new Error(t+" contains an invalid key ("+n+") "+xe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Object(o.stringLength)(t),Pe(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&s)throw new Error(t+' contains ".value" child '+xe(i)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=Object(o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];j(t,(function(e,t){var r=new pe(e);if(Wr(i,t,Ee(n,r)),".priority"===be(r)&&!zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Se);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&ke(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Gr=function(e,t,n){if(!n||void 0!==t){if(k(t))throw new Error(Object(o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zr(t))throw new Error(Object(o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Qr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},$r=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error(Object(o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!Br(n))throw new Error(Object(o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Jr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Br(e)}(n))throw new Error(Object(o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Zr=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(Object(o.errorPrefix)(e,t)+"must be a boolean.")},ei=function(){this.eventLists_=[],this.recursionDepth_=0};function ti(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ce(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ni(e,t,n){ti(e,n),ii(e,(function(e){return Ce(e,t)}))}function ri(e,t,n){ti(e,n),ii(e,(function(e){return ke(e,t)||ke(t,e)}))}function ii(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(oi(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function oi(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&E("event: "+n.toString()),V(r)}}}var ai="repo_interrupt",si=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ei,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=At(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ui(e,t,n){if(e.stats_=te(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new xt(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return fi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new je(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){fi(e,t)}),(function(t){!function(e,t){j(t,(function(t,n){di(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return ee[n]||(ee[n]=t()),ee[n]}(e.repoInfo_,(function(){return new Ft(e.stats_,e.server_)})),e.infoData_=new Nt,e.infoSyncTree_=new nr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=ar(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),di(e,"connected",!1),e.serverSyncTree_=new nr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ri(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function ci(e){var t=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function li(e){return(t=(t={timestamp:ci(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=Object(o.map)(n,(function(e){return ct(e)}));s=function(e,t,n,r){var i=yr(e,r);if(i){var o=mr(i),a=o.path,s=o.queryId,u=Ie(a,t),c=Zt.fromObject(n);return br(e,a,new Kt(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=ct(n);s=function(e,t,n,r){var i=yr(e,r);if(null!=i){var o=mr(i),a=o.path,s=o.queryId,u=Ie(a,t);return br(e,a,new zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=Object(o.map)(n,(function(e){return ct(e)}));s=function(e,t,n){var r=Zt.fromObject(n);return hr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var h=ct(n);s=ar(e.serverSyncTree_,a,h)}var f=a;s.length>0&&(f=Ii(e,a)),ri(e.eventQueue_,f,s)}function fi(e,t){di(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=li(e),n=At();jt(e.onDisconnect_,ve(),(function(r,i){var o=Cr(r,i,e.serverSyncTree_,t);Rt(n,r,o)}));var r=[];jt(n,ve(),(function(t,n){r=r.concat(ar(e.serverSyncTree_,t,n));var i=Pi(e,t);Ii(e,i)})),e.onDisconnect_=At(),ri(e.eventQueue_,ve(),r)}(e)}function di(e,t,n){var r=new pe("/.info/"+t),i=ct(n);e.infoData_.updateSnapshot(r,i);var o=ar(e.infoSyncTree_,r,i);ri(e.eventQueue_,r,o)}function pi(e){return e.nextWriteId_++}function vi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=li(e),a=ct(n,r),s=cr(e.serverSyncTree_,t),u=kr(a,s,o),c=pi(e),l=rr(e.serverSyncTree_,t,u,c,!0);ti(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||C("set at "+t+" failed: "+n);var a=or(e.serverSyncTree_,c,!o);ri(e.eventQueue_,t,a),wi(e,i,n,r)}));var h=Pi(e,t);Ii(e,h),ri(e.eventQueue_,h,[])}function gi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Dt(e.onDisconnect_,t),wi(e,n,r,i)}))}function yi(e,t,n,r){var i=ct(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Rt(e.onDisconnect_,t,i),wi(e,r,n,o)}))}function mi(e,t,n){var r;r=".info"===ge(t._path)?sr(e.infoSyncTree_,t,n):sr(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(ai)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),E.apply(void 0,Object(a.__spreadArray)([r],Object(a.__read)(t)))}function wi(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ei(e,t,n){return cr(e.serverSyncTree_,t,n)||st.EMPTY_NODE}function Ti(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Oi(e,t),Nr(t)){var n=Ci(e,t);Object(o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ei(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Ie(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;e.server_.put(f.toString(),h,(function(r){_i(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(or(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Oi(e,xr(e.transactionQueueTree_,t)),Ti(e,e.transactionQueueTree_),ri(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{C("transaction at "+f.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ii(e,t)}}),s)}(e,Lr(t),n)}else Rr(t)&&Dr(t,(function(t){Ti(e,t)}))}function Ii(e,t){var n=Si(e,t),r=Lr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],h=Ie(n,l.path),f=!1;if(Object(o.assert)(null!==h,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)f=!0,u=l.abortReason,i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)f=!0,u="maxretry",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ei(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Wr("transaction failed: Data returned ",p,l.path);var v=ct(p);"object"===typeof p&&null!=p&&Object(o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,y=li(e),m=kr(v,d,y);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=m,l.currentWriteId=pi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(rr(e.serverSyncTree_,l.path,m,l.currentWriteId,l.applyLocally))).concat(or(e.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(or(e.serverSyncTree_,l.currentWriteId,!0))}ri(e.eventQueue_,n,i),i=[],f&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Oi(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Ti(e,e.transactionQueueTree_)}(e,Ci(e,n),r),r}function Si(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Nr(r);)r=xr(r,n),n=ge(t=me(t));return r}function Ci(e,t){var n=[];return ki(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function ki(e,t,n){var r=Nr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Dr(t,(function(t){ki(e,t,n)}))}function Oi(e,t){var n=Nr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ar(t,n.length>0?n:void 0)}Dr(t,(function(t){Oi(e,t)}))}function Pi(e,t){var n=Lr(Si(e,t)),r=xr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){xi(e,t)})),xi(e,r),jr(r,(function(t){xi(e,t)})),n}function xi(e,t){var n=Nr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(Object(o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):(Object(o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(or(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Ar(t,void 0):n.length=a+1,ri(e.eventQueue_,Lr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Ni=function(e,t){var n=Ai(e),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Y(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new pe(n.pathString)}},Ai=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var h=e.indexOf("/");-1===h&&(h=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(h,f)),h<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(h,f)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Object(a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,f)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ri=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.stringify)(this.snapshot.exportVal())},e}(),Di=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),ji=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return Object(o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return gi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new o.Deferred;return yi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Kr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return yi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Kr("OnDisconnect.setWithPriority",e,this._path,!1),Gr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=ct(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Rt(e.onDisconnect_,t,o),wi(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if(Object(o.isEmpty)(n))return E("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&j(n,(function(n,r){var i=ct(r);Rt(e.onDisconnect_,Ee(t,n),i)})),wi(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Mi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Te(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Pt(this._queryParams),t=R(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Pt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=Object(o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ce(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Fi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==O)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===tt){if(null!=t&&!zr(t)||null!=n&&!zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.assert)(e.getIndex()instanceof lt||e.getIndex()===ft,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vi=function(e){function t(t,n){return e.call(this,t,n,new It,!1)||this}return Object(a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=we(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Mi),Bi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new pe(t),r=Wi(this.ref,t);return new e(this._node.getChild(n),r,tt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Wi(n.ref,r),tt))}))},e.prototype.hasChild=function(e){var t=new pe(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function zi(e,t){return(e=Object(o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Wi(e._root,t):e._root}function Ki(e,t){(e=Object(o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ni(t,e._repo.repoInfo_.nodeAdmin);Jr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),zi(e,n.path.toString())}function Wi(e,t){var n,r,i,a;return null===ge((e=Object(o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Yr(n,r,i,a)):Yr("child","path",t,!1),new Vi(e._repo,Ee(e._path,t))}function Hi(e,t){e=Object(o.getModularInstance)(e),Xr("push",e._path),Kr("push",t,e._path,!0);var n,r=ci(e._repo),i=pt(r),a=Wi(e,i),s=Wi(e,i);return n=null!=t?Qi(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Gi(e){return Xr("remove",e._path),Qi(e,null)}function Qi(e,t){e=Object(o.getModularInstance)(e),Xr("set",e._path),Kr("set",t,e._path,!1);var n=new o.Deferred;return vi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t){e=Object(o.getModularInstance)(e),Xr("setPriority",e._path),Gr("setPriority",t,!1);var n=new o.Deferred;return vi(e._repo,Ee(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t,n){if(Xr("setWithPriority",e._path),Kr("setWithPriority",t,e._path,!1),Gr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return vi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Hr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=li(e),a={};if(j(n,(function(n,r){i=!1,a[n]=Cr(Ee(t,n),ct(r),e.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=pi(e),u=ir(e.serverSyncTree_,t,a,s);ti(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||C("update at "+t+" failed: "+n);var a=or(e.serverSyncTree_,s,!o),u=a.length>0?Ii(e,t):t;ri(e.eventQueue_,u,a),wi(0,r,n,i)})),j(n,(function(n){var r=Pi(e,Ee(t,n));Ii(e,r)})),ri(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=lr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=ct(n).withIndex(t._queryParams.getIndex()),i=ar(e.serverSyncTree_,t._path,r);return ni(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+Object(o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Object(o.getModularInstance)(e))._repo,e).then((function(t){return new Bi(t,new Vi(e._repo,e._path),e._queryParams.getIndex())}))}var Zi=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ri("value",this,new Bi(e.snapshotNode,new Vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),eo=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Di(this,e,t):null},e.prototype.createEvent=function(e,t){Object(o.assert)(null!=e.childName,"Child events should have a childName.");var n=Wi(new Vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ri(e.type,this,new Bi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function to(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){mi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new ji(n,o||void 0),c="value"===t?new Zi(u):new eo(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ni(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return mi(e._repo,e,c)}}function no(e,t,n,r){return to(e,"value",t,n,r)}function ro(e,t,n,r){return to(e,"child_added",t,n,r)}function io(e,t,n,r){return to(e,"child_changed",t,n,r)}function oo(e,t,n,r){return to(e,"child_moved",t,n,r)}function ao(e,t,n,r){return to(e,"child_removed",t,n,r)}function so(e,t,n){var r=null,i=n?new ji(n):null;"value"===t?r=new Zi(i):t&&(r=new eo(t,i)),mi(e._repo,e,r)}var uo=function(){},co=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Kr("endAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function lo(e,t){return $r("endAt","key",t,!0),new co(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Kr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?O:gt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Mi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function fo(e,t){return $r("endBefore","key",t,!0),new ho(e,t)}var po=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAt",this._value,e._path,!0);var t=St(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Mi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function vo(e,t){return void 0===e&&(e=null),$r("startAt","key",t,!0),new po(e,t)}var go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=vt(t)),r=St(e,t,n)):r=St(e,t,null==n?P:vt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(qi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Mi(e._repo,e._path,t,e._orderByCalled)},t}(uo);function yo(e,t){return $r("startAfter","key",t,!0),new go(e,t)}var mo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new mo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Mi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(uo);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var Eo=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByChild");var t=new pe(this._path);if(Te(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new lt(t),r=kt(e._queryParams,n);return Ui(r),new Mi(e._repo,e._path,r,!0)},t}(uo);function To(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yr("orderByChild","path",e,!1),new Eo(e)}var Io=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByKey");var t=kt(e._queryParams,Ue);return Ui(t),new Mi(e._repo,e._path,t,!0)},t}(uo);function So(){return new Io}var Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByPriority");var t=kt(e._queryParams,tt);return Ui(t),new Mi(e._repo,e._path,t,!0)},t}(uo);function ko(){return new Co}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a.__extends)(t,e),t.prototype._apply=function(e){Fi(e,"orderByValue");var t=kt(e._queryParams,ft);return Ui(t),new Mi(e._repo,e._path,t,!0)},t}(uo);function Po(){return new Oo}var xo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return Object(a.__extends)(t,e),t.prototype._apply=function(e){if(Kr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new co(this._value,this._key)._apply(new po(this._value,this._key)._apply(e))},t}(uo);function No(e,t){return $r("equalTo","key",t,!0),new xo(e,t)}function Ao(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Object(o.getModularInstance)(e);try{for(var u=Object(a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){Object(o.assert)(!Ln,"__referenceConstructor has already been defined"),Ln=e}(Vi),function(e){Object(o.assert)(!zn,"__referenceConstructor has already been defined"),zn=e}(Vi);var Ro={},Do=!1;function jo(t,n,r,i,o){var a=i||t.options.databaseURL;void 0===a&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",t.options.projectId),a=t.options.projectId+"-default-rtdb.firebaseio.com");var s,u=Ni(a,o),c=u.repoInfo,l=void 0;"undefined"!==typeof e&&(l=Object({NODE_ENV:"production",PUBLIC_URL:"/smsapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_DATABASE_EMULATOR_HOST),l?(s=!0,a="http://"+l+"?ns="+c.namespace,c=(u=Ni(a,o)).repoInfo):s=!u.repoInfo.secure;var h=o&&s?new W(W.OWNER):new K(t.name,t.options,n);Jr("Invalid Firebase Database URL",u),Te(u.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=Ro[t.name];i||(i={},Ro[t.name]=i);var o=i[e.toURLString()];o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new si(e,Do,n,r),i[e.toURLString()]=o,o}(c,t,h,new z(t.name,r));return new Lo(f,t)}var Lo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ui(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,ve())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),function(e,t){var n=Ro[t];n&&n[e.key]===e||S("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&S("Cannot call "+e+" on a deleted database.")},e}();function Mo(e,t,n,r){void 0===r&&(r={}),(e=Object(o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s=Object(o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new Y(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Fo(e){(e=Object(o.getModularInstance)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function Uo(e){var t;(e=Object(o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(ai)}var qo={".sv":"timestamp"};var Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function Bo(e,t,n){var r;if(e=Object(o.getModularInstance)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=no(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ei(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Wr("transaction failed: Data returned ",c,s.path),s.status=0;var l=xr(e.transactionQueueTree_,t),h=Nr(l)||[];h.push(s),Ar(l,h);var f=void 0;"object"===typeof c&&null!==c&&Object(o.contains)(c,".priority")?(f=Object(o.safeGet)(c,".priority"),Object(o.assert)(zr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(cr(e.serverSyncTree_,t)||st.EMPTY_NODE).getPriority().val();var d=li(e),p=ct(c,f),v=kr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=pi(e);var y=rr(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ri(e.eventQueue_,t,y),Ti(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new Bi(r,new Vi(e._repo,e._path),tt),a.resolve(new Vo(n,i)))}),s,i),a.promise}var zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){Object(o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){Object(o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){Object(o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){Object(o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if(Object(o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ko=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return Object(o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return Object(o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return Object(o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return Object(o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return Object(o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return Object(o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return Object(o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Yr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return Object(o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return Object(o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return Object(o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return Object(o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return Object(o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Go(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;Object(o.validateArgCount)("Query.on",2,4,arguments.length),Object(o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Wo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return no(this._delegate,c,l),n;case"child_added":return ro(this._delegate,c,l),n;case"child_removed":return ao(this._delegate,c,l),n;case"child_changed":return io(this._delegate,c,l),n;case"child_moved":return oo(this._delegate,c,l),n;default:throw new Error(Object(o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if(Object(o.validateArgCount)("Query.off",0,3,arguments.length),Qr("Query.off",e,!0),Object(o.validateCallback)("Query.off","callback",t,!0),Object(o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,so(this._delegate,e,r)}else so(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Wo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;Object(o.validateArgCount)("Query.once",1,4,arguments.length),Object(o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Wo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":no(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":ao(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":oo(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error(Object(o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return Object(o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ao(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return Object(o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ao(this._delegate,wo(t)))},e.prototype.orderByChild=function(t){return Object(o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ao(this._delegate,To(t)))},e.prototype.orderByKey=function(){return Object(o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ao(this._delegate,So()))},e.prototype.orderByPriority=function(){return Object(o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ao(this._delegate,ko()))},e.prototype.orderByValue=function(){return Object(o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ao(this._delegate,Po()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Ao(this._delegate,vo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Ao(this._delegate,yo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Ao(this._delegate,lo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),Object(o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Ao(this._delegate,fo(t,n)))},e.prototype.equalTo=function(t,n){return Object(o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Ao(this._delegate,No(t,n)))},e.prototype.toString=function(){return Object(o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return Object(o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(Object(o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Object(o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,Object(o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(Object(o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Go(this.database,new Vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Go=function(e){function t(t,n){var r=e.call(this,t,new Mi(n._repo,n._path,new It,!1))||this;return r.database=t,r._delegate=n,r}return Object(a.__extends)(t,e),t.prototype.getKey=function(){return Object(o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return Object(o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Wi(this._delegate,e))},t.prototype.getParent=function(){Object(o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return Object(o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){Object(o.validateArgCount)("Reference.set",1,2,arguments.length),Object(o.validateCallback)("Reference.set","onComplete",t,!0);var n=Qi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if(Object(o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),Object(o.validateCallback)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){Object(o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Yi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){Object(o.validateArgCount)("Reference.remove",0,1,arguments.length),Object(o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Gi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;Object(o.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),Object(o.validateCallback)("Reference.transaction","onComplete",t,!0),Zr("Reference.transaction","applyLocally",n,!0);var i=Bo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ko(e.committed,new Wo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){Object(o.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;Object(o.validateArgCount)("Reference.push",0,2,arguments.length),Object(o.validateCallback)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new zo(new Li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),Qo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Mo(this._delegate,e,t,n)},e.prototype.ref=function(e){if(Object(o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Go){var t=Ki(this._delegate,e.toString());return new Go(this,t)}t=zi(this._delegate,e);return new Go(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";Object(o.validateArgCount)(t,1,1,arguments.length);var n=Ki(this._delegate,e);return new Go(this,n)},e.prototype.goOffline=function(){return Object(o.validateArgCount)("database.goOffline",0,0,arguments.length),Fo(this._delegate)},e.prototype.goOnline=function(){return Object(o.validateArgCount)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:qo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var $o=Object.freeze({__proto__:null,forceLongPolling:function(){ue.forceDisallow(),oe.forceAllow()},forceWebSockets:function(){oe.forceDisallow()},isWebSocketsAvailable:function(){return ue.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Mt(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);j(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;c(r);var l=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return l.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Qo(jo(t,l,void 0,n,u),t),namespace:a}}}),Yo=je;je.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},je.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=le,Jo=Y,Zo=Object.freeze({__proto__:null,DataConnection:Yo,RealTimeConnection:Xo,hijackHash:function(e){var t=je.prototype.put;return je.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){je.prototype.put=t}},ConnectionTarget:Jo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Do=e}(e)}}),ea=Qo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Qo(jo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Go,Query:Ho,Database:Qo,DataSnapshot:Wo,enableLogging:w,INTERNAL:$o,ServerValue:ea,TEST_ACCESS:Zo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.7"),Object(o.isNodeSdk)()&&(t.exports=n)}(r.default)}).call(this,n(32),n(183)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";var r=n(4),i=n(7),o=n(0),a=n(1),s=n(6);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),h=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),f=new a.ErrorFactory("appCheck","AppCheck",h),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function y(e,t){d.set(e,t)}function m(){return v}function b(){return self.grecaptcha}function _(e){if(!g(e).activated)throw f.create("use-before-activation",{appName:e.name})}var w="https://www.google.com/recaptcha/api.js";function E(e,t){var n=g(e),r=new a.Deferred;y(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=b();return u?u.ready((function(){I(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+w,t.onload=e,document.head.appendChild(t)}((function(){var n=b();if(!n)throw new Error("no recaptcha");n.ready((function(){I(e,t,n,i),r.resolve(n)}))})),r.promise}function T(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return _(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function I(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);y(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var S="https://content-firebaseappcheck.googleapis.com/v1beta",C=3e4,k=96e4,O=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function P(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,h,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),f.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw f.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),f.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=c.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw f.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(h[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:S+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function N(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:S+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var A="firebase-app-check-store",R="debug-token",D=null;function j(){return D||(D=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(f.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(A,{keyPath:"compositeKey"})}}catch(r){t(f.create("storage-open",{originalErrorMessage:r.message}))}})),D)}function L(e){return F(U(e))}function M(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(f.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function F(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return t=o.sent(),n=t.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(f.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function U(e){return e.options.appId+"-"+e.name}var q=new s.Logger("@firebase/app-check");function V(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,L(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),q.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function B(e,t){return a.isIndexedDBAvailable()?function(e,t){return M(U(e),t)}(e,t).catch((function(e){q.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function z(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,F(R)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,M(R,r)).catch((function(e){return q.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function K(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=m()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var W={error:"UNKNOWN_ERROR"};function H(e){return a.base64.encodeString(JSON.stringify(e),!1)}function G(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,s,u,c,l,h,d,p,v,b,w,E,I;return o.__generator(this,(function(S){switch(S.label){case 0:return _(e),r=g(e),i=r.token,s=void 0,i?[3,2]:[4,V(e)];case 1:(u=S.sent())&&X(u)&&(i=u,y(e,o.__assign(o.__assign({},r),{token:i})),Y(e,{token:i.token})),S.label=2;case 2:return!n&&i&&X(i)?[2,{token:i.token}]:m().enabled?(l=P,h=N,d=[e],[4,K()]):[3,6];case 3:return[4,l.apply(void 0,[h.apply(void 0,d.concat([S.sent()])),t])];case 4:return c=S.sent(),[4,B(e,c)];case 5:return S.sent(),y(e,o.__assign(o.__assign({},r),{token:c})),[2,{token:c.token}];case 6:return S.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return p=S.sent(),v=a.issuedAtTime(p.token),b=null!==v&&v<Date.now()&&v>0?1e3*v:Date.now(),i=o.__assign(o.__assign({},p),{issuedAtTimeMillis:b}),[3,11];case 8:return[4,T(e).catch((function(e){throw f.create("recaptcha-error")}))];case 9:return w=S.sent(),[4,P(x(e,w),t)];case 10:i=S.sent(),S.label=11;case 11:return[3,13];case 12:return E=S.sent(),q.error(E),s=E,[3,13];case 13:return i?[3,14]:(I=function(e){return{token:H(W),error:e}}(s),[3,16]);case 14:return I={token:i.token},y(e,o.__assign(o.__assign({},r),{token:i})),[4,B(e,i)];case 15:S.sent(),S.label=16;case 16:return Y(e,I),[2,I]}}))}))}function Q(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new O((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,G(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,G(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),C,k)}(e,t);u.tokenRefresher=c}if(u.tokenRefresher.isRunning()||!0!==a.isTokenAutoRefreshEnabled||u.tokenRefresher.start(),a.token&&X(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}y(e,u)}function $(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),y(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function Y(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function X(e){return e.expireTimeMillis-Date.now()>0}function J(e,t){return{app:e,activate:function(t,n){return function(e,t,n){var r=g(e);if(r.activated)throw f.create("already-activated",{appName:e.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"===typeof t?i.siteKey=t:i.customProvider=t,i.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,y(e,i),i.siteKey&&E(e,i.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),y(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,G(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),Q(e,t,"EXTERNAL",o,a),function(){return $(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];$(e,r.next)}return Promise.resolve()}}}}var Z="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return J(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(Z).initialize()}))),e.INTERNAL.registerComponent(new i.Component(Z,(function(e){return function(e,t){return{getToken:function(n){return G(e,t,n)},addTokenListener:function(n){return Q(e,t,"INTERNAL",n)},removeTokenListener:function(t){return $(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.2.0")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=m();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(z())}}()},function(e,t,n){"use strict";n(70)},function(e,t,n){(function(t,n){e.exports=function(){"use strict";!function(e){var t,n,r,i,o,a,s,u,c,l;function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e?String(e):e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function v(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function y(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&r&&s(e))this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!u(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=v(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e,t,n=v(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,n=g(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(e,t){var n,r=(t=t||{}).body;if(e instanceof _){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(e=(n=t.method||this.method||"GET").toUpperCase(),-1<c.indexOf(e)?e:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(e=(n=e.split("=")).shift().replace(/\+/g," "),n=n.join("=").replace(/\+/g," "),t.append(decodeURIComponent(e),decodeURIComponent(n)))})),t}function E(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},u=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=h(e),t=f(t);var n=this.map[e];this.map[e]=n?n+","+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=f(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},n&&(p.prototype[Symbol.iterator]=p.prototype.entries),c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],_.prototype.clone=function(){return new _(this,{body:this._bodyInit})},b.call(_.prototype),b.call(E.prototype),E.prototype.clone=function(){return new E(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},E.error=function(){var e=new E(null,{status:0,statusText:""});return e.type="error",e},l=[301,302,303,307,308],E.redirect=function(e,t){if(-1===l.indexOf(t))throw new RangeError("Invalid status code");return new E(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=_,e.Response=E,e.fetch=function(e,t){return new Promise((function(n,i){var o=new _(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(r=a.getAllResponseHeaders()||"",e=new p,r.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":");(t=n.shift().trim())&&(n=n.join(":").trim(),e.append(t,n))})),e)};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;n(new E(r,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:void 0);var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};function r(e){var t={exports:{}};return e(t,t.exports),t.exports}function i(e){try{return!!e()}catch(e){return!0}}function o(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}function a(e){return w.call(e).slice(8,-1)}function s(e){if(null==e)throw TypeError("Can't call method on "+e);return e}function u(e){return T(s(e))}function c(e){return"object"==typeof e?null!==e:"function"==typeof e}function l(e,t){if(!c(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!c(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!c(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}function h(e){return Object(s(e))}function f(e){return k?C.createElement(e):{}}function d(e){if(!c(e))throw TypeError(String(e)+" is not an object");return e}function p(t,n){try{R(g,t,n)}catch(e){g[t]=n}return n}var v=function(e){return e&&e.Math==Math&&e},g=v("object"==typeof globalThis&&globalThis)||v("object"==typeof window&&window)||v("object"==typeof self&&self)||v("object"==typeof e&&e)||function(){return this}()||Function("return this")(),y=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),m={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,_={f:b&&!m.call({1:2},1)?function(e){return!!(e=b(this,e))&&e.enumerable}:m},w={}.toString,E="".split,T=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?E.call(e,""):Object(e)}:Object,I={}.hasOwnProperty,S=Object.hasOwn||function(e,t){return I.call(h(e),t)},C=g.document,k=c(C)&&c(C.createElement),O=!y&&!i((function(){return 7!=Object.defineProperty(f("div"),"a",{get:function(){return 7}}).a})),P=Object.getOwnPropertyDescriptor,x={f:y?P:function(e,t){if(e=u(e),t=l(t,!0),O)try{return P(e,t)}catch(e){}if(S(e,t))return o(!_.f.call(e,t),e[t])}},N=Object.defineProperty,A={f:y?N:function(e,t,n){if(d(e),t=l(t,!0),d(n),O)try{return N(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},R=y?function(e,t,n){return A.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e},D=g[Se="__core-js_shared__"]||p(Se,{}),j=Function.toString;function L(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++$+Y).toString(36)}"function"!=typeof D.inspectSource&&(D.inspectSource=function(e){return j.call(e)});var M,F,U,q,V,B,z,K,W=D.inspectSource,H="function"==typeof(Ae=g.WeakMap)&&/native code/.test(W(Ae)),G=!1,Q=r((function(e){(e.exports=function(e,t){return D[e]||(D[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.15.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})})),$=0,Y=Math.random(),X=Q("keys"),J=(v=function(e){return X[e]||(X[e]=L(e))},{}),Z="Object already initialized";function ee(e){return"function"==typeof e?e:void 0}function te(e,t){return arguments.length<2?ee(fe[e])||ee(g[e]):fe[e]&&fe[e][t]||g[e]&&g[e][t]}function ne(e){return isNaN(e=+e)?0:(0<e?pe:de)(e)}function re(e){return 0<e?ve(ne(e),9007199254740991):0}function ie(e,t){var n,r=u(e),i=0,o=[];for(n in r)!S(J,n)&&S(r,n)&&o.push(n);for(;t.length>i;)S(r,n=t[i++])&&(~me(o,n)||o.push(n));return o}function oe(e,t){for(var n=Te(t),r=A.f,i=x.f,o=0;o<n.length;o++){var a=n[o];S(e,a)||r(e,a,i(t,a))}}function ae(e,t){var n,r,i,o=e.target,a=e.global,s=e.stat,u=a?g:s?g[o]||p(o,{}):(g[o]||{}).prototype;if(u)for(n in t){if(r=t[n],i=e.noTargetGet?(i=Ne(u,n))&&i.value:u[n],!xe(a?n:o+(s?".":"#")+n,e.forced)&&void 0!==i){if(typeof r==typeof i)continue;oe(r,i)}(e.sham||i&&i.sham)&&R(r,"sham",!0),he(u,n,r,e)}}function se(){}function ue(e){return"<script>"+e+"</"+Ve+">"}e=g.WeakMap,z=H||D.state?(M=D.state||(D.state=new e),F=M.get,U=M.has,q=M.set,V=function(e,t){if(U.call(M,e))throw new TypeError(Z);return t.facade=e,q.call(M,e,t),t},B=function(e){return F.call(M,e)||{}},function(e){return U.call(M,e)}):(K=v("state"),J[K]=!0,V=function(e,t){if(S(e,K))throw new TypeError(Z);return t.facade=e,R(e,K,t),t},B=function(e){return S(e,K)?e[K]:{}},function(e){return S(e,K)});var ce,le={set:V,get:B,has:z,enforce:function(e){return z(e)?B(e):V(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=B(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},he=r((function(e){var t=le.get,n=le.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,u=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||S(i,"name")||R(i,"name",t),(o=n(i)).source||(o.source=r.join("string"==typeof t?t:""))),e!==g?(a?!u&&e[t]&&(s=!0):delete e[t],s?e[t]=i:R(e,t,i)):s?e[t]=i:p(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||W(this)}))})),fe=g,de=Math.ceil,pe=Math.floor,ve=Math.min,ge=Math.max,ye=Math.min,me=(m=function(e){return function(t,n,r){var i,o=u(t),a=re(o.length),s=function(e,t){return(e=ne(e))<0?ge(e+t,0):ye(e,t)}(r,a);if(e&&n!=n){for(;s<a;)if((i=o[s++])!=i)return!0}else for(;s<a;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}},m(!0),m(!1)),be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],_e=be.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(e){return ie(e,_e)}},Ee={f:Object.getOwnPropertySymbols},Te=te("Reflect","ownKeys")||function(e){var t=we.f(d(e)),n=Ee.f;return n?t.concat(n(e)):t},Ie=/#|\.prototype\./,Se=function(e,t){return(e=ke[Ce(e)])==Pe||e!=Oe&&("function"==typeof t?i(t):!!t)},Ce=Se.normalize=function(e){return String(e).replace(Ie,".").toLowerCase()},ke=Se.data={},Oe=Se.NATIVE="N",Pe=Se.POLYFILL="P",xe=Se,Ne=x.f,Ae=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Re=v("IE_PROTO"),De=Object.prototype,je=Ae?Object.getPrototypeOf:function(e){return e=h(e),S(e,Re)?e[Re]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?De:null},Le=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,r){return d(n),function(e){if(!c(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),Me=Object.keys||function(e){return ie(e,be)},Fe=y?Object.defineProperties:function(e,t){d(e);for(var n,r=Me(t),i=r.length,o=0;o<i;)A.f(e,n=r[o++],t[n]);return e},Ue=te("document","documentElement"),qe="prototype",Ve="script",Be=v("IE_PROTO"),ze=function(){try{ce=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e;ze=ce?function(e){e.write(ue("")),e.close();var t=e.parentWindow.Object;return e=null,t}(ce):((e=f("iframe")).style.display="none",Ue.appendChild(e),e.src=String("javascript:"),(e=e.contentWindow.document).open(),e.write(ue("document.F=Object")),e.close(),e.F);for(var t=be.length;t--;)delete ze[qe][be[t]];return ze()};J[Be]=!0;var Ke=Object.create||function(e,t){var n;return null!==e?(se[qe]=d(e),n=new se,se[qe]=null,n[Be]=e):n=ze(),void 0===t?n:Fe(n,t)};function We(e){return S(Xe,e)&&(Ye||"string"==typeof Xe[e])||(Ye&&S(Je,e)?Xe[e]=Je[e]:Xe[e]=Ze("Symbol."+e)),Xe[e]}function He(e){return void 0!==e&&(et.Array===e||nt[tt]===e)}function Ge(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}function Qe(e,t,n){if(Ge(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}H=te("navigator","userAgent")||"",m=(e=g.process)&&e.versions,(Se=m&&m.v8)?At=(Nt=Se.split("."))[0]<4?1:Nt[0]+Nt[1]:H&&(!(Nt=H.match(/Edge\/(\d+)/))||74<=Nt[1])&&(Nt=H.match(/Chrome\/(\d+)/))&&(At=Nt[1]);var $e=At&&+At,Ye=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&$e&&$e<41})),Xe=(Ae=Ye&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Q("wks")),Je=g.Symbol,Ze=Ae?Je:Je&&Je.withoutSetter||L,et={},tt=We("iterator"),nt=Array.prototype;function rt(e){if(null!=e)return e[lt]||e["@@iterator"]||et[ct(e)]}function it(e){var t=e.return;return void 0!==t&&d(t.call(e)).value}function ot(e,t){this.stopped=e,this.result=t}function at(e,t,n){function r(e){return o&&it(o),new ot(!0,e)}function i(e){return f?(d(e),v?g(e[0],e[1],r):g(e[0],e[1])):v?g(e,r):g(e)}var o,a,s,u,c,l,h=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=Qe(t,h,1+f+v);if(p)o=e;else{if("function"!=typeof(p=rt(e)))throw TypeError("Target is not iterable");if(He(p)){for(a=0,s=re(e.length);a<s;a++)if((u=i(e[a]))&&u instanceof ot)return u;return new ot(!1)}o=p.call(e)}for(c=o.next;!(l=c.call(o)).done;){try{u=i(l.value)}catch(e){throw it(o),e}if("object"==typeof u&&u&&u instanceof ot)return u}return new ot(!1)}(e={})[We("toStringTag")]="z",m="[object z]"===String(e);var st=We("toStringTag"),ut="Arguments"==a(function(){return arguments}()),ct=m?a:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(e=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),st))?e:ut?a(t):"Object"==(e=a(t))&&"function"==typeof t.callee?"Arguments":e},lt=We("iterator"),ht=function e(t,n){var r=this;return r instanceof e?(Le&&(r=Le(new Error(void 0),je(r))),void 0!==n&&R(r,"message",String(n)),at(t,(n=[]).push,{that:n}),R(r,"errors",n),r):new e(t,n)};function ft(e,t,n){for(var r in t)he(e,r,t[r],n);return e}function dt(e,t,n){e&&!S(e=n?e:e.prototype,mt)&&yt(e,mt,{configurable:!0,value:t})}function pt(e){var t=te(e);e=A.f,y&&t&&!t[bt]&&e(t,bt,{configurable:!0,get:function(){return this}})}function vt(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}ht.prototype=Ke(Error.prototype,{constructor:o(5,ht),message:o(5,""),name:o(5,"AggregateError")}),ae({global:!0},{AggregateError:ht}),m||he(Object.prototype,"toString",m?{}.toString:function(){return"[object "+ct(this)+"]"},{unsafe:!0});var gt=g.Promise,yt=A.f,mt=We("toStringTag"),bt=We("species"),_t=We("iterator"),wt=!1;try{var Et=0;(Ft={next:function(){return{done:!!Et++}},return:function(){wt=!0}})[_t]=function(){return this},Array.from(Ft,(function(){throw 2}))}catch(Va){}function Tt(e,t){if(!t&&!wt)return!1;var n=!1;try{var r={};r[_t]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}function It(e,t){var n;return void 0===(e=d(e).constructor)||null==(n=d(e)[Ot])?t:Ge(n)}function St(e){var t;Lt.hasOwnProperty(e)&&(t=Lt[e],delete Lt[e],t())}function Ct(e){return function(){St(e)}}var kt,Ot=We("species"),Pt=(Se=/(?:iphone|ipod|ipad).*applewebkit/i.test(H),"process"==a(g.process)),xt=g.location,Nt=g.setImmediate,At=g.clearImmediate,Rt=g.process,Dt=(e=g.MessageChannel,g.Dispatch),jt=0,Lt={},Mt="onreadystatechange",Ft=(m=function(e){St(e.data)},function(e){g.postMessage(e+"",xt.protocol+"//"+xt.host)});Nt&&At||(Nt=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return Lt[++jt]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},kt(jt),jt},At=function(e){delete Lt[e]},Pt?kt=function(e){Rt.nextTick(Ct(e))}:Dt&&Dt.now?kt=function(e){Dt.now(Ct(e))}:e&&!Se?(Gt=(e=new e).port2,e.port1.onmessage=m,kt=Qe(Gt.postMessage,Gt,1)):g.addEventListener&&"function"==typeof postMessage&&!g.importScripts&&xt&&"file:"!==xt.protocol&&!i(Ft)?(kt=Ft,g.addEventListener("message",m,!1)):kt=Mt in f("script")?function(e){Ue.appendChild(f("script"))[Mt]=function(){Ue.removeChild(this),St(e)}}:function(e){setTimeout(Ct(e),0)});var Ut,qt,Vt,Bt,zt,Kt,Wt,Ht,Gt={set:Nt,clear:At},Qt=(Ft=/web0s(?!.*chrome)/i.test(H),m=x.f,Gt.set),$t=(Nt=g.MutationObserver||g.WebKitMutationObserver,At=g.document,g.process);function Yt(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=Ge(t),this.reject=Ge(n)}function Xt(e,t){return d(e),c(t)&&t.constructor===e?t:((0,(e=ln.f(e)).resolve)(t),e.promise)}function Jt(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}function Zt(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t}function en(e,t){var n;e.notified||(e.notified=!0,n=e.reactions,cn((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,h=c.resolve,f=c.reject,d=c.domain;try{l?(i||(2===e.rejection&&xn(e),e.rejection=1),!0===l?a=r:(d&&d.enter(),a=l(r),d&&(d.exit(),u=!0)),a===c.promise?f(bn("Promise-chain cycle")):(s=Zt(a))?s.call(a,h,f):h(a)):f(r)}catch(r){d&&!u&&d.exit(),f(r)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&On(e)})))}function tn(e,t,n){var r,i;In?((r=_n.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),g.dispatchEvent(r)):r={promise:t,reason:n},!Sn&&(i=g["on"+e])?i(r):e===Cn&&function(e,t){var n=g.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)}function nn(e,t,n){return function(r){e(t,r,n)}}function rn(e,t,n){e.done||(e.done=!0,(e=n||e).value=t,e.state=2,en(e,!0))}H=g.Promise,(m=(m=m(g,"queueMicrotask"))&&m.value)||(Ut=function(){var e,t;for(Pt&&(e=$t.domain)&&e.exit();qt;){t=qt.fn,qt=qt.next;try{t()}catch(e){throw qt?Bt():Vt=void 0,e}}Vt=void 0,e&&e.enter()},Bt=Se||Pt||Ft||!Nt||!At?H&&H.resolve?((Wt=H.resolve(void 0)).constructor=H,Ht=Wt.then,function(){Ht.call(Wt,Ut)}):Pt?function(){$t.nextTick(Ut)}:function(){Qt.call(g,Ut)}:(zt=!0,Kt=At.createTextNode(""),new Nt(Ut).observe(Kt,{characterData:!0}),function(){Kt.data=zt=!zt}));var on,an,sn,un,cn=m||function(e){e={fn:e,next:void 0},Vt&&(Vt.next=e),qt||(qt=e,Bt()),Vt=e},ln={f:function(e){return new Yt(e)}},hn="object"==typeof window,fn=Gt.set,dn=We("species"),pn="Promise",vn=le.get,gn=le.set,yn=le.getterFor(pn),mn=(At=gt&&gt.prototype,gt),bn=(Nt=At,g.TypeError),_n=g.document,wn=g.process,En=ln.f,Tn=En,In=!!(_n&&_n.createEvent&&g.dispatchEvent),Sn="function"==typeof PromiseRejectionEvent,Cn="unhandledrejection",kn=!1,On=(m=xe(pn,(function(){var e=W(mn)!==String(mn);if(!e&&66===$e)return!0;if(51<=$e&&/native code/.test(mn))return!1;function t(e){e((function(){}),(function(){}))}var n=new mn((function(e){e(1)}));return(n.constructor={})[dn]=t,!(kn=n.then((function(){}))instanceof t)||!e&&hn&&!Sn})),Gt=m||!Tt((function(e){mn.all(e).catch((function(){}))})),function(e){fn.call(g,(function(){var t,n=e.facade,r=e.value;if(Pn(e)&&(t=Jt((function(){Pt?wn.emit("unhandledRejection",r,n):tn(Cn,n,r)})),e.rejection=Pt||Pn(e)?2:1,t.error))throw t.value}))}),Pn=function(e){return 1!==e.rejection&&!e.parent},xn=function(e){fn.call(g,(function(){var t=e.facade;Pt?wn.emit("rejectionHandled",t):tn("rejectionhandled",t,e.value)}))},Nn=function e(t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===n)throw bn("Promise can't be resolved itself");var i=Zt(n);i?cn((function(){var r={done:!1};try{i.call(n,nn(e,r,t),nn(rn,r,t))}catch(n){rn(r,n,t)}})):(t.value=n,t.state=1,en(t,!1))}catch(n){rn({done:!1},n,t)}}};if(m&&(Nt=(mn=function(e){vt(this,mn,pn),Ge(e),on.call(this);var t=vn(this);try{e(nn(Nn,t),nn(rn,t))}catch(e){rn(t,e)}}).prototype,(on=function(e){gn(this,{type:pn,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=ft(Nt,{then:function(e,t){var n=yn(this),r=En(It(this,mn));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=Pt?wn.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&en(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),an=function(){var e=new on,t=vn(e);this.promise=e,this.resolve=nn(Nn,t),this.reject=nn(rn,t)},ln.f=En=function(e){return e===mn||e===sn?new an:Tn(e)},"function"==typeof gt&&At!==Object.prototype)){un=At.then,kn||(he(At,"then",(function(e,t){var n=this;return new mn((function(e,t){un.call(n,e,t)})).then(e,t)}),{unsafe:!0}),he(At,"catch",Nt.catch,{unsafe:!0}));try{delete At.constructor}catch(Va){}Le&&Le(At,Nt)}ae({global:!0,wrap:!0,forced:m},{Promise:mn}),dt(mn,pn,!1),pt(pn),sn=te(pn),ae({target:pn,stat:!0,forced:m},{reject:function(e){var t=En(this);return t.reject.call(void 0,e),t.promise}}),ae({target:pn,stat:!0,forced:m},{resolve:function(e){return Xt(this,e)}}),ae({target:pn,stat:!0,forced:Gt},{all:function(e){var t=this,n=En(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),o=[],a=0,s=1;at(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=En(t),r=n.reject,i=Jt((function(){var i=Ge(t.resolve);at(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}}),ae({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=ln.f(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),i=[],o=0,a=1;at(e,(function(e){var s=o++,u=!1;i.push(void 0),a++,n.call(t,e).then((function(e){u||(u=!0,i[s]={status:"fulfilled",value:e},--a||r(i))}),(function(e){u||(u=!0,i[s]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var An="No one promise resolved";ae({target:"Promise",stat:!0},{any:function(e){var t=this,n=ln.f(t),r=n.resolve,i=n.reject,o=Jt((function(){var n=Ge(t.resolve),o=[],a=0,s=1,u=!1;at(e,(function(e){var c=a++,l=!1;o.push(void 0),s++,n.call(t,e).then((function(e){l||u||(u=!0,r(e))}),(function(e){l||u||(l=!0,o[c]=e,--s||i(new(te("AggregateError"))(o,An)))}))})),--s||i(new(te("AggregateError"))(o,An))}));return o.error&&i(o.value),n.promise}}),ae({target:"Promise",proto:!0,real:!0,forced:At=!!gt&&i((function(){gt.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=It(this,te("Promise")),n="function"==typeof e;return this.then(n?function(n){return Xt(t,e()).then((function(){return n}))}:e,n?function(n){return Xt(t,e()).then((function(){throw n}))}:e)}}),"function"==typeof gt&&(kr=te("Promise").prototype.finally,gt.prototype.finally!==kr&&he(gt.prototype,"finally",kr,{unsafe:!0})),Nt=function(e){return function(t,n){var r,i=String(s(t)),o=ne(n);return t=i.length,o<0||t<=o?e?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===t||(r=i.charCodeAt(o+1))<56320||57343<r?e?i.charAt(o):n:e?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}},m={codeAt:Nt(!1),charAt:Nt(!0)};var Rn,Dn=We("iterator");function jn(){return this}function Ln(){return this}function Mn(e,t,n,r,i,a,s){function u(e){if(e===i&&v)return v;if(!qn&&e in d)return d[e];switch(e){case"keys":case Bn:case zn:return function(){return new n(this,e)}}return function(){return new n(this)}}!function(e,t,n){t+=" Iterator",e.prototype=Ke(Fn,{next:o(1,n)}),dt(e,t,!1),et[t]=jn}(n,t,r);var c,l,h=t+" Iterator",f=!1,d=e.prototype,p=d[Vn]||d["@@iterator"]||i&&d[i],v=!qn&&p||u(i);if((r="Array"==t&&d.entries||p)&&(e=je(r.call(new e)),Un!==Object.prototype&&e.next&&(je(e)!==Un&&(Le?Le(e,Un):"function"!=typeof e[Vn]&&R(e,Vn,Ln)),dt(e,h,!0))),i==Bn&&p&&p.name!==Bn&&(f=!0,v=function(){return p.call(this)}),d[Vn]!==v&&R(d,Vn,v),et[t]=v,i)if(c={values:u(Bn),keys:a?v:u("keys"),entries:u(zn)},s)for(l in c)!qn&&!f&&l in d||he(d,l,c[l]);else ae({target:t,proto:!0,forced:qn||f},c);return c}Gt=!1,[].keys&&("next"in(fr=[].keys())?(li=je(je(fr)))!==Object.prototype&&(Rn=li):Gt=!0),At=null==Rn||i((function(){var e={};return Rn[Dn].call(e)!==e})),S(Rn=At?{}:Rn,Dn)||R(Rn,Dn,(function(){return this}));var Fn=(kr={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:Gt}).IteratorPrototype,Un=kr.IteratorPrototype,qn=kr.BUGGY_SAFARI_ITERATORS,Vn=We("iterator"),Bn="values",zn="entries",Kn=m.charAt,Wn="String Iterator",Hn=le.set,Gn=le.getterFor(Wn);Mn(String,"String",(function(e){Hn(this,{type:Wn,string:String(e),index:0})}),(function(){var e=Gn(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(n=Kn(t,n),e.index+=n.length,{value:n,done:!1})}));var Qn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},$n=We("unscopables"),Yn=Array.prototype;null==Yn[$n]&&A.f(Yn,$n,{configurable:!0,value:Ke(null)}),Nt=function(e){Yn[$n][e]=!0};var Xn="Array Iterator",Jn=le.set,Zn=le.getterFor(Xn),er=Mn(Array,"Array",(function(e,t){Jn(this,{type:Xn,target:u(e),index:0,kind:t})}),(function(){var e=Zn(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");et.Arguments=et.Array,Nt("keys"),Nt("values"),Nt("entries");var tr,nr=We("iterator"),rr=We("toStringTag"),ir=er.values;for(tr in Qn){var or=g[tr],ar=or&&or.prototype;if(ar){if(ar[nr]!==ir)try{R(ar,nr,ir)}catch(Va){ar[nr]=ir}if(ar[rr]||R(ar,rr,tr),Qn[tr])for(var sr in er)if(ar[sr]!==er[sr])try{R(ar,sr,er[sr])}catch(Va){ar[sr]=er[sr]}}}function ur(e,t){var n;return new(void 0===(n=cr(e)&&("function"==typeof(n=e.constructor)&&(n===Array||cr(n.prototype))||c(n)&&null===(n=n[lr]))?void 0:n)?Array:n)(0===t?0:t)}fe.Promise,ae({target:"Promise",stat:!0},{try:function(e){var t=ln.f(this);return((e=Jt(e)).error?t.reject:t.resolve)(e.value),t.promise}});var cr=Array.isArray||function(e){return"Array"==a(e)},lr=We("species"),hr=[].push,fr=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(u,c,l,f){for(var d,p,v=h(u),g=T(v),y=Qe(c,l,3),m=re(g.length),b=0,_=(f=f||ur,t?f(u,m):n||a?f(u,0):void 0);b<m;b++)if((s||b in g)&&(p=y(d=g[b],b,v),e))if(t)_[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:hr.call(_,d)}else switch(e){case 4:return!1;case 7:hr.call(_,d)}return o?-1:r||i?i:_}},dr=(li={forEach:fr(0),map:fr(1),filter:fr(2),some:fr(3),every:fr(4),find:fr(5),findIndex:fr(6),filterOut:fr(7)}).find,pr=!0;(At="find")in[]&&Array(1)[At]((function(){pr=!1})),ae({target:"Array",proto:!0,forced:pr},{find:function(e){return dr(this,e,1<arguments.length?arguments[1]:void 0)}}),Nt(At);var vr=Function.call;Gt=function(e,t,n){return Qe(vr,g[e].prototype[t],n)},Gt("Array","find");var gr=li.findIndex,yr=!0;function mr(e,t,n){(t=l(t))in e?A.f(e,t,o(0,n)):e[t]=n}(kr="findIndex")in[]&&Array(1)[kr]((function(){yr=!1})),ae({target:"Array",proto:!0,forced:yr},{findIndex:function(e){return gr(this,e,1<arguments.length?arguments[1]:void 0)}}),Nt(kr),Gt("Array","findIndex"),m=!Tt((function(e){Array.from(e)})),ae({target:"Array",stat:!0,forced:m},{from:function(e){var t,n,r,i,o,a,s=h(e),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?arguments[1]:void 0,f=void 0!==l,p=(e=rt(s),0);if(f&&(l=Qe(l,2<c?arguments[2]:void 0,2)),null==e||u==Array&&He(e))for(n=new u(t=re(s.length));p<t;p++)mr(n,p,a=f?l(s[p],p):s[p]);else for(o=(i=e.call(s)).next,n=new u;!(r=o.call(i)).done;p++)a=f?function(e,t,n,r){try{return r?t(d(n)[0],n[1]):t(n)}catch(t){throw it(e),t}}(i,l,[r.value,p],!0):r.value,mr(n,p,a);return n.length=p,n}}),fe.Array.from;var br,_r,wr=li.some;function Er(e){return!!c(e)&&(e=ct(e),S(xr,e)||S(Nr,e))}ae({target:"Array",proto:!0,forced:!(fr=!!(_r=[].some)&&i((function(){_r.call(null,br||function(){throw 1},1)})))},{some:function(e){return wr(this,e,1<arguments.length?arguments[1]:void 0)}}),Gt("Array","some"),At="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Nt=A.f;var Tr,Ir=(kr=g.Int8Array)&&kr.prototype,Sr=(fr=(m=g.Uint8ClampedArray)&&m.prototype,kr&&je(kr)),Cr=Ir&&je(Ir),kr=((m=Object.prototype).isPrototypeOf,We("toStringTag")),Or=L("TYPED_ARRAY_TAG"),Pr=At&&!!Le&&"Opera"!==ct(g.opera),xr=(At=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8}),Nr={BigInt64Array:8,BigUint64Array:8};for(Tr in xr)g[Tr]||(Pr=!1);if((!Pr||"function"!=typeof Sr||Sr===Function.prototype)&&(Sr=function(){throw TypeError("Incorrect invocation")},Pr))for(Tr in xr)g[Tr]&&Le(g[Tr],Sr);if((!Pr||!Cr||Cr===m)&&(Cr=Sr.prototype,Pr))for(Tr in xr)g[Tr]&&Le(g[Tr].prototype,Cr);if(Pr&&je(fr)!==Cr&&Le(fr,Cr),y&&!S(Cr,kr))for(Tr in At=!0,Nt(Cr,kr,{get:function(){return c(this)?this[Or]:void 0}}),xr)g[Tr]&&R(g[Tr],Or,Tr);fr=function(e){if(Er(e))return e;throw TypeError("Target is not a typed array")},Nt=function(e,t,n){if(y){if(n)for(var r in xr)if((r=g[r])&&S(r.prototype,e))try{delete r.prototype[e]}catch(e){}Cr[e]&&!n||he(Cr,e,!n&&Pr&&Ir[e]||t)}},kr=We("iterator"),At=g.Uint8Array;var Ar=er.values,Rr=er.keys,Dr=er.entries,jr=fr;fr=Nt,At=!!(Nt=At&&At.prototype[kr])&&("values"==Nt.name||null==Nt.name),Nt=function(){return Ar.call(jr(this))},fr("entries",(function(){return Dr.call(jr(this))})),fr("keys",(function(){return Rr.call(jr(this))})),fr("values",Nt,!At),fr(kr,Nt,!At);var Lr=Object.assign,Mr=Object.defineProperty;Nt=!Lr||i((function(){if(y&&1!==Lr({b:1},Lr(Mr({},"a",{enumerable:!0,get:function(){Mr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return 1;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=Lr({},e)[n]||Me(Lr({},t)).join("")!=r}))?function(e,t){for(var n=h(e),r=arguments.length,i=1,o=Ee.f,a=_.f;i<r;)for(var s,u=T(arguments[i++]),c=o?Me(u).concat(o(u)):Me(u),l=c.length,f=0;f<l;)s=c[f++],y&&!a.call(u,s)||(n[s]=u[s]);return n}:Lr,ae({target:"Object",stat:!0,forced:Object.assign!==Nt},{assign:Nt}),fe.Object.assign;var Fr=_.f,Ur=(At=function(e){return function(t){for(var n,r=u(t),i=Me(r),o=i.length,a=0,s=[];a<o;)n=i[a++],y&&!Fr.call(r,n)||s.push(e?[n,r[n]]:r[n]);return s}},(Nt={entries:At(!0),values:At(!1)}).entries);ae({target:"Object",stat:!0},{entries:function(e){return Ur(e)}}),fe.Object.entries;var qr=Nt.values;function Vr(e){if(c(t=e)&&(void 0!==(n=t[Br])?n:"RegExp"==a(t)))throw TypeError("The method doesn't accept regular expressions");var t,n;return e}ae({target:"Object",stat:!0},{values:function(e){return qr(e)}}),fe.Object.values;var Br=We("match"),zr=We("match");At=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[zr]=!1,"/./"[t](n)}catch(e){}}return!1},ae({target:"String",proto:!0,forced:!At("includes")},{includes:function(e){return!!~String(s(this)).indexOf(Vr(e),1<arguments.length?arguments[1]:void 0)}}),Gt("String","includes"),Nt=x.f;var Kr,Wr="".startsWith,Hr=Math.min;At=At("startsWith"),ae({target:"String",proto:!0,forced:!(Kr=!(At||!(Kr=Nt(String.prototype,"startsWith"))||Kr.writable))&&!At},{startsWith:function(e){var t=String(s(this));Vr(e);var n=re(Hr(1<arguments.length?arguments[1]:void 0,t.length));return e=String(e),Wr?Wr.call(t,e,n):t.slice(n,n+e.length)===e}}),Gt("String","startsWith"),ae({target:"String",proto:!0},{repeat:function(e){var t=String(s(this)),n="",r=ne(e);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;0<r;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}}),Gt("String","repeat");var Gr,Qr=We("species"),$r=We("isConcatSpreadable"),Yr=9007199254740991,Xr="Maximum allowed index exceeded";function Jr(e){var t=fe.Symbol||(fe.Symbol={});S(t,e)||oi(t,e,{value:ii.f(e)})}function Zr(e,t){var n=_i[e]=Ke(pi[ci]);return hi(n,{type:ui,tag:e,description:t}),y||(n.description=t),n}function ei(e,t){d(e);var n=u(t);return t=Me(n).concat(Pi(n)),ai(t,(function(t){y&&!Oi.call(n,t)||ki(e,t,n[t])})),e}At=51<=$e||!i((function(){var e=[];return e[$r]=!1,e.concat()[0]!==e})),Gr="concat",Gt=51<=$e||!i((function(){var e=[];return(e.constructor={})[Qr]=function(){return{foo:1}},1!==e[Gr](Boolean).foo})),ae({target:"Array",proto:!0,forced:!At||!Gt},{concat:function(e){for(var t,n,r,i=h(this),o=ur(i,0),a=0,s=-1,u=arguments.length;s<u;s++)if(function(e){if(!c(e))return!1;var t=e[$r];return void 0!==t?!!t:cr(e)}(r=-1===s?i:arguments[s])){if(n=re(r.length),Yr<a+n)throw TypeError(Xr);for(t=0;t<n;t++,a++)t in r&&mr(o,a,r[t])}else{if(Yr<=a)throw TypeError(Xr);mr(o,a++,r)}return o.length=a,o}});var ti=we.f,ni={}.toString,ri="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ii=(Gt={f:function(e){return ri&&"[object Window]"==ni.call(e)?function(e){try{return ti(e)}catch(e){return ri.slice()}}(e):ti(u(e))}},{f:We}),oi=A.f,ai=li.forEach,si=v("hidden"),ui="Symbol",ci="prototype",li=We("toPrimitive"),hi=le.set,fi=le.getterFor(ui),di=Object[ci],pi=g.Symbol,vi=te("JSON","stringify"),gi=x.f,yi=A.f,mi=Gt.f,bi=_.f,_i=Q("symbols"),wi=Q("op-symbols"),Ei=Q("string-to-symbol-registry"),Ti=Q("symbol-to-string-registry"),Ii=(v=Q("wks"),!(Q=g.QObject)||!Q[ci]||!Q[ci].findChild),Si=y&&i((function(){return 7!=Ke(yi({},"a",{get:function(){return yi(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=gi(di,t);r&&delete di[t],yi(e,t,n),r&&e!==di&&yi(di,t,r)}:yi,Ci=Ae?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof pi},ki=function e(t,n,r){return t===di&&e(wi,n,r),d(t),n=l(n,!0),d(r),S(_i,n)?(r.enumerable?(S(t,si)&&t[si][n]&&(t[si][n]=!1),r=Ke(r,{enumerable:o(0,!1)})):(S(t,si)||yi(t,si,o(1,{})),t[si][n]=!0),Si(t,n,r)):yi(t,n,r)},Oi=function(e){var t=l(e,!0);return e=bi.call(this,t),!(this===di&&S(_i,t)&&!S(wi,t))&&(!(e||!S(this,t)||!S(_i,t)||S(this,si)&&this[si][t])||e)},Pi=(Q=function(e,t){var n=u(e);if(e=l(t,!0),n!==di||!S(_i,e)||S(wi,e))return!(t=gi(n,e))||!S(_i,e)||S(n,si)&&n[si][e]||(t.enumerable=!0),t},Ae=function(e){e=mi(u(e));var t=[];return ai(e,(function(e){S(_i,e)||S(J,e)||t.push(e)})),t},function(e){var t=e===di,n=(e=mi(t?wi:u(e)),[]);return ai(e,(function(e){!S(_i,e)||t&&!S(di,e)||n.push(_i[e])})),n});Ye||(he((pi=function(){if(this instanceof pi)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=L(e),n=function e(n){this===di&&e.call(wi,n),S(this,si)&&S(this[si],t)&&(this[si][t]=!1),Si(this,t,o(1,n))};return y&&Ii&&Si(di,t,{configurable:!0,set:n}),Zr(t,e)})[ci],"toString",(function(){return fi(this).tag})),he(pi,"withoutSetter",(function(e){return Zr(L(e),e)})),_.f=Oi,A.f=ki,x.f=Q,we.f=Gt.f=Ae,Ee.f=Pi,ii.f=function(e){return Zr(We(e),e)},y&&(yi(pi[ci],"description",{configurable:!0,get:function(){return fi(this).description}}),he(di,"propertyIsEnumerable",Oi,{unsafe:!0}))),ae({global:!0,wrap:!0,forced:!Ye,sham:!Ye},{Symbol:pi}),ai(Me(v),(function(e){Jr(e)})),ae({target:ui,stat:!0,forced:!Ye},{for:function(e){var t=String(e);return S(Ei,t)?Ei[t]:(e=pi(t),Ei[t]=e,Ti[e]=t,e)},keyFor:function(e){if(!Ci(e))throw TypeError(e+" is not a symbol");if(S(Ti,e))return Ti[e]},useSetter:function(){Ii=!0},useSimple:function(){Ii=!1}}),ae({target:"Object",stat:!0,forced:!Ye,sham:!y},{create:function(e,t){return void 0===t?Ke(e):ei(Ke(e),t)},defineProperty:ki,defineProperties:ei,getOwnPropertyDescriptor:Q}),ae({target:"Object",stat:!0,forced:!Ye},{getOwnPropertyNames:Ae,getOwnPropertySymbols:Pi}),ae({target:"Object",stat:!0,forced:i((function(){Ee.f(1)}))},{getOwnPropertySymbols:function(e){return Ee.f(h(e))}}),vi&&(Bi=!Ye||i((function(){var e=pi();return"[null]"!=vi([e])||"{}"!=vi({a:e})||"{}"!=vi(Object(e))})),ae({target:"JSON",stat:!0,forced:Bi},{stringify:function(e,t,n){for(var r,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((c(r=t)||void 0!==e)&&!Ci(e))return cr(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Ci(t))return t}),i[1]=t,vi.apply(null,i)}})),pi[ci][li]||R(pi[ci],li,pi[ci].valueOf),dt(pi,ui),J[si]=!0,Jr("asyncIterator"),Q=A.f;var xi,Ni,Ai,Ri,Di,ji=g.Symbol;!y||"function"!=typeof ji||"description"in ji.prototype&&void 0===ji().description||(xi={},oe(Ni=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof Ni?new ji(e):void 0===e?ji():ji(e);return""===e&&(xi[t]=!0),t},ji),(Wi=Ni.prototype=ji.prototype).constructor=Ni,Ai=Wi.toString,Ri="Symbol(test)"==String(ji("test")),Di=/^Symbol\((.*)\)[^)]+$/,Q(Wi,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=Ai.call(e);return S(xi,e)?"":""===(t=Ri?t.slice(7,-1):t.replace(Di,"$1"))?void 0:t}}),ae({global:!0,forced:!0},{Symbol:Ni})),Jr("hasInstance"),Jr("isConcatSpreadable"),Jr("iterator"),Jr("match"),Jr("matchAll"),Jr("replace"),Jr("search"),Jr("species"),Jr("split"),Jr("toPrimitive"),Jr("toStringTag"),Jr("unscopables"),dt(g.JSON,"JSON",!0),dt(Math,"Math",!0),ae({global:!0},{Reflect:{}}),dt(g.Reflect,"Reflect",!0),fe.Symbol,Jr("asyncDispose"),Jr("dispose"),Jr("matcher"),Jr("metadata"),Jr("observable"),Jr("patternMatch"),Jr("replaceAll"),ii.f("iterator");var Li=!i((function(){return Object.isExtensible(Object.preventExtensions({}))})),Mi=r((function(e){function t(e){n(e,r,{value:{objectID:"O"+ ++i,weakData:{}}})}var n=A.f,r=L("meta"),i=0,o=Object.isExtensible||function(){return!0},a=e.exports={REQUIRED:!1,fastKey:function(e,n){if(!c(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!S(e,r)){if(!o(e))return"F";if(!n)return"E";t(e)}return e[r].objectID},getWeakData:function(e,n){if(!S(e,r)){if(!o(e))return!0;if(!n)return!1;t(e)}return e[r].weakData},onFreeze:function(e){return Li&&a.REQUIRED&&o(e)&&!S(e,r)&&t(e),e}};J[r]=!0})),Fi=(Ae=function(e,t,n){function r(e){var t=v[e];he(v,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return f&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(f&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var o,a,s,u,l,h=-1!==e.indexOf("Map"),f=-1!==e.indexOf("Weak"),d=h?"set":"add",p=g[e],v=p&&p.prototype,y=p,m={};return xe(e,"function"!=typeof p||!(f||v.forEach&&!i((function(){(new p).entries().next()}))))?(y=n.getConstructor(t,e,h,d),Mi.REQUIRED=!0):xe(e,!0)&&(a=(o=new y)[d](f?{}:-0,1)!=o,s=i((function(){o.has(1)})),u=Tt((function(e){new p(e)})),l=!f&&i((function(){for(var e=new p,t=5;t--;)e[d](t,t);return!e.has(-0)})),u||(((y=t((function(t,n){vt(t,y,e);var r,i,o,a=(a=new p,r=t,t=y,Le&&"function"==typeof(i=r.constructor)&&i!==t&&c(o=i.prototype)&&o!==t.prototype&&Le(a,o),a);return null!=n&&at(n,a[d],{that:a,AS_ENTRIES:h}),a}))).prototype=v).constructor=y),(s||l)&&(r("delete"),r("has"),h&&r("get")),(l||a)&&r(d),f&&v.clear&&delete v.clear),m[e]=y,ae({global:!0,forced:y!=p},m),dt(y,e),f||n.setStrong(y,e,h),y},A.f),Ui=Mi.fastKey,qi=le.set,Vi=le.getterFor,Bi={getConstructor:function(e,t,n,r){function i(e,t,n){var r,i=a(e),o=s(e,t);return o?o.value=n:(i.last=o={index:r=Ui(t,!0),key:t,value:n,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=o),n&&(n.next=o),y?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e}var o=e((function(e,i){vt(e,o,t),qi(e,{type:t,index:Ke(null),first:void 0,last:void 0,size:0}),y||(e.size=0),null!=i&&at(i,e[r],{that:e,AS_ENTRIES:n})})),a=Vi(t),s=function(e,t){var n,r=a(e);if("F"!==(e=Ui(t)))return r.index[e];for(n=r.first;n;n=n.next)if(n.key==t)return n};return ft(o.prototype,{clear:function(){for(var e=a(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,y?e.size=0:this.size=0},delete:function(e){var t,n=a(this),r=s(this,e);return r&&(t=r.next,e=r.previous,delete n.index[r.index],r.removed=!0,e&&(e.next=t),t&&(t.previous=e),n.first==r&&(n.first=t),n.last==r&&(n.last=e),y?n.size--:this.size--),!!r},forEach:function(e){for(var t,n=a(this),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),ft(o.prototype,n?{get:function(e){return(e=s(this,e))&&e.value},set:function(e,t){return i(this,0===e?0:e,t)}}:{add:function(e){return i(this,e=0===e?0:e,e)}}),y&&Fi(o.prototype,"size",{get:function(){return a(this).size}}),o},setStrong:function(e,t,n){var r=t+" Iterator",i=Vi(t),o=Vi(r);Mn(e,t,(function(e,t){qi(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),pt(t)}};function zi(){for(var e,t=d(this),n=Ge(t.delete),r=!0,i=0,o=arguments.length;i<o;i++)e=n.call(t,arguments[i]),r=r&&e;return!!r}function Ki(e){return Map.prototype.entries.call(e)}Ae("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Bi),fe.Map,li=function(e){var t,n,r,i,o=arguments.length,a=1<o?arguments[1]:void 0;return Ge(this),(t=void 0!==a)&&Ge(a),null==e?new this:(n=[],t?(r=0,i=Qe(a,2<o?arguments[2]:void 0,2),at(e,(function(e){n.push(i(e,r++))}))):at(e,n.push,{that:n}),new this(n))},ae({target:"Map",stat:!0},{from:li}),Q=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)},ae({target:"Map",stat:!0},{of:Q}),ae({target:"Map",proto:!0,real:!0,forced:G},{deleteAll:function(){return zi.apply(this,arguments)}}),ae({target:"Map",proto:!0,real:!0,forced:G},{emplace:function(e,t){var n=d(this);return t=n.has(e)&&"update"in t?t.update(n.get(e),e,n):t.insert(e,n),n.set(e,t),t}}),ae({target:"Map",proto:!0,real:!0,forced:G},{every:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return!at(n,(function(e,n,i){if(!r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",proto:!0,real:!0,forced:G},{filter:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(It(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){r(n,e,t)&&o.call(i,e,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{find:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",proto:!0,real:!0,forced:G},{findKey:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",stat:!0},{groupBy:function(e,t){var n=new this;Ge(t);var r=Ge(n.has),i=Ge(n.get),o=Ge(n.set);return at(e,(function(e){var a=t(e);r.call(n,a)?i.call(n,a).push(e):o.call(n,a,[e])})),n}}),ae({target:"Map",proto:!0,real:!0,forced:G},{includes:function(e){return at(Ki(d(this)),(function(t,n,r){if((i=n)===(n=e)||i!=i&&n!=n)return r();var i}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",stat:!0},{keyBy:function(e,t){var n=new this;Ge(t);var r=Ge(n.set);return at(e,(function(e){r.call(n,t(e),e)})),n}}),ae({target:"Map",proto:!0,real:!0,forced:G},{keyOf:function(e){return at(Ki(d(this)),(function(t,n,r){if(n===e)return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Map",proto:!0,real:!0,forced:G},{mapKeys:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(It(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){o.call(i,r(n,e,t),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{mapValues:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(It(t,te("Map"))),o=Ge(i.set);return at(n,(function(e,n){o.call(i,e,r(n,e,t))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{merge:function(e){for(var t=d(this),n=Ge(t.set),r=0;r<arguments.length;)at(arguments[r++],n,{that:t,AS_ENTRIES:!0});return t}}),ae({target:"Map",proto:!0,real:!0,forced:G},{reduce:function(e){var t=d(this),n=Ki(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Ge(e),at(n,(function(n,o){i=r?(r=!1,o):e(i,o,n,t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty map with no initial value");return i}}),ae({target:"Map",proto:!0,real:!0,forced:G},{some:function(e){var t=d(this),n=Ki(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n,i){if(r(n,e,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Map",proto:!0,real:!0,forced:G},{update:function(e,t){var n=d(this),r=arguments.length;Ge(t);var i=n.has(e);if(!i&&r<3)throw TypeError("Updating absent value");return r=i?n.get(e):Ge(2<r?arguments[2]:void 0)(e,n),n.set(e,t(r,e,n)),n}});var Wi=function(e,t){var n,r=d(this),i=2<arguments.length?arguments[2]:void 0;if("function"!=typeof t&&"function"!=typeof i)throw TypeError("At least one callback required");return r.has(e)?(n=r.get(e),"function"==typeof t&&(n=t(n),r.set(e,n))):"function"==typeof i&&(n=i(),r.set(e,n)),n};function Hi(e){return Set.prototype.values.call(e)}ae({target:"Map",proto:!0,real:!0,forced:G},{upsert:Wi}),ae({target:"Map",proto:!0,real:!0,forced:G},{updateOrInsert:Wi}),Ae("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),Bi),fe.Set,ae({target:"Set",stat:!0},{from:li}),ae({target:"Set",stat:!0},{of:Q}),ae({target:"Set",proto:!0,real:!0,forced:G},{addAll:function(){return function(){for(var e=d(this),t=Ge(e.add),n=0,r=arguments.length;n<r;n++)t.call(e,arguments[n]);return e}.apply(this,arguments)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{deleteAll:function(){return zi.apply(this,arguments)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{every:function(e){var t=d(this),n=Hi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return!at(n,(function(e,n){if(!r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{difference:function(e){var t=d(this),n=new(It(t,te("Set")))(t),r=Ge(n.delete);return at(e,(function(e){r.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{filter:function(e){var t=d(this),n=Hi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(It(t,te("Set"))),o=Ge(i.add);return at(n,(function(e){r(e,e,t)&&o.call(i,e)}),{IS_ITERATOR:!0}),i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{find:function(e){var t=d(this),n=Hi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n){if(r(e,e,t))return n(e)}),{IS_ITERATOR:!0,INTERRUPTED:!0}).result}}),ae({target:"Set",proto:!0,real:!0,forced:G},{intersection:function(e){var t=d(this),n=new(It(t,te("Set"))),r=Ge(t.has),i=Ge(n.add);return at(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isDisjointFrom:function(e){var t=d(this),n=Ge(t.has);return!at(e,(function(e,r){if(!0===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isSubsetOf:function(e){var t=function(e){var t=rt(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return d(t.call(e))}(this),n=d(e),r=n.has;return"function"!=typeof r&&(n=new(te("Set"))(e),r=Ge(n.has)),!at(t,(function(e,t){if(!1===r.call(n,e))return t()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{isSupersetOf:function(e){var t=d(this),n=Ge(t.has);return!at(e,(function(e,r){if(!1===n.call(t,e))return r()}),{INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{join:function(e){var t=Hi(n=d(this)),n=void 0===e?",":String(e);return at(t,(e=[]).push,{that:e,IS_ITERATOR:!0}),e.join(n)}}),ae({target:"Set",proto:!0,real:!0,forced:G},{map:function(e){var t=d(this),n=Hi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3),i=new(It(t,te("Set"))),o=Ge(i.add);return at(n,(function(e){o.call(i,r(e,e,t))}),{IS_ITERATOR:!0}),i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{reduce:function(e){var t=d(this),n=Hi(t),r=arguments.length<2,i=r?void 0:arguments[1];if(Ge(e),at(n,(function(n){i=r?(r=!1,n):e(i,n,n,t)}),{IS_ITERATOR:!0}),r)throw TypeError("Reduce of empty set with no initial value");return i}}),ae({target:"Set",proto:!0,real:!0,forced:G},{some:function(e){var t=d(this),n=Hi(t),r=Qe(e,1<arguments.length?arguments[1]:void 0,3);return at(n,(function(e,n){if(r(e,e,t))return n()}),{IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}}),ae({target:"Set",proto:!0,real:!0,forced:G},{symmetricDifference:function(e){var t=d(this),n=new(It(t,te("Set")))(t),r=Ge(n.delete),i=Ge(n.add);return at(e,(function(e){r.call(n,e)||i.call(n,e)})),n}}),ae({target:"Set",proto:!0,real:!0,forced:G},{union:function(e){var t;return at(e,Ge((t=new(It(t=d(this),te("Set")))(t)).add),{that:t}),t}});var Gi=Math.floor;ae({target:"Number",stat:!0},{isInteger:function(e){return!c(e)&&isFinite(e)&&Gi(e)===e}}),fe.Number.isInteger,ae({target:"Number",stat:!0},{isNaN:function(e){return e!=e}}),fe.Number.isNaN;var Qi=function(e,t){return(Qi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function $i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Qi(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Yi=function(){return(Yi=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Xi(e,t,n,r){return new(n=n||Promise)((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Ji(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,(a=i?[2&a[0],i.value]:a)[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(s){a=[6,s],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function Zi(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function eo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function to(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}function no(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t}function ro(e){try{return so.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}var io={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},oo=function(e,t){if(!e)throw ao(t)},ao=function(e){return new Error("Firebase Database ("+io.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},so={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=(15&s)<<2|(l=u?e[i+2]:0)>>6,l=63&l;u||(l=64,a||(c=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[c],n[l])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(no(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i,o,a,s=e[n++];s<128?t[r++]=String.fromCharCode(s):191<s&&s<224?(o=e[n++],t[r++]=String.fromCharCode((31&s)<<6|63&o)):239<s&&s<365?(i=((7&s)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536,t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))):(o=e[n++],a=e[n++],t[r++]=String.fromCharCode((15&s)<<12|(63&o)<<6|63&a))}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),(this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e)>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function uo(e){return co(void 0,e)}function co(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=co(e[n],t[n]));return e}var lo=(ho.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},ho);function ho(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}function fo(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0;if(!(t=e.sub||e.user_id))throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");return e=Yi({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:t,user_id:t,firebase:{sign_in_provider:"custom",identities:{}}},e),[so.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),so.encodeString(JSON.stringify(e),!1),""].join(".")}function po(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function vo(){return"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po())}function go(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function yo(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mo(){return!0===io.NODE_ADMIN}function bo(){return"indexedDB"in self&&null!=indexedDB}function _o(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function wo(){return!(!navigator||!navigator.cookieEnabled)}var Eo,To="FirebaseError",Io=($i(So,Eo=Error),So);function So(e,t,n){return(t=Eo.call(this,t)||this).code=e,t.customData=n,t.name=To,Object.setPrototypeOf(t,So.prototype),Error.captureStackTrace&&Error.captureStackTrace(t,Co.prototype.create),t}var Co=(ko.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,i=t[0]||{},o=this.service+"/"+e;return e=(e=this.errors[e])?(r=i,e.replace(Oo,(function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}))):"Error",e=this.serviceName+": "+e+" ("+o+").",new Io(o,e,i)},ko);function ko(e,t,n){this.service=e,this.serviceName=t,this.errors=n}var Oo=/\{\$([^}]+)}/g;function Po(e){return JSON.parse(e)}function xo(e){return JSON.stringify(e)}function No(e){var t={},n={},r={},i="";try{var o=e.split(".");t=Po(ro(o[0])||""),n=Po(ro(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}}var Ao=function(e){return"object"==typeof(e=No(e).claims)&&e.hasOwnProperty("iat")?e.iat:null};function Ro(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Do(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function jo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Lo(e,t,n){var r,i={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Mo(e){for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=r[n];!function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}(i[0],i[1])}return t.length?"&"+t.join("&"):""}var Fo=(Uo.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Uo.prototype.compress_=function(e,t){t=t||0;var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){var h=r<40?r<20?(o=c^s&(u^c),1518500249):(o=s^u^c,1859775393):r<60?(o=s&u|c&(s|u),2400959708):(o=s^u^c,3395469782);i=(a<<5|a>>>27)+o+l+h+n[r]&4294967295,l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},Uo.prototype.update=function(e,t){if(null!=e){for(var n=(t=void 0===t?e.length:t)-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},Uo.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;56<=n;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;0<=i;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},Uo);function Uo(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}function qo(e,t){return(t=new Vo(e,t)).subscribe.bind(t)}var Vo=(Bo.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},Bo.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},Bo.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},Bo.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");return void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e)?e:{next:e,error:t,complete:n}).next&&(r.next=zo),void 0===r.error&&(r.error=zo),void 0===r.complete&&(r.complete=zo),n=this.unsubscribeOne.bind(this,this.observers.length),this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),n},Bo.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],--this.observerCount,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Bo.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},Bo.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))},Bo.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},Bo);function Bo(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}function zo(){}function Ko(e,t,n,r){var i;if(r<t?i="at least "+t:n<r&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function Wo(e,t){return e+" failed: "+t+" argument "}function Ho(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Wo(e,t)+"must be a valid function.")}function Go(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Wo(e,t)+"must be a valid context object.")}function Qo(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:55296<=r&&r<=56319?(t+=4,n++):t+=3}return t}var $o=1e3,Yo=2,Xo=144e5,Jo=.5;function Zo(e,t,n){return void 0===n&&(n=Yo),n=(t=void 0===t?$o:t)*Math.pow(n,e),e=Math.round(Jo*n*(Math.random()-.5)*2),Math.min(Xo,n+e)}function ea(e){return e&&e._delegate?e._delegate:e}var ta=(na.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},na.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},na.prototype.setServiceProps=function(e){return this.serviceProps=e,this},na.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},na);function na(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}var ra="[DEFAULT]",ia=(oa.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)&&(e=new lo,this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize()))try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}return this.instancesDeferred.get(t).promise},oa.prototype.getImmediate=function(e){var t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier);if(e=null!==(e=null==e?void 0:e.optional)&&void 0!==e&&e,!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(e)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(t){if(e)return null;throw t}},oa.prototype.getComponent=function(){return this.component},oa.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ra})}catch(e){}try{for(var r=Zi(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=eo(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(e){}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},oa.prototype.clearInstance=function(e){this.instancesDeferred.delete(e=void 0===e?ra:e),this.instances.delete(e)},oa.prototype.delete=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(to(to([],eo(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),eo(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},oa.prototype.isComponentSet=function(){return null!=this.component},oa.prototype.isInitialized=function(e){return this.instances.has(e=void 0===e?ra:e)},oa.prototype.initialize=function(e){var t,n,r=void 0===(r=(e=void 0===e?{}:e).options)?{}:r,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(this.name+"("+i+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var o=this.getOrInitializeService({instanceIdentifier:i,options:r});try{for(var a=Zi(this.instancesDeferred.entries()),s=a.next();!s.done;s=a.next()){var u=eo(s.value,2),c=u[0],l=u[1];i===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o},oa.prototype.onInit=function(e,t){var n=this.normalizeInstanceIdentifier(t),r=null!==(t=this.onInitCallbacks.get(n))&&void 0!==t?t:new Set;return r.add(e),this.onInitCallbacks.set(n,r),(t=this.instances.get(n))&&e(t,n),function(){r.delete(e)}},oa.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=Zi(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},oa.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n;if(!(e=this.instances.get(t))&&this.component&&(e=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t)===ra?void 0:n,options:r}),this.instances.set(t,e),this.invokeOnInitCallbacks(e,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,e)}catch(e){}return e||null},oa.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=ra),!this.component||this.component.multipleInstances?e:ra},oa.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},oa);function oa(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}var aa=(sa.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},sa.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},sa.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new ia(e,this);return this.providers.set(e,t),t},sa.prototype.getProviders=function(){return Array.from(this.providers.values())},sa);function sa(e){this.name=e,this.providers=new Map}var ua,ca=[];function la(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=da[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,to(["["+i+"]  "+e.name+":"],n))}}(li=ua=ua||{})[li.DEBUG=0]="DEBUG",li[li.VERBOSE=1]="VERBOSE",li[li.INFO=2]="INFO",li[li.WARN=3]="WARN",li[li.ERROR=4]="ERROR",li[li.SILENT=5]="SILENT";var ha={debug:ua.DEBUG,verbose:ua.VERBOSE,info:ua.INFO,warn:ua.WARN,error:ua.ERROR,silent:ua.SILENT},fa=ua.INFO,da=((Q={})[ua.DEBUG]="log",Q[ua.VERBOSE]="log",Q[ua.INFO]="info",Q[ua.WARN]="warn",Q[ua.ERROR]="error",Q),pa=(Object.defineProperty(va.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in ua))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),va.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?ha[e]:e},Object.defineProperty(va.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(va.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),va.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,ua.DEBUG],e)),this._logHandler.apply(this,to([this,ua.DEBUG],e))},va.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,ua.VERBOSE],e)),this._logHandler.apply(this,to([this,ua.VERBOSE],e))},va.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,ua.INFO],e)),this._logHandler.apply(this,to([this,ua.INFO],e))},va.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,ua.WARN],e)),this._logHandler.apply(this,to([this,ua.WARN],e))},va.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,to([this,ua.ERROR],e)),this._logHandler.apply(this,to([this,ua.ERROR],e))},va);function va(e){this.name=e,this._logLevel=fa,this._logHandler=la,this._userLogHandler=null,ca.push(this)}function ga(e){ca.forEach((function(t){t.setLogLevel(e)}))}function ya(e,t){for(var n=0,r=ca;n<r.length;n++)!function(n){var r=null;t&&t.level&&(r=ha[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:ua[n].toLowerCase(),message:a,args:i,type:t.name})}}(r[n])}(G={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",G["bad-app-name"]="Illegal App name: '{$appName}",G["duplicate-app"]="Firebase App named '{$appName}' already exists",G["app-deleted"]="Firebase App named '{$appName}' already deleted",G["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",G["invalid-log-argument"]="First argument to `onLog` must be null or a function.";var ma=new Co("app","Firebase",li=G),ba="@firebase/app",_a="[DEFAULT]",wa=((Q={})[ba]="fire-core",Q["@firebase/analytics"]="fire-analytics",Q["@firebase/app-check"]="fire-app-check",Q["@firebase/auth"]="fire-auth",Q["@firebase/database"]="fire-rtdb",Q["@firebase/functions"]="fire-fn",Q["@firebase/installations"]="fire-iid",Q["@firebase/messaging"]="fire-fcm",Q["@firebase/performance"]="fire-perf",Q["@firebase/remote-config"]="fire-rc",Q["@firebase/storage"]="fire-gcs",Q["@firebase/firestore"]="fire-fst",Q["fire-js"]="fire-js",Q["firebase-wrapper"]="fire-js-all",Q),Ea=new pa("@firebase/app"),Ta=(Object.defineProperty(Ia.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ia.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ia.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},Ia.prototype._getService=function(e,t){void 0===t&&(t=_a),this.checkDestroyed_();var n=this.container.getProvider(e);return n.isInitialized()||"EXPLICIT"!==(null===(e=n.getComponent())||void 0===e?void 0:e.instantiationMode)||n.initialize(),n.getImmediate({identifier:t})},Ia.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=_a),this.container.getProvider(e).clearInstance(t)},Ia.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){Ea.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},Ia.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},Ia.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ia.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ma.create("app-deleted",{appName:this.name_})},Ia);function Ia(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=uo(e),this.container=new aa(t.name),this._addComponent(new ta("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}Ta.prototype.name&&Ta.prototype.options||Ta.prototype.delete||console.log("dc");var Sa="8.7.1";function Ca(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;if(void 0===o.name&&(o.name=_a),"string"!=typeof(i=o.name)||!i)throw ma.create("bad-app-name",{appName:String(i)});if(Ro(t,i))throw ma.create("duplicate-app",{appName:i});return o=new e(n,o,r),t[i]=o},app:i,registerVersion:function(e,t,n){var r=null!==(i=wa[e])&&void 0!==i?i:e;n&&(r+="-"+n);var i=r.match(/\s|\//);e=t.match(/\s|\//),i||e?(n=['Unable to register library "'+r+'" with version "'+t+'":'],i&&n.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),i&&e&&n.push("and"),e&&n.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),Ea.warn(n.join(" "))):o(new ta(r+"-version",(function(){return{library:r,version:t}}),"VERSION"))},setLogLevel:ga,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw ma.create("invalid-log-argument");ya(e,t)},apps:null,SDK_VERSION:Sa,INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"!==t?t:null}}};function i(e){if(!Ro(t,e=e||_a))throw ma.create("no-app",{appName:e});return t[e]}function o(o){var a,s=o.name;if(n.has(s))return Ea.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;n.set(s,o),"PUBLIC"===o.type&&(a=function(e){if("function"!=typeof(e=void 0===e?i():e)[s])throw ma.create("invalid-app-argument",{appName:s});return e[s]()},void 0!==o.serviceProps&&co(a,o.serviceProps),r[s]=a,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])});for(var u=0,c=Object.keys(t);u<c.length;u++){var l=c[u];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}G=function e(){var t=Ca(Ta);return t.INTERNAL=Yi(Yi({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){co(t,e)},createSubscribe:qo,ErrorFactory:Co,deepExtend:co}),t}();var ka=(Oa.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){return function(e){return"VERSION"===(null==(e=e.getComponent())?void 0:e.type)}(e)?(e=e.getImmediate()).library+"/"+e.version:null})).filter((function(e){return e})).join(" ")},Oa);function Oa(e){this.container=e}"object"==typeof self&&self.self===self&&void 0!==self.firebase&&(Ea.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "),($s=self.firebase.SDK_VERSION)&&0<=$s.indexOf("LITE")&&Ea.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));var Pa=G.initializeApp;G.initializeApp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return}}()&&Ea.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Pa.apply(void 0,e)};var xa,Na,Aa=G;(xa=Aa).INTERNAL.registerComponent(new ta("platform-logger",(function(e){return new ka(e)}),"PRIVATE")),xa.registerVersion(ba,"0.6.28",Na),xa.registerVersion("fire-js",""),Aa.registerVersion("firebase","8.7.1","app"),Aa.SDK_VERSION="8.7.1",function(){var e,n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t,n,r="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return r?r.call(e):{next:(t=e,n=0,function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}})}}!function(e,t){if(t){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(t=t(o=i[e=e[e.length-1]]))!=o&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function o(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){var t;null==this.a&&(this.a=[],(t=this).c((function(){t.g()}))),this.a.push(e)};var a=r.setTimeout;n.prototype.c=function(e){a(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){return void this.g(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(t){o(t)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=o,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=i(e),a=r.next();!a.done;a=r.next())o(a.value).Ra(t,n)}))},t.all=function(e){var n=i(e),r=n.next();return r.done?o([]):new t((function(e,t){for(var i=[],a=0;i.push(void 0),a++,o(r.value).Ra(function(t){return function(n){i[t]=n,0==--a&&e(i)}}(i.length-1),t),!(r=n.next()).done;);}))},t}));var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""}function l(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function f(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){return"function"==h(e)}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function m(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:m).apply(null,arguments)}function _(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function w(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function E(e){return e}function T(e,t,n){this.code=C+e,this.message=t||k[e]||"",this.a=n||null}function I(e){var t=e&&e.code;return t?new T(t.substring(C.length),e.message,e.serverResponse):null}w(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var S,C="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function P(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function x(e){if(e)try{return e.$goog_Thenable}catch(e){return}}function N(e){var t;Error.captureStackTrace?Error.captureStackTrace(this,N):(t=Error().stack)&&(this.stack=t),e&&(this.message=String(e))}function A(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");N.call(this,n+e[r])}function R(e){throw new A("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function D(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),e.b<100&&(e.b++,t.next=e.a,e.a=t)}function L(){this.b=this.a=null}S=P("__EID__")?"__EID__":void 0,w(N,Error),N.prototype.name="CustomError",w(A,N),A.prototype.name="AssertionError",D.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e};var M=new D((function(){return new F}),(function(e){e.reset()}));function F(){this.next=this.b=this.a=null}L.prototype.add=function(e,t){var n=M.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},F.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},F.prototype.reset=function(){this.next=this.b=this.a=null};var U=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},q=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},V=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n,r=e.length,i=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<r;s++)s in a&&(n=a[s],t.call(void 0,n,s,e)&&(i[o++]=n));return i},B=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},z=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=U(e,t)}function W(e,t){var n;return(n=0<=(t=U(e,t)))&&Array.prototype.splice.call(e,t,1),n}function H(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function G(){return Array.prototype.concat.apply([],arguments)}function Q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var $,Y=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},X=/&/g,J=/</g,Z=/>/g,ee=/"/g,te=/'/g,ne=/\x00/g,re=/[\x00&<>"']/;function ie(e,t){return-1!=e.indexOf(t)}function oe(e,t){return e<t?-1:t<e?1:0}var ae=a.navigator;function se(e){return ie($,e)}function ue(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ce(e){for(var t in e)return;return 1}function le(e){var t,n={};for(t in e)n[t]=e[t];return n}$=ae&&(ae=ae.userAgent)?ae:"";var he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fe(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<he.length;i++)t=he[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function de(e,t){e:{try{var n,r=e&&e.ownerDocument;if((n=(n=r&&(r.defaultView||r.parentWindow))||a).Element&&n.Location){var i=n;break e}}catch(e){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(p(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function pe(e,t){this.a=e===me&&t||"",this.b=ye}function ve(e){return e instanceof pe&&e.constructor===pe&&e.b===ye?e.a:(R("expected object of type Const, got '"+e+"'"),"type_error:Const")}pe.prototype.ta=!0,pe.prototype.sa=function(){return this.a},pe.prototype.toString=function(){return"Const{"+this.a+"}"};var ge,ye={},me={};function be(){if(void 0===ge){var e=null,t=a.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(e){a.console&&a.console.error(e.message)}ge=e}else ge=e}return ge}function _e(e,t){this.a=t===Se?e:""}function we(e){return e instanceof _e&&e.constructor===_e?e.a:(R("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ee(e,t){var n,r=ve(e);if(!Ie.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);return e=r.replace(Te,(function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof pe?ve(e):encodeURIComponent(String(e))})),n=e,new _e(n=(e=be())?e.createScriptURL(n):n,Se)}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a.toString()},_e.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Te=/%{(\w+)}/g,Ie=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Se={};function Ce(e,t){this.a=t===Re?e:""}function ke(e){return e instanceof Ce&&e.constructor===Ce?e.a:(R("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Oe=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pe=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,xe=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ne(e){return e instanceof Ce?e:(e="object"==typeof e&&e.ta?e.sa():String(e),e=xe.test(e)||(t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Pe))&&Oe.test(t[1])?new Ce(e,Re):null);var t}function Ae(e){return e instanceof Ce?e:(e="object"==typeof e&&e.ta?e.sa():String(e),new Ce(e=xe.test(e)?e:"about:invalid#zClosurez",Re))}var Re={},De=new Ce("about:invalid#zClosurez",Re);function je(e,t,n){this.a=n===Le?e:""}je.prototype.ta=!0,je.prototype.sa=function(){return this.a.toString()},je.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Le={};function Me(e,t,n,r){return e=e instanceof Ce?e:Ae(e),t=t||a,n=n instanceof pe?ve(n):n||"",t.open(ke(e),n,r,void 0)}function Fe(e){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")}function Ue(e){return re.test(e)&&-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=(e=-1!=e.indexOf("&")?e.replace(X,"&amp;"):e).indexOf("<")?e.replace(J,"&lt;"):e).indexOf(">")?e.replace(Z,"&gt;"):e).indexOf('"')?e.replace(ee,"&quot;"):e).indexOf("'")?e.replace(te,"&#39;"):e).indexOf("\0")&&(e=e.replace(ne,"&#0;")),e}function qe(e){return qe[" "](e),e}qe[" "]=l;var Ve,Be=se("Opera"),ze=se("Trident")||se("MSIE"),Ke=se("Edge"),We=Ke||ze,He=se("Gecko")&&!(ie($.toLowerCase(),"webkit")&&!se("Edge"))&&!(se("Trident")||se("MSIE"))&&!se("Edge"),Ge=ie($.toLowerCase(),"webkit")&&!se("Edge");function Qe(){var e=a.document;return e?e.documentMode:void 0}var $e="",Ye=(Ye=$,He?/rv:([^\);]+)(\)|;)/.exec(Ye):Ke?/Edge\/([\d\.]+)/.exec(Ye):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):Ge?/WebKit\/(\S+)/.exec(Ye):Be?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);Ye&&($e=Ye?Ye[1]:""),Ve=ze&&null!=(Ye=Qe())&&Ye>parseFloat($e)?String(Ye):$e;var Xe={};function Je(e){return t=e,n=function(){for(var t=0,n=Y(String(Ve)).split("."),r=Y(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++)for(var a=n[o]||"",s=r[o]||"";a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],(0!=a[0].length||0!=s[0].length)&&(t=oe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||oe(0==a[2].length,0==s[2].length)||oe(a[2],s[2]),a=a[3],s=s[3],0==t););return 0<=t},r=Xe,Object.prototype.hasOwnProperty.call(r,t)?r[t]:r[t]=n(t);var t,n,r}var Ze=a.document&&ze&&(Qe()||parseInt(Ve,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var et=!ze||9<=Number(Ze);function tt(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function nt(e,t){ue(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ot.hasOwnProperty(n)?e.setAttribute(ot[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var rt,it,ot={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function at(){var e,t=arguments,n=document,r=String(t[0]),i=t[1];return!et&&i&&(i.name||i.type)&&(r=["<",r],i.name&&r.push(' name="',Ue(i.name),'"'),i.type&&(r.push(' type="',Ue(i.type),'"'),fe(e={},i),delete e.type,i=e),r.push(">"),r=r.join("")),r=st(n,r),i&&("string"==typeof i?r.className=i:Array.isArray(i)?r.className=i.join(" "):nt(r,i)),2<t.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||p(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(p(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(d(o)){a="function"==typeof o.item;break e}}a=!1}q(a?Q(o):o,r)}}}(n,r,t),r}function st(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function ut(e){a.setTimeout((function(){throw e}),0)}function ct(e,t){it||function(){var e;it=a.Promise&&a.Promise.resolve?(e=a.Promise.resolve(void 0),function(){e.then(ft)}):function(){var e=ft;!d(a.setImmediate)||a.Window&&a.Window.prototype&&!se("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(rt=rt||function(){var e=a.MessageChannel;if(void 0===(e=void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!se("Presto")?function(){var e=st(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}:e)||se("Trident")||se("MSIE"))return function(e){a.setTimeout(e,0)};var t=new e,n={},r=n;return t.port1.onmessage=function(){var e;void 0!==n.next&&(e=(n=n.next).Hb,n.Hb=null,e())},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}())(e):a.setImmediate(e)}}(),lt||(it(),lt=!0),ht.add(e,t)}var lt=!1,ht=new L;function ft(){for(var e,t;t=e=void 0,t=null,(e=ht).a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t=t;){try{t.a.call(t.b)}catch(e){ut(e)}j(M,t)}lt=!1}function dt(e,t){if(this.a=pt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=l)try{var n=this;e.call(t,(function(e){Ct(n,vt,e)}),(function(e){if(!(e instanceof Rt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ct(n,gt,e)}))}catch(e){Ct(this,gt,e)}}var pt=0,vt=2,gt=3;function yt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}yt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var mt=new D((function(){return new yt}),(function(e){e.reset()}));function bt(e,t,n){var r=mt.get();return r.g=e,r.b=t,r.f=n,r}function _t(e){if(e instanceof dt)return e;var t=new dt(l);return Ct(t,vt,e),t}function wt(e){return new dt((function(t,n){n(e)}))}function Et(e,t,n){kt(e,t,n,null)||ct(_(t,e))}function Tt(e){return new dt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Et(e[o],_(i,o,!0),_(i,o,!1));else t(r)}))}function It(e,t){e.b||e.a!=vt&&e.a!=gt||Ot(e),e.f?e.f.next=t:e.b=t,e.f=t}function St(e,t,n,r){var i=bt(null,null,null);return i.a=new dt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(n){o(n)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Rt?o(t):e(i)}catch(t){o(t)}}:o})),It(i.a.c=e,i),i.a}function Ct(e,t,n){var r,i;e.a==pt&&(e===n&&(t=gt,n=new TypeError("Promise cannot resolve to itself")),e.a=1,kt(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ot(e),t!=gt||n instanceof Rt||(i=n,(r=e).g=!0,ct((function(){r.g&&At.call(null,i)})))))}function kt(e,t,n,r){if(e instanceof dt)return It(e,bt(t||l,n||null,r)),1;if(x(e))return e.then(t,n,r),1;if(p(e))try{var i=e.then;if(d(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,(function(e){a||(a=!0,n.call(i,e))}),o)}catch(e){o(e)}}(e,i,t,n,r),1}catch(e){return n.call(r,e),1}}function Ot(e){e.h||(e.h=!0,ct(e.gc,e))}function Pt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function xt(e,t,n,r){if(n==gt&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Nt(t,n,r);else try{t.c?t.g.call(t.f):Nt(t,n,r)}catch(e){At.call(null,e)}j(mt,t)}function Nt(e,t,n){t==vt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}dt.prototype.then=function(e,t,n){return St(this,d(e)?e:null,d(t)?t:null,n)},dt.prototype.$goog_Thenable=!0,(e=dt.prototype).oa=function(e,t){return(e=bt(e,e,t)).c=!0,It(this,e),this},e.o=function(e,t){return St(this,null,e,t)},e.cancel=function(e){var t;this.a==pt&&(t=new Rt(e),ct((function(){!function e(t,n){if(t.a==pt)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,!((o=s.a==t?s:o)&&1<i)));s=s.next)o||(a=s);o&&(r.a==pt&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Pt(r),xt(r,o,gt,n)))}t.c=null}else Ct(t,gt,n)}(this,t)}),this))},e.$c=function(e){this.a=pt,Ct(this,vt,e)},e.ad=function(e){this.a=pt,Ct(this,gt,e)},e.gc=function(){for(var e;e=Pt(this);)xt(this,e,this.a,this.i);this.h=!1};var At=ut;function Rt(e){N.call(this,e)}function Dt(){this.ya=this.ya,this.pa=this.pa}w(Rt,N);var jt=0,Lt={};function Mt(e){e.ya||(e.ya=!0,e.Da(),0==jt)||(e=e,e=Object.prototype.hasOwnProperty.call(e,v)&&e[v]||(e[v]=++g),delete Lt[e])}Dt.prototype.ya=!(Rt.prototype.name="cancel"),Dt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ft=Object.freeze||function(e){return e},Ut=!ze||9<=Number(Ze),qt=ze&&!Je("9"),Vt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",l,t),a.removeEventListener("test",l,t)}catch(e){}return e}();function Bt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function zt(e,t){if(Bt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(He){e:{try{qe(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Kt[e.pointerType]||"",(this.a=e).defaultPrevented&&this.preventDefault()}}Bt.prototype.preventDefault=function(){this.defaultPrevented=!0},w(zt,Bt);var Kt=Ft({2:"touch",3:"pen",4:"mouse"});zt.prototype.preventDefault=function(){zt.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,qt)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},zt.prototype.g=function(){return this.a};var Wt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Gt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++Ht,this.wa=this.Qa=!1}function Qt(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function $t(e){this.src=e,this.a={},this.b=0}function Yt(e,t){var n=t.type;n in e.a&&W(e.a[n],t)&&(Qt(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function Xt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}$t.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=Xt(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new Gt(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var Jt="closure_lm_"+(1e6*Math.random()|0),Zt={};function en(e,t,n,r,i){if(r&&r.once)nn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)en(e,t[o],n,r,i);else n=fn(n),e&&e[Wt]?pn(e,t,n,p(r)?!!r.capture:!!r,i):tn(e,t,n,!1,r,i)}function tn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s,u=p(i)?!!i.capture:!!i,c=ln(e);if(c||(e[Jt]=c=new $t(e)),!(n=c.add(t,n,r,u,o)).proxy)if(a=cn,s=Ut?function(e){return a.call(s.src,s.listener,e)}:function(e){if(!(e=a.call(s.src,s.listener,e)))return e},(n.proxy=r=s).src=e,r.listener=n,e.addEventListener)void 0===(i=Vt?i:u)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(an(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function nn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)nn(e,t[o],n,r,i);else n=fn(n),e&&e[Wt]?vn(e,t,n,p(r)?!!r.capture:!!r,i):tn(e,t,n,!0,r,i)}function rn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)rn(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=fn(n),e&&e[Wt]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=Xt(o=e.a[t],n,r,i))&&(Qt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):(e=e&&ln(e))&&(t=e.a[t.toString()],(n=(e=-1)<(e=t?Xt(t,n,r,i):e)?t[e]:null)&&on(n))}function on(e){var t,n,r;"number"!=typeof e&&e&&!e.wa&&((t=e.src)&&t[Wt]?Yt(t.v,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(an(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ln(t))?(Yt(n,e),0==n.b&&(n.src=null,t[Jt]=null)):Qt(e)))}function an(e){return e in Zt?Zt[e]:Zt[e]="on"+e}function sn(e,t,n,r){var i=!0;if((e=ln(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=un(o,r),i=i&&!1!==o)}return i}function un(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&on(e),n.call(r,t)}function cn(e,t){if(e.wa)return!0;if(Ut)return un(e,new zt(t,this));if(!t)e:{t=["window","event"];for(var n=a,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new zt(r=t,this),n=!0,!(r.keyCode<0||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){i=!0}!i&&null!=r.returnValue||(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=sn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=sn(r[i],e,!1,t),n=n&&o}return n}function ln(e){return(e=e[Jt])instanceof $t?e:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(e){return d(e)?e:(e[hn]||(e[hn]=function(t){return e.handleEvent(t)}),e[hn])}function dn(){Dt.call(this),this.v=new $t(this),(this.bc=this).hb=null}function pn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function vn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function gn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.wa&&u.capture==n&&(a=u.listener,s=u.Wa||u.src,u.Qa&&Yt(e.v,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}function yn(e,t,n){if(d(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function mn(e){var t=null;return new dt((function(n,r){-1==(t=yn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw a.clearTimeout(t),e}))}function bn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function _n(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(f(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function wn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof wn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function En(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Tn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Tn(i,r=e.a[t])||(i[e.a[n++]=r]=1),t++;e.a.length=n}}function Tn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(dn,Dt),dn.prototype[Wt]=!0,dn.prototype.addEventListener=function(e,t,n,r){en(this,e,t,n,r)},dn.prototype.removeEventListener=function(e,t,n,r){rn(this,e,t,n,r)},dn.prototype.dispatchEvent=function(e){var t;if(n=this.hb)for(t=[];n;n=n.hb)t.push(n);var n=this.bc,r=e.type||e;if("string"==typeof e?e=new Bt(e,n):e instanceof Bt?e.target=e.target||n:(a=e,fe(e=new Bt(r,n),a)),a=!0,t)for(var i=t.length-1;0<=i;i--)var o=e.b=t[i],a=gn(o,r,!0,e)&&a;if(a=gn(o=e.b=n,r,!0,e)&&a,a=gn(o,r,!1,e)&&a,t)for(i=0;i<t.length;i++)a=gn(o=e.b=t[i],r,!1,e)&&a;return a},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)Qt(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=wn.prototype).X=function(){En(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return En(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Tn(this.b,e)?this.b[e]:t},e.set=function(e,t){Tn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var In=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Sn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Sn?(this.i=void 0!==t?t:e.i,Cn(this,e.c),this.l=e.l,this.a=e.a,kn(this,e.g),this.f=e.f,On(this,Gn(e.b)),this.h=e.h):e&&(n=String(e).match(In))?(this.i=!!t,Cn(this,n[1]||"",!0),this.l=Rn(n[2]||""),this.a=Rn(n[3]||"",!0),kn(this,n[4]),this.f=Rn(n[5]||"",!0),On(this,n[6]||"",!0),this.h=Rn(n[7]||"")):(this.i=!!t,this.b=new Vn(null,this.i))}function Cn(e,t,n){e.c=n?Rn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function kn(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.g=t}else e.g=null}function On(e,t,n){var r,i;t instanceof Vn?(e.b=t,r=e.b,(i=e.i)&&!r.f&&(Bn(r),r.c=null,r.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Kn(this,t),Hn(this,n,e))}),r)),r.f=i):(n||(t=Dn(t,Un)),e.b=new Vn(t,e.i))}function Pn(e,t,n){e.b.set(t,n)}function xn(e,t){return e.b.get(t)}function Nn(e){return e instanceof Sn?new Sn(e):new Sn(e,void 0)}function An(e,t,n,r){var i=new Sn(null,void 0);return e&&Cn(i,e),t&&(i.a=t),n&&kn(i,n),r&&(i.f=r),i}function Rn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Dn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,jn),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function jn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Sn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Dn(t,Ln,!0),":");var n=this.a;return!n&&"file"!=t||(e.push("//"),(t=this.l)&&e.push(Dn(t,Ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Dn(n,"/"==n.charAt(0)?Fn:Mn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Dn(n,qn)),e.join("")},Sn.prototype.resolve=function(e){var t=new Sn(this),n=!!e.c;n?Cn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)kn(t,e.g);else if(n=!!e.f)if("/"!=r.charAt(0)&&(this.a&&!this.f?r="/"+r:-1!=(i=t.f.lastIndexOf("/"))&&(r=t.f.substr(0,i+1)+r)),".."==(i=r)||"."==i)r="";else if(ie(i,"./")||ie(i,"/.")){r=0==i.lastIndexOf("/",0);for(var i=i.split("/"),o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i;return n?t.f=r:n=""!==e.b.toString(),n?On(t,Gn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Ln=/[#\/\?@]/g,Mn=/[#\?:]/g,Fn=/[#\?]/g,Un=/[#\?@]/g,qn=/#/g;function Vn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Bn(e){e.a||(e.a=new wn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function zn(e){var t=_n(e);if(void 0===t)throw Error("Keys are undefined");var n=new Vn(null,void 0);e=bn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Hn(n,i,o):n.add(i,o)}return n}function Kn(e,t){Bn(e),t=Qn(e,t),Tn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Tn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&En(e)))}function Wn(e,t){return Bn(e),t=Qn(e,t),Tn(e.a.b,t)}function Hn(e,t,n){Kn(e,t),0<n.length&&(e.c=null,e.a.set(Qn(e,t),Q(n)),e.b+=n.length)}function Gn(e){var t=new Vn;return t.c=e.c,e.a&&(t.a=new wn(e.a),t.b=e.b),t}function Qn(e,t){return t=String(t),e.f?t.toLowerCase():t}function $n(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Zn(i,r),r.push(":"),e(t,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Zn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Yn,e,t),t.join("")}function Yn(){}(e=Vn.prototype).add=function(e,t){Bn(this),this.c=null,e=Qn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){Bn(this),this.a.forEach((function(n,r){q(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){Bn(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){Bn(this);var t=[];if("string"==typeof e)Wn(this,e)&&(t=G(t,this.a.get(Qn(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=G(t,e[n])}return t},e.set=function(e,t){return Bn(this),this.c=null,Wn(this,e=Qn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.X(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.c=e.join("&")};var Xn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Jn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Zn(e,t){t.push('"',e.replace(Jn,(function(e){var t=Xn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Xn[e]=t),t})),'"')}function er(){var e=br();return ze&&Ze&&11==Ze||/Edge\/\d+/.test(e)}function tr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function nr(e,t){t=t||a.window;var n="about:blank";e&&(n=ke(Ne(e)||De)),t.location.href=n}function rr(e){return!!((e=(e||br()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function ir(e){e=e||a.window;try{e.close()}catch(e){}}function or(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=br().toLowerCase(),r&&(t.target=r,ie(n,"crios/")&&(t.target="_blank")),gr(br())==pr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ce?n:Ne(void 0!==n.href?n.href:String(n))||De,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((se("iPhone")&&!se("iPod")&&!se("iPad")||se("iPad")||se("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(de(a=st(document,"A"),"HTMLAnchorElement"),t=t instanceof Ce?t:Ae(t),a.href=ke(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Me("",r,n,a),e=ke(t),a&&(We&&ie(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ue(e)+'">',e=new je(e=(r=be())?r.createHTML(e):e,0,Le),r=a.document)&&(r.write((o=e)instanceof je&&o.constructor===je?o.a:(R("expected object of type SafeHtml, got '"+o+"' of type "+h(o)),"type_error:SafeHtml")),r.close())):(a=Me(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var ar=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sr=/^[^@]+@[^@]+$/;function ur(){var e=null;return new dt((function(t){"complete"==a.document.readyState?t():(e=function(){t()},nn(window,"load",e))})).o((function(t){throw rn(window,"load",e),t}))}function cr(e){return e=e||br(),!("file:"!==Ir()&&"ionic:"!==Ir()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){var e=a.window;try{return e&&e!=e.top}catch(e){return}}function hr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function fr(){return Aa.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Aa.INTERNAL.hasOwnProperty("node")?"Node":hr()?"Worker":"Browser"}function dr(){var e=fr();return"ReactNative"===e||"Node"===e}var pr="Firefox",vr="Chrome";function gr(e){var t=e.toLowerCase();return ie(t,"opera/")||ie(t,"opr/")||ie(t,"opios/")?"Opera":ie(t,"iemobile")?"IEMobile":ie(t,"msie")||ie(t,"trident/")?"IE":ie(t,"edge/")?"Edge":ie(t,"firefox/")?pr:ie(t,"silk/")?"Silk":ie(t,"blackberry")?"Blackberry":ie(t,"webos")?"Webos":!ie(t,"safari/")||ie(t,"chrome/")||ie(t,"crios/")||ie(t,"android")?!ie(t,"chrome/")&&!ie(t,"crios/")||ie(t,"edge/")?ie(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":vr:"Safari"}var yr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function mr(e,t){t=t||[];var n,r=[],i={};for(n in yr)i[yr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=fr())?r=gr(i=br()):"Worker"===r&&(r=gr(i=br())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function br(){return a.navigator&&a.navigator.userAgent||""}function _r(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length?void 0:t}function wr(){try{var e=a.localStorage,t=Pr();if(e)return e.setItem(t,"1"),e.removeItem(t),!er()||!!a.indexedDB}catch(e){return hr()&&!!a.indexedDB}return!1}function Er(){return(Tr()||"chrome-extension:"===Ir()||cr())&&!dr()&&wr()&&!hr()}function Tr(){return"http:"===Ir()||"https:"===Ir()}function Ir(){return a.location&&a.location.protocol||null}function Sr(e){return!rr(e=e||br())&&gr(e)!=pr}function Cr(e){return void 0===e?null:$n(e)}function kr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Or(e){if(null!==e)return JSON.parse(e)}function Pr(e){return e||Math.floor(1e9*Math.random()).toString()}function xr(e){return"Safari"!=gr(e=e||br())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Nr(){var e=a.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Ar(e,t){if(t<e)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=br(),t=fr(),this.b=rr(e)||"ReactNative"===t}function Rr(){var e=a.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Dr(){var e=a.document,t=null;return Rr()||!e?_t():new dt((function(n){t=function(){Rr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}function jr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function Lr(){return _r("fireauth.oauthhelper",a)||_r("fireauth.iframe",a)}Ar.prototype.get=function(){var e=a.navigator;return!e||"boolean"!=typeof e.onLine||!Tr()&&"chrome-extension:"!==Ir()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Mr,Fr={};function Ur(e){Fr[e]||(Fr[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var qr={};Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Mr=2==qr.abcd}catch(e){Mr=!1}function Vr(e,t,n){Mr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Br(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Vr(e,n,t[n])}function zr(e){var t={};return Br(t,e),t}function Kr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Vr(t,n,Kr(e[n]));return t}function Wr(e){var t=e&&(e[Yr]?"phone":null);if(!(t&&e&&e[$r]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");Vr(this,"uid",e[$r]),Vr(this,"displayName",e[Gr]||null);var n=null;Vr(this,"enrollmentTime",n=e[Qr]?new Date(e[Qr]).toUTCString():n),Vr(this,"factorId",t)}function Hr(e){try{var t=new Xr(e)}catch(e){t=null}return t}Wr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Gr="displayName",Qr="enrolledAt",$r="mfaEnrollmentId",Yr="phoneInfo";function Xr(e){Wr.call(this,e),Vr(this,"phoneNumber",e[Yr])}function Jr(e){var t={},n=e[ni],r=e[ii],i=e[oi];if(e=Hr(e[ri]),!i||i!=ei&&i!=ti&&!n||i==ti&&!r||i==Zr&&!e)throw Error("Invalid checkActionCode response!");i==ti?(t[si]=n||null,t[ci]=n||null,t[ai]=r):(t[si]=r||null,t[ci]=r||null,t[ai]=n||null),t[ui]=e||null,Vr(this,hi,i),Vr(this,li,Kr(t))}w(Xr,Wr),Xr.prototype.w=function(){var e=Xr.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var Zr="REVERT_SECOND_FACTOR_ADDITION",ei="EMAIL_SIGNIN",ti="VERIFY_AND_CHANGE_EMAIL",ni="email",ri="mfaInfo",ii="newEmail",oi="requestType",ai="email",si="fromEmail",ui="multiFactorInfo",ci="previousEmail",li="data",hi="operation";function fi(e){var t=xn(e=Nn(e),di)||null,n=xn(e,pi)||null,r=(r=xn(e,yi)||null)&&bi[r]||null;if(!t||!n||!r)throw new T("argument-error",di+", "+pi+"and "+yi+" are required in a valid action code URL.");Br(this,{apiKey:t,operation:r,code:n,continueUrl:xn(e,vi)||null,languageCode:xn(e,gi)||null,tenantId:xn(e,mi)||null})}var di="apiKey",pi="oobCode",vi="continueUrl",gi="languageCode",yi="mode",mi="tenantId",bi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Zr,signIn:ei,verifyAndChangeEmail:ti,verifyEmail:"VERIFY_EMAIL"};function _i(e){try{return new fi(e)}catch(e){return null}}function wi(e){if(void 0===(t=e[Ci]))throw new T("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new T("invalid-continue-uri");if(this.h=t,this.b=this.a=null,this.g=!1,(r=e[Ei])&&"object"==typeof r){var t=r[Pi],n=r[ki],r=r[Oi];if("string"==typeof t&&t.length){if(this.a=t,void 0!==n&&"boolean"!=typeof n)throw new T("argument-error",ki+" property must be a boolean when specified.");if(this.g=!!n,void 0!==r&&("string"!=typeof r||"string"==typeof r&&!r.length))throw new T("argument-error",Oi+" property must be a non empty string when specified.");this.b=r||null}else{if(void 0!==t)throw new T("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==n||void 0!==r)throw new T("missing-android-pkg-name")}}else if(void 0!==r)throw new T("argument-error",Ei+" property must be a non null object when specified.");if(this.f=null,(t=e[Si])&&"object"==typeof t){if("string"==typeof(t=t[xi])&&t.length)this.f=t;else if(void 0!==t)throw new T("argument-error",xi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new T("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(t=e[Ii])&&"boolean"!=typeof t)throw new T("argument-error",Ii+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ti])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new T("argument-error",Ti+" property must be a non empty string when specified.");this.i=e||null}var Ei="android",Ti="dynamicLinkDomain",Ii="handleCodeInApp",Si="iOS",Ci="url",ki="installApp",Oi="minimumVersion",Pi="packageName",xi="bundleId";function Ni(e){var t,n={};for(t in n.continueUrl=e.h,n.canHandleCodeInApp=e.c,(n.androidPackageName=e.a)&&(n.androidMinimumVersion=e.b,n.androidInstallApp=e.g),n.iOSBundleId=e.f,n.dynamicLinkDomain=e.i,n)null===n[t]&&delete n[t];return n}var Ai=null;function Ri(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ai[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ai){Ai={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ai[o]&&(Ai[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Di(e){var t=Li(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function ji(e){try{return new Di(e)}catch(e){return null}}function Li(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Ri(e);for(e=[],n=t=0;t<r.length;){var i,o,a,s=r[t++];s<128?e[n++]=String.fromCharCode(s):191<s&&s<224?(i=r[t++],e[n++]=String.fromCharCode((31&s)<<6|63&i)):239<s&&s<365?(a=((7&s)<<18|(63&(i=r[t++]))<<12|(63&(o=r[t++]))<<6|63&r[t++])-65536,e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))):(i=r[t++],o=r[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&o))}return JSON.parse(e.join(""))}catch(e){}return null}Di.prototype.T=function(){return this.f},Di.prototype.l=function(){return this.c},Di.prototype.toString=function(){return this.h};var Mi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Fi=["client_id","response_type","scope","redirect_uri","state"],Ui={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Fi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Fi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Fi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Mi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function qi(e){for(var t in Ui)if(Ui[t].fa==e)return Ui[t];return null}function Vi(e){var t={};t["facebook.com"]=Hi,t["google.com"]=Qi,t["github.com"]=Gi,t["twitter.com"]=$i;var n=e&&e[zi];try{if(n)return new(t[n]||Wi)(e);if(void 0!==e[Bi])return new Ki(e)}catch(e){}return null}var Bi="idToken",zi="providerId";function Ki(e){var t,n=e[zi];if(n||!e[Bi]||(t=ji(e[Bi]))&&t.b&&(n=t.b),!n)throw Error("Invalid additional user info!");t=!1,void 0!==e.isNewUser?t=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(t=!0),Vr(this,"providerId",n="anonymous"==n||"custom"==n?null:n),Vr(this,"isNewUser",t)}function Wi(e){Ki.call(this,e),Vr(this,"profile",Kr((e=Or(e.rawUserInfo||"{}"))||{}))}function Hi(e){if(Wi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Gi(e){if(Wi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function Qi(e){if(Wi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(e){if(Wi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",e.screenName||null)}function Yi(e){var t=xn(r=Nn(e),"link"),n=xn(Nn(t),"link"),r=xn(r,"deep_link_id");return xn(Nn(r),"link")||r||n||t||e}function Xi(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?Ji:Zi}w(Wi,Ki),w(Hi,Wi),w(Gi,Wi),w(Qi,Wi),w($i,Wi);var Ji="enroll",Zi="signin";function eo(){}function to(e,t){return e.then((function(e){if(e[Wa]){var n=ji(e[Wa]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==C+"user-not-found"?new T("user-mismatch"):e}))}function no(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,Vr(this,"providerId",e),Vr(this,"signInMethod",e)}function ro(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function io(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new no(e.providerId,e.pendingToken)}catch(e){}return null}function oo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Vr(this,"idToken",t.idToken),t.accessToken&&Vr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Vr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");Vr(this,"accessToken",t.oauthToken),Vr(this,"secret",t.oauthTokenSecret)}Vr(this,"providerId",e),Vr(this,"signInMethod",n)}function ao(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:zn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function so(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new oo(e.providerId,t,e.signInMethod)}catch(e){}}return null}function uo(e,t){this.Qc=t||[],Br(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(qi(e)||{}).Ja||null,this.pb=null}function co(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,e,[])}function lo(e){uo.call(this,e,Fi),this.a=[]}function ho(){lo.call(this,"facebook.com")}function fo(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new ho).credential({accessToken:t})}function po(){lo.call(this,"github.com")}function vo(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return p(e)&&(t=e.accessToken),(new po).credential({accessToken:t})}function go(){lo.call(this,"google.com"),this.Ca("profile")}function yo(e,t){var n=e;return p(e)&&(n=e.idToken,t=e.accessToken),(new go).credential({idToken:n,accessToken:t})}function mo(){uo.call(this,"twitter.com",Mi)}function bo(e,t){var n=e;if(!(n=p(n)?n:{oauthToken:e,oauthTokenSecret:t}).oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function _o(e,t,n){this.a=e,this.f=t,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===Eo.EMAIL_LINK_SIGN_IN_METHOD?Eo.EMAIL_LINK_SIGN_IN_METHOD:Eo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function wo(e){return e&&e.email&&e.password?new _o(e.email,e.password,e.signInMethod):null}function Eo(){Br(this,{providerId:"password",isOAuthProvider:!1})}function To(e,t){if(!(t=Io(t)))throw new T("argument-error","Invalid email link!");return new _o(e,t.code,Eo.EMAIL_LINK_SIGN_IN_METHOD)}function Io(e){return(e=_i(e=Yi(e)))&&e.operation===ei?e:null}function So(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,Vr(this,"providerId","phone"),this.fa="phone",Vr(this,"signInMethod","phone")}function Co(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new So(t)}return null}function ko(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Oo(e){try{this.a=e||Aa.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Br(this,{providerId:"phone",isOAuthProvider:!1})}function Po(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new So({fb:e,eb:t})}function xo(e){if(e.temporaryProof&&e.phoneNumber)return new So({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return yo(o,n);case"facebook.com":return fo(n);case"github.com":return vo(n);case"twitter.com":return bo(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new no(t,a):new oo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new lo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(e){return null}}function No(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Ao(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Ro(e){return(e=e||{}).type?new Ao(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&I(e.error),e.postBody,e.tenantId):null}function Do(){this.b=null,this.a=[]}Xi.prototype.Ha=function(){return this.a?_t(this.a):_t(this.b)},Xi.prototype.w=function(){return this.type==Ji?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ka=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.w=function(){},no.prototype.ka=function(e){return ds(e,ro(this))},no.prototype.b=function(e,t){var n=ro(this);return n.idToken=t,ps(e,n)},no.prototype.c=function(e,t){return to(vs(e,ro(this)),t)},no.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.ka=function(e){return ds(e,ao(this))},oo.prototype.b=function(e,t){var n=ao(this);return n.idToken=t,ps(e,n)},oo.prototype.c=function(e,t){return to(vs(e,ao(this)),t)},oo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},uo.prototype.Ka=function(e){return this.Jb=le(e),this},w(co,uo),w(lo,uo),lo.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},lo.prototype.Rb=function(){return Q(this.a)},lo.prototype.credential=function(e,t){if(!(t=p(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!t.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,t,this.providerId)},w(ho,lo),Vr(ho,"PROVIDER_ID","facebook.com"),Vr(ho,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(po,lo),Vr(po,"PROVIDER_ID","github.com"),Vr(po,"GITHUB_SIGN_IN_METHOD","github.com"),w(go,lo),Vr(go,"PROVIDER_ID","google.com"),Vr(go,"GOOGLE_SIGN_IN_METHOD","google.com"),w(mo,uo),Vr(mo,"PROVIDER_ID","twitter.com"),Vr(mo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ka=function(e){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Ts,{email:this.a,oobCode:this.f}):Ys(e,Ws,{email:this.a,password:this.f})},_o.prototype.b=function(e,t){return this.signInMethod==Eo.EMAIL_LINK_SIGN_IN_METHOD?Ys(e,Is,{idToken:t,email:this.a,oobCode:this.f}):Ys(e,Ms,{idToken:t,email:this.a,password:this.f})},_o.prototype.c=function(e,t){return to(this.ka(e),t)},_o.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Br(Eo,{PROVIDER_ID:"password"}),Br(Eo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Br(Eo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ka=function(e){return e.gb(ko(this))},So.prototype.b=function(e,t){var n=ko(this);return n.idToken=t,Ys(e,Gs,n)},So.prototype.c=function(e,t){var n=ko(this);return n.operation="REAUTH",to(e=Ys(e,Qs,n),t)},So.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Oo.prototype.gb=function(e,t){var n=this.a.a;return _t(t.verify()).then((function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"!==t.type)throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');var i=p(e)?e.session:null,o=p(e)?e.phoneNumber:e;return(i=i&&i.type==Ji?i.Ha().then((function(e){return Ys(n,Us,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==Zi?i.Ha().then((function(t){return t={mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}},Ys(n,qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))})):Ys(n,js,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}))},Br(Oo,{PROVIDER_ID:"phone"}),Br(Oo,{PHONE_SIGN_IN_METHOD:"phone"}),Ao.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ao.prototype.T=function(){return this.h},Ao.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var jo,Lo=null;function Mo(e){var t="unauthorized-domain",n=void 0,r=Nn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Fe("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Fe("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function Fo(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&Vr(this,"email",e.Kb),e.ea&&Vr(this,"phoneNumber",e.ea),e.credential&&Vr(this,"credential",e.credential),e.$b&&Vr(this,"tenantId",e.$b)}function Uo(e){if(e.code){var t=e.code||"";0==t.indexOf(C)&&(t=t.substring(C.length));var n={credential:xo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new Fo(t,n,e.message)}return null}function qo(){}function Vo(e){return e.c||(e.c=e.b())}function Bo(){}function zo(e){if(e.f||"undefined"!=typeof XMLHttpRequest||"undefined"==typeof ActiveXObject)return e.f;for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}function Ko(){}function Wo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=b(this.qc,this),this.a.onerror=b(this.Tb,this),this.a.onprogress=b(this.rc,this),this.a.ontimeout=b(this.vc,this)}function Ho(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Go(e,t,n){this.reset(e,t,n,void 0,void 0)}function Qo(e){this.f=e,this.b=this.c=this.a=null}function $o(e,t){this.name=e,this.value=t}w(Mo,T),w(Fo,T),Fo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&fe(e,t),e},Fo.prototype.toJSON=function(){return this.w()},qo.prototype.c=null,w(Bo,qo),Bo.prototype.a=function(){var e=zo(this);return e?new ActiveXObject(e):new XMLHttpRequest},Bo.prototype.b=function(){var e={};return zo(this)&&(e[0]=!0,e[1]=!0),e},jo=new Bo,w(Ko,qo),Ko.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Wo;throw Error("Unsupported browser")},Ko.prototype.b=function(){return{}},(e=Wo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ho(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Ho(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Ho(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Go.prototype.a=null,Go.prototype.reset=function(e,t,n,r,i){delete this.a},$o.prototype.toString=function(){return this.name};var Yo=new $o("SEVERE",1e3),Xo=new $o("WARNING",900),Jo=new $o("CONFIG",700),Zo=new $o("FINE",500);Qo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c||(t.a?e(t.a):(R("Root logger has no level set."),null))}(this).value)for(d(t)&&(t=t()),e=new Go(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var ea,ta={},na=null;function ra(e){var t,n,r;return na||(na=new Qo(""),(ta[""]=na).c=Jo),(t=ta[e])||(t=new Qo(e),r=e.lastIndexOf("."),n=e.substr(r+1),(r=ra(e.substr(0,r))).b||(r.b={}),(r.b[n]=t).a=r,ta[e]=t),t}function ia(e,t){e&&e.log(Zo,t,void 0)}function oa(e){this.f=e}function aa(e){dn.call(this),this.u=e,this.h=void 0,this.readyState=sa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ra("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}w(oa,qo),oa.prototype.a=function(){return new aa(this.f)},oa.prototype.b=(ea={},function(){return ea}),w(aa,dn);var sa=0;function ua(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function ca(e){e.readyState=4,e.g=null,e.c=null,e.m=null,la(e)}function la(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function ha(e){dn.call(this),this.headers=new wn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=fa,this.u=this.S=!1}(e=aa.prototype).open=function(e,t){if(this.readyState!=sa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,la(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ca(this)),this.readyState=sa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,la(this)),this.a&&(this.readyState=3,la(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==a.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ua(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){var t;this.a&&((t=this.m.decode(e.value||new Uint8Array(0),{stream:!e.done}))&&(this.response=this.responseText+=t),(e.done?ca:la)(this),3==this.readyState&&ua(this))},e.tc=function(e){this.a&&(this.response=this.responseText=e,ca(this))},e.sc=function(e){this.a&&(this.response=e,ca(this))},e.Va=function(e){var t=this.i;t&&t.log(Xo,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&ca(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(Xo,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b)return(e=this.i)&&e.log(Xo,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),"";for(var e=[],t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(aa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),w(ha,dn);var fa="";ha.prototype.b=ra("goog.net.XhrIo");var da=/^https?$/i,pa=["POST","PUT"];function va(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=(e.D||jo).a(),e.C=e.D?Vo(e.D):Vo(jo),e.a.onreadystatechange=b(e.Wb,e);try{ia(e.b,Ia(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){return ia(e.b,Ia(e,"Error opening Xhr: "+t.message)),void ya(e,t)}t=r||"";var o,s=new wn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"==typeof e)q(e,t,void 0);else for(var n=_n(e),r=bn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){s.set(t,e)})),i=function(e){e:{for(var t=ga,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=a.FormData&&t instanceof a.FormData,!K(pa,n)||i||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{wa(e),0<e.g&&(e.u=(o=e.a,ze&&Je(9)&&"number"==typeof o.timeout&&void 0!==o.ontimeout),ia(e.b,Ia(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=b(e.Ma,e)):e.s=yn(e.Ma,e.g,e)),ia(e.b,Ia(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){ia(e.b,Ia(e,"Send error: "+t.message)),ya(e,t)}}function ga(e){return"content-type"==e.toLowerCase()}function ya(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ma(e),_a(e)}function ma(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ba(e){if(e.c&&void 0!==o)if(e.C[1]&&4==Ea(e)&&2==Ta(e))ia(e.b,Ia(e,"Local request error detected and ignored"));else if(e.i&&4==Ea(e))yn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ea(e)){ia(e.b,Ia(e,"Request complete")),e.c=!1;try{var t,n,r,i,s=Ta(e);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}if((t=u)||((n=0===s)&&(!(i=String(e.l).match(In)[1]||null)&&a.self&&a.self.location&&(i=(r=a.self.location.protocol).substr(0,r.length-1)),n=!da.test(i?i.toLowerCase():"")),t=n),t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ea(e)?e.a.statusText:""}catch(t){ia(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ta(e)+"]",ma(e)}}finally{_a(e)}}}function _a(e,t){if(e.a){wa(e);var n=e.a,r=e.C[0]?l:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(Yo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function wa(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(a.clearTimeout(e.s),e.s=null)}function Ea(e){return e.a?e.a.readyState:0}function Ta(e){try{return 2<Ea(e)?e.a.status:-1}catch(e){return-1}}function Ia(e,t){return t+" ["+e.P+" "+e.l+" "+Ta(e)+"]"}function Sa(e){var t=Ma;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ca(e,t,n){e.a=!0,e.c=n,e.f=!t,xa(e)}function ka(e){if(e.a){if(!e.v)throw new Na;e.v=!1}}function Oa(e,t,n,r){e.g.push([t,n,r]),e.a&&xa(e)}function Pa(e){return z(e.g,(function(e){return d(e[1])}))}function xa(e){var t;e.h&&e.a&&Pa(e)&&(n=e.h,(t=ja[n])&&(a.clearTimeout(t.a),delete ja[n]),e.h=0),e.b&&(e.b.l--,delete e.b);for(var n=e.c,r=t=!1;e.g.length&&!e.i;){var i=(s=e.g.shift())[0],o=s[1],s=s[2];if(i=e.f?o:i)try{var u=i.call(s||e.s,n);void 0!==u&&(e.f=e.f&&(u==n||u instanceof Error),e.c=n=u),(x(n)||"function"==typeof a.Promise&&n instanceof a.Promise)&&(r=!0,e.i=!0)}catch(r){n=r,e.f=!0,Pa(e)||(t=!0)}}e.c=n,r&&(u=b(e.m,e,!0),r=b(e.m,e,!1),n instanceof Sa?(Oa(n,u,r),n.C=!0):n.then(u,r)),t&&(n=new Da(n),ja[n.a]=n,e.h=n.a)}function Na(){N.call(this)}function Ra(){N.call(this)}function Da(e){this.a=a.setTimeout(b(this.c,this),0),this.b=e}(e=ha.prototype).Ma=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ia(this.b,Ia(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ia(this.b,Ia(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_a(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),_a(this,!0)),ha.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?ba(this):this.Jc())},e.Jc=function(){ba(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(Yo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ia(this.b,"Can not get response: "+e.message),null}},Sa.prototype.cancel=function(e){var t;this.a?this.c instanceof Sa&&this.c.cancel():(this.b&&(t=this.b,delete this.b,e?t.cancel(e):(t.l--,t.l<=0&&t.cancel())),this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ra,ka(this),Ca(this,!1,e)))},Sa.prototype.m=function(e,t){this.i=!1,Ca(this,e,t)},Sa.prototype.then=function(e,t,n){var r,i,o=new dt((function(e,t){r=e,i=t}));return Oa(this,r,(function(e){e instanceof Ra?o.cancel():i(e)})),o.then(e,t,n)},Sa.prototype.$goog_Thenable=!0,w(Na,N),Na.prototype.message="Deferred has already fired",Na.prototype.name="AlreadyCalledError",w(Ra,N),Ra.prototype.message="Deferred was canceled",Ra.prototype.name="CanceledError",Da.prototype.c=function(){throw delete ja[this.a],this.b};var ja={};function La(e){var t=document,n=we(e).toString(),r=st(document,"SCRIPT"),i={Xb:r,Ma:void 0},o=new Sa(i),s=window.setTimeout((function(){Fa(r,!0);var e=new Va(qa,"Timeout reached for loading script "+n);ka(o),Ca(o,!1,e)}),5e3);return i.Ma=s,r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Fa(r,!1,s),ka(o),Ca(o,!0,null))},r.onerror=function(){Fa(r,!0,s);var e=new Va(Ua,"Error while loading script "+n);ka(o),Ca(o,!1,e)},fe(i={},{type:"text/javascript",charset:"UTF-8"}),nt(r,i),i=e,de(e=r,"HTMLScriptElement"),e.src=we(i),(i=(i=e.ownerDocument&&e.ownerDocument.defaultView)&&i!=a?c(i.document):u=null===u?c(a.document):u)&&e.setAttribute("nonce",i),((t=((i=t)||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:i.documentElement).appendChild(r),o}function Ma(){var e;this&&this.Xb&&(e=this.Xb)&&"SCRIPT"==e.tagName&&Fa(e,!0,this.Ma)}function Fa(e,t,n){null!=n&&a.clearTimeout(n),e.onload=l,e.onerror=l,e.onreadystatechange=l,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ua=0,qa=1;function Va(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),N.call(this,n),this.code=e}function Ba(e){this.f=e}function za(e,t,n){if(this.c=e,this.l=(e=t||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||Ha,this.g=le(e.secureTokenHeaders||Ga),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||Qa,this.a=le(e.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==fr(),!(n=a.XMLHttpRequest||n&&Aa.INTERNAL.node&&Aa.INTERNAL.node.XMLHttpRequest)&&!hr())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,hr()?this.f=new oa(self):dr()?this.f=new Ba(n):this.f=new Ko,this.b=null}w(Va,N),w(Ba,qo),Ba.prototype.a=function(){return new this.f},Ba.prototype.b=function(){return{}};var Ka,Wa="idToken",Ha=new Ar(3e4,6e4),Ga={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Ar(3e4,6e4),$a={"Content-Type":"application/json"};function Ya(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Xa(e,t){t&&(e.l=Ja("https://securetoken.googleapis.com/v1/token",t),e.h=Ja("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=Ja("https://identitytoolkit.googleapis.com/v2/",t))}function Ja(e,t){return e=Nn(e),t=Nn(t.url),e.f=e.a+e.f,Cn(e,t.c),e.a=t.a,kn(e,t.g),e.toString()}function Za(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function es(e,t,n,r,i,o,s){var u;(e=((u=gr(u=br())==vr&&(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)&&u<30||ze&&Ze&&!(9<Ze))&&!hr()?(Ka=Ka||new dt((function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(a[ns]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},function(e,t){Oa(e,null,t,void 0)}(La(Ee(ts,{onload:ns})),(function(){r(Error("CORS_UNSUPPORTED"))})))})),b(e.s,e)):b(e.u,e))(t,n,r,i,o,s)}za.prototype.T=function(){return this.b},za.prototype.u=function(e,t,n,r,i,o){if(hr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s,u=new ha(this.f);o&&(u.g=Math.max(0,o),s=setTimeout((function(){u.dispatchEvent("timeout")}),o)),pn(u,"complete",(function(){s&&clearTimeout(s);var n=null;try{n=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ia(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){n=null}t&&t(n)})),vn(u,"ready",(function(){s&&clearTimeout(s),Mt(this)})),vn(u,"timeout",(function(){s&&clearTimeout(s),Mt(this),t&&t(null)})),va(u,e,n,r,i)};var ts=new pe(me,"https://apis.google.com/js/client.js?onload=%{onload}"),ns="__fcb"+Math.floor(1e6*Math.random()).toString();function rs(e,t,n,r,i,o,a){var s=Nn(t+n);Pn(s,"key",e.c),a&&Pn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Pn(s,c,i[c]);return new dt((function(t,n){es(e,s.toString(),(function(e){e?e.error?n(Js(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:$n(kr(i)),e.a,e.v.get())}))}function is(e){if("string"!=typeof(e=e.email)||!sr.test(e))throw new T("invalid-email")}function os(e){"email"in e&&is(e)}function as(e){if(!e[Wa]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,le(e));throw new T("internal-error")}}function ss(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}za.prototype.s=function(e,t,n,r,i){var o=this;Ka.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},za.prototype.Ab=function(){return Ys(this,Fs,{})},za.prototype.Cb=function(e,t){return Ys(this,Ls,{idToken:e,email:t})},za.prototype.Db=function(e,t){return Ys(this,Ms,{idToken:e,password:t})};var us={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function cs(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function ls(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function hs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&Wn(e=new Vn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function fs(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Uo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Uo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Uo(e)):e.errorMessage&&(t=Xs(e.errorMessage)),t)throw t;as(e)}function ds(e,t){return t.returnIdpCredential=!0,Ys(e,Vs,t)}function ps(e,t){return t.returnIdpCredential=!0,Ys(e,zs,t)}function vs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ys(e,Bs,t)}function gs(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=za.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ue(us,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ys(this,Ls,n)},e.wb=function(e,t){return fe(e={requestType:"PASSWORD_RESET",email:e},t),Ys(this,Ns,e)},e.xb=function(e,t){return fe(e={requestType:"EMAIL_SIGNIN",email:e},t),Ys(this,Os,e)},e.vb=function(e,t){return fe(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ys(this,Ps,e)},e.Fb=function(e,t,n){return fe(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),Ys(this,xs,e)},e.gb=function(e){return Ys(this,Hs,e)},e.ob=function(e,t){return Ys(this,Ds,{oobCode:e,newPassword:t})},e.Sa=function(e){return Ys(this,ms,{oobCode:e})},e.kb=function(e){return Ys(this,ys,{oobCode:e})};var ys={endpoint:"setAccountInfo",A:gs,Z:"email",B:!0},ms={endpoint:"resetPassword",A:gs,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},bs={endpoint:"signupNewUser",A:function(e){if(is(e),!e.password)throw new T("weak-password")},G:as,V:!0,B:!0},_s={endpoint:"createAuthUri",B:!0},ws={endpoint:"deleteAccount",O:["idToken"]},Es={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},Ts={endpoint:"emailLinkSignin",O:["email","oobCode"],A:is,G:as,V:!0,B:!0},Is={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:is,G:as,V:!0},Ss={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cs,G:as,B:!0,Na:!0},Cs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cs,G:as,B:!0,Na:!0},ks={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");is(e)},Z:"email",B:!0},Ps={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");is(e)},Z:"email",B:!0},As={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Rs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Ds={endpoint:"resetPassword",A:gs,Z:"email",B:!0},js={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Ls={endpoint:"setAccountInfo",O:["idToken"],A:os,V:!0},Ms={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(os(e),!e.password)throw new T("weak-password")},G:as,V:!0},Fs={endpoint:"signupNewUser",G:as,V:!0,B:!0},Us={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Vs={endpoint:"verifyAssertion",A:ls,Za:hs,G:fs,V:!0,B:!0},Bs={endpoint:"verifyAssertion",A:ls,Za:hs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw Xs(e.errorMessage);as(e)},V:!0,B:!0},zs={endpoint:"verifyAssertion",A:function(e){if(ls(e),!e.idToken)throw new T("internal-error")},Za:hs,G:fs,V:!0},Ks={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:as,V:!0,B:!0},Ws={endpoint:"verifyPassword",A:function(e){if(is(e),!e.password)throw new T("wrong-password")},G:as,V:!0,B:!0},Hs={endpoint:"verifyPhoneNumber",A:ss,G:as,B:!0},Gs={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ss(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Uo(e);as(e)}},Qs={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ss,G:as,B:!0},$s={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[Wa]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function Ys(e,t,n){if(!function(e,t){if(!t||!t.length)return 1;if(e){for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return}return 1}}(n,t.O))return wt(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return _t(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),rs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function Xs(e){return Js({error:{errors:[{message:e}],code:400,message:e}})}function Js(e,t){var n,r=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(r=i[r]?new T(i[r]):null)return r;for(n in r=e.error&&e.error.message||"",fe(i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=r.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,i)if(0===r.indexOf(n))return new T(i[n],t);return new T("internal-error",t=!t&&e?Cr(e):t)}function Zs(e){var t;this.b=e,this.a=null,this.sb=(t=this,(ru=ru||new dt((function(e,t){function n(){Nr(),_r("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Nr(),t(Error("Network Error"))},timeout:tu.get()})}var r;_r("gapi.iframes.Iframe")?e():_r("gapi.load")?n():(r="__iframefcb"+Math.floor(1e6*Math.random()).toString(),a[r]=function(){_r("gapi.load")?n():t(Error("Network Error"))},_t(La(r=Ee(eu,{onload:r}))).o((function(){t(Error("Network Error"))})))})).o((function(e){throw ru=null,e}))).then((function(){return new dt((function(e,n){_r("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),nu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))})))}var eu=new pe(me,"https://apis.google.com/js/api.js?onload=%{onload}"),tu=new Ar(3e4,6e4),nu=new Ar(5e3,15e3),ru=null;function iu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?An((e=Nn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):An("https",this.l,null,"/__/auth/iframe"),this.a=e,Pn(this.a,"apiKey",this.h),Pn(this.a,"appName",this.i),this.b=null,this.c=[]}function ou(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(e){try{return Aa.app(e).auth().Ga()}catch(e){return[]}}function su(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function uu(e){var t=tr();return Ys(e,As,{}).then((function(e){return e.authorizedDomains||[]})).then((function(e){e:{for(var n=(r=Nn(t)).c,r=r.a,i=0;i<e.length;i++){var o=e[i],a=r,s=n;if(a=0==o.indexOf("chrome-extension://")?Nn(o).a==a&&"chrome-extension"==s:("http"==s||"https"==s)&&(ar.test(o)?a==o:(o=o.split(".").join("\\."),new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)))){e=!0;break e}}e=!1}if(!e)throw new Mo(tr())}))}function cu(e){return e.m||(e.m=ur().then((function(){var t,n,r,i;e.u||(t=e.c,n=e.i,r=au(e.b),(i=new iu(e.s,e.g,e.b,e.f)).f=t,i.b=n,i.c=Q(r||[]),e.u=i.toString()),e.v=new Zs(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Ro(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",_t(n)}return n.status="ERROR",_t(n)}))}(e)})),e.m)}function lu(e){return e.l||(e.C=e.c?mr(e.c,au(e.b)):null,e.l=new za(e.g,P(e.i),e.C),e.f&&Xa(e.l,e.f)),e.l}function hu(e,t,n,r,i,o,a,s,u,c,l,h){return(e=new ou(e,t,n,r,i,h)).l=o,e.g=a,e.i=s,e.b=le(u||null),e.f=c,e.zb(l).toString()}function fu(e){if(this.a=e||Aa.INTERNAL.reactNative&&Aa.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(e){this.b=e,this.a={},this.f=b(this.c,this)}iu.prototype.toString=function(){return this.f?Pn(this.a,"v",this.f):Kn(this.a.b,"v"),this.b?Pn(this.a,"eid",this.b):Kn(this.a.b,"eid"),this.c.length?Pn(this.a,"fw",this.c.join(",")):Kn(this.a.b,"fw"),this.a.toString()},ou.prototype.zb=function(e){return this.h=e,this},ou.prototype.toString=function(){var e;if(Pn(e=this.v?An((e=Nn(this.v.url)).c,e.a,e.g,"/emulator/auth/handler"):An("https",this.u,null,"/__/auth/handler"),"apiKey",this.s),Pn(e,"appName",this.c),Pn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=Aa.app(this.c).auth().la()}catch(e){n=null}for(r in t.pb=n,Pn(e,"providerId",this.a.providerId),t=kr((n=this.a).Jb))t[r]=t[r].toString();for(var r=n.Qc,i=(t=le(t),0);i<r.length;i++){var o=r[i];o in t&&delete t[o]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ce(t)||Pn(e,"customParameters",Cr(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&Pn(e,"scopes",n.join(",")),this.l?Pn(e,"redirectUrl",this.l):Kn(e.b,"redirectUrl"),this.g?Pn(e,"eventId",this.g):Kn(e.b,"eventId"),this.i?Pn(e,"v",this.i):Kn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!xn(e,a)&&Pn(e,a,this.b[a]);return this.h?Pn(e,"tid",this.h):Kn(e.b,"tid"),this.f?Pn(e,"eid",this.f):Kn(e.b,"eid"),(a=au(this.c)).length&&Pn(e,"fw",a.join(",")),e.toString()},(e=su.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){var n,r;r={type:"webStorageSupport"},cu(n=o).then((function(){return e=n.v,t=r,e.sb.then((function(){return new dt((function(n){e.a.send(t.type,t,n,_r("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}));var e,t})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then((function(n){n||(e&&ir(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return t=e,new dt((function(e){return function n(){mn(2e3).then((function(){return t&&!t.closed?n():void e()}))}()}));var t})).then((function(){if(!a)return mn(n).then((function(){t(r)}))}))},e.Yb=function(){var e=br();return!Sr(e)&&!xr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return wt(new T("popup-blocked"));if(a&&!Sr())return this.ma().o((function(t){ir(e),i(t)})),r(),_t();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw ir(e),i(t),t}));return r(),t})).then((function(){No(n),a||nr(hu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then((function(){No(t),nr(hu(i.s,i.g,i.b,e,t,tr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return cu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){H(this.h,(function(t){return t==e}))},(e=fu.prototype).get=function(e){return _t(this.a.getItem(e)).then((function(e){return e&&Or(e)}))},e.set=function(e,t){return _t(this.a.setItem(e,Cr(t)))},e.U=function(e){return _t(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var pu,vu=[];function gu(e,t,n){ce(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function yu(e){this.a=e}function mu(e){this.c=e,this.b=!1,this.a=[]}function bu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return wt(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new dt((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(t){return _u(e,c),t})).o((function(t){throw _u(e,c),t}))}function _u(e,t){var n,r;t&&(n=t.messageChannel,r=t.onMessage,n&&(n.port1.removeEventListener("message",r),n.port1.close()),H(e.a,(function(e){return e==t})))}function wu(){if(!Su())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t,n,r=this;hr()&&self?(this.v=(n=hr()?self:null,q(vu,(function(e){e.b==n&&(t=e)})),t||(t=new du(n),vu.push(t)),t),gu(this.v,"keyChanged",(function(e,t){return xu(r).then((function(e){return 0<e.length&&q(r.a,(function(t){t(e)})),{keyProcessed:K(e,t.key)}}))})),gu(this.v,"ping",(function(){return _t(["keyChanged"])}))):((e=a.navigator)&&e.serviceWorker?_t().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):_t(null)).then((function(e){(r.h=e)&&(r.g=new mu(new yu(e)),bu(r.g,"ping",null,!0).then((function(e){e[0].fulfilled&&K(e[0].value,"keyChanged")&&(r.s=!0)})).o((function(){})))}))}function Eu(e){return new dt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){var i;(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):(i=e,new dt((function(e,t){var n=i.m.deleteDatabase("firebaseLocalStorageDb");n.onsuccess=function(){e()},n.onerror=function(e){t(Error(e.target.error))}})).then((function(){return Eu(e)})).then((function(e){t(e)})).o((function(e){n(e)})))}}))}function Tu(e){return e.i||(e.i=Eu(e)),e.i}function Iu(e,t){var n=0;return new dt((function r(i,o){Tu(e).then(t).then(i).o((function(t){return 3<++n?void o(t):Tu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}))}))}))}function Su(){try{return a.indexedDB}catch(e){return}}function Cu(e){return e.objectStore("firebaseLocalStorage")}function ku(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ou(e){return new dt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Pu(e,t){return e.g&&e.h&&((n=a.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?bu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):_t();var n}function xu(e){return Tu(e).then((function(e){var t=Cu(ku(e,!1));return t.getAll?Ou(t.getAll()):new dt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n&&typeof t[r]==typeof n[r]?"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Nu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Au(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=_t().then((function(){if(Su()){var e=Pr(),r="__sak"+e;return pu=pu||new wu,(n=pu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){q(t.a,(function(t){t(e)}))})),e}))}function Ru(){this.a={},this.type="inMemory"}function Du(){if(!function(){var e="Node"==fr();if(!(e=ju()||e&&Aa.INTERNAL.node&&Aa.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=ju()||Aa.INTERNAL.node.localStorage,this.type="localStorage"}function ju(){try{var e=a.localStorage,t=Pr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Lu(){this.type="nullStorage"}function Mu(){if(!function(){var e="Node"==fr();if(!(e=Fu()||e&&Aa.INTERNAL.node&&Aa.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==fr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Fu()||Aa.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var e=a.sessionStorage,t=Pr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Uu(){var e={};e.Browser=Bu,e.Node=zu,e.ReactNative=Ku,e.Worker=Wu,this.a=e[fr()]}du.prototype.c=function(e){var t,n=e.data.eventType,r=e.data.eventId,i=this.a[n];i&&0<i.length&&(e.ports[0].postMessage({status:"ack",eventId:r,eventType:n,response:null}),t=[],q(i,(function(n){t.push(_t().then((function(){return n(e.origin,e.data.data)})))})),Tt(t).then((function(t){var i=[];q(t,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),q(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:r,eventType:n,response:i})})))},yu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},mu.prototype.close=function(){for(;0<this.a.length;)_u(this,this.a[0]);this.b=!0},(e=wu.prototype).set=function(e,t){var n=this,r=!1;return Iu(this,(function(t){return Ou((t=Cu(ku(t,!0))).get(e))})).then((function(i){return Iu(n,(function(o){if(o=Cu(ku(o,!0)),i)return i.value=t,Ou(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Ou(o.add(a))}))})).then((function(){return n.c[e]=t,Pu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Iu(this,(function(t){return Ou(Cu(ku(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Iu(this,(function(r){return n=!0,t.b++,Ou(Cu(ku(r,!0)).delete(e))})).then((function(){return delete t.c[e],Pu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){var t;0==this.a.length&&(Nu(t=this),function e(){t.f=setTimeout((function(){t.l=xu(t).then((function(e){0<e.length&&q(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()),this.a.push(e)},e.ia=function(e){H(this.a,(function(t){return t==e})),0==this.a.length&&Nu(this)},(e=Au.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){H(this.a,(function(t){return t==e}))},(e=Ru.prototype).get=function(e){return _t(this.a[e])},e.set=function(e,t){return this.a[e]=t,_t()},e.U=function(e){return delete this.a[e],_t()},e.ca=function(){},e.ia=function(){},(e=Du.prototype).get=function(e){var t=this;return _t().then((function(){return Or(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Cr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(e){a.window&&en(a.window,"storage",e)},e.ia=function(e){a.window&&rn(a.window,"storage",e)},(e=Lu.prototype).get=function(){return _t(null)},e.set=function(){return _t()},e.U=function(){return _t()},e.ca=function(){},e.ia=function(){},(e=Mu.prototype).get=function(e){var t=this;return _t().then((function(){return Or(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return _t().then((function(){var r=Cr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return _t().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var qu,Vu,Bu={F:Du,cb:Mu},zu={F:Du,cb:Mu},Ku={F:fu,cb:Lu},Wu={F:Du,cb:Lu},Hu={rd:"local",NONE:"none",td:"session"};function Gu(){var e=!(xr(br())||!lr()),t=Sr(),n=wr();this.m=e,this.h=t,this.l=n,this.a={},e=qu=qu||new Uu;try{this.g=!er()&&Lr()||!a.indexedDB?new e.a.F:new Au(new(hr()?Ru:e.a.F))}catch(e){this.g=new Ru,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new Ru}this.v=new Ru,this.f=b(this.Zb,this),this.b={}}function Qu(){return Vu=Vu||new Gu}function $u(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function Yu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Xu(e,t,n){return n=Yu(t,n),"local"==t.F&&(e.b[n]=null),$u(e,t.F).U(n)}function Ju(e){e.c&&(clearInterval(e.c),e.c=null)}function Zu(e){this.a=e,this.b=Qu()}(e=Gu.prototype).get=function(e,t){return $u(this,e.F).get(Yu(e,t))},e.set=function(e,t,n){var r=Yu(e,n),i=this,o=$u(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){var r;e=Yu(e,t),this.l&&(this.b[e]=a.localStorage.getItem(e)),ce(this.a)&&($u(this,"local").ca(this.f),this.h||(er()||!Lr())&&a.indexedDB||!this.l||(Ju(r=this),r.c=setInterval((function(){for(var e in r.a){var t=a.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new zt({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Zb(t))}}),1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=Yu(e,t),this.a[e]&&(H(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ce(this.a)&&($u(this,"local").ia(this.f),Ju(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?$u(this,"local").ia(this.f):Ju(this),this.m)if(n=a.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?a.localStorage.setItem(t,r):a.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===a.localStorage.getItem(t)||(o.b[t]=a.localStorage.getItem(t),o.nb(t))},ze&&Ze&&10==Ze&&a.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else q(e,b(this.nb,this))},e.nb=function(e){this.a[e]&&q(this.a[e],(function(e){e()}))};var ec,tc={name:"authEvent",F:"local"};function nc(){this.a=Qu()}function rc(e,t){this.b=ic,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=a.Int32Array?new Int32Array(hc):hc),this.reset()}w(rc,(function(){this.b=-1}));for(var ic=64,oc=ic-1,ac=[],sc=0;sc<oc;sc++)ac[sc]=0;var uc=G(128,ac);function cc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;t<64;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;t<64;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|ec[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function lc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(cc(e),i=0);else{if(!f(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&o<=255&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(cc(e),i=0)}}e.c=i,e.g+=n}rc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):Q(this.h)};var hc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function fc(){rc.call(this,8,dc)}w(fc,rc);var dc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new nc,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vc(e){return new T("invalid-cordova-configuration",e)}function gc(e){var t=new fc;lc(t,e),e=[];var n=8*t.g;t.c<56?lc(t,uc,56-t.c):lc(t,uc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(cc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return B(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}function yc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function mc(e){return e.f||(e.f=e.ma().then((function(){return new dt((function(t){function n(e){o=!0,s&&s.cancel(),bc(r).then((function(t){var n,o=i;t&&e&&e.url&&(n=null,o=(n=-1!=(o=Yi(e.url)).indexOf("/__/auth/callback")?(n="object"==typeof(n=Or(xn(n=Nn(o),"firebaseError")||null))?I(n):null)?new Ao(t.c,t.b,null,null,n,null,t.T()):new Ao(t.c,t.b,o,t.f,null,null,t.T()):n)||i),yc(r,o)}))}var r,i,o,s,u;e.Ea((function n(r){return t(r),e.Ta(n),!1})),r=e,i=new Ao("unknown",null,null,null,new T("no-auth-event")),o=!1,s=mn(500).then((function(){return bc(r).then((function(){o||yc(r,i)}))})),u=a.handleOpenURL,a.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(_r("BuildInfo.packageName",a).toLowerCase()+"://")&&n({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},Lo=Lo||new Do,function(e){var t=Lo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=_r("universalLinks.subscribe",a))&&e(null,t.b))}(n)}))}))),e.f}function bc(e){var t,n=null;return(t=e.g).b.get(tc,t.a).then(Ro).then((function(t){return n=t,Xu((t=e.g).b,tc,t.a)})).then((function(){return n}))}function _c(e){this.a=e,this.b=Qu()}(e=pc.prototype).ma=function(){return this.Ia||(this.Ia=(cr(void 0)?ur().then((function(){return new dt((function(e,t){var n=a.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):wt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof _r("universalLinks.subscribe",a))throw vc("cordova-universal-links-plugin-fix is not installed");if(void 0===_r("BuildInfo.packageName",a))throw vc("cordova-plugin-buildinfo is not installed");if("function"!=typeof _r("cordova.plugins.browsertab.openUrl",a))throw vc("cordova-plugin-browsertab is not installed");if("function"!=typeof _r("cordova.InAppBrowser.open",a))throw vc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")})))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),_t()},e.Nb=function(){return wt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return wt(new T("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=_t().then((function(){return No(t),mc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Ao(t,r,null,o,new T("no-auth-event"),null,i),u=_r("BuildInfo.packageName",a);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var c=_r("BuildInfo.displayName",a),l={};if(br().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!br().toLowerCase().match(/android/))return wt(new T("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=gc(o),l.sessionId=o;var h=hu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(tc,s.w(),t)})).then((function(){var t=_r("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=_r("cordova.plugins.browsertab.openUrl",a)))throw new T("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=_r("cordova.InAppBrowser.open",a)))throw new T("invalid-cordova-configuration");t=br(),e.a=n(h,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new dt((function(e,t){u=function(){var t=_r("cordova.plugins.browsertab.close",a);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){s=s||mn(2e3).then((function(){t(new T("redirect-cancelled-by-user"))}))},l=function(){Rr()&&c()},o.addEventListener("resume",c,!1),br().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return bc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Ta(u),i.c=null}))},e.Ea=function(e){this.b.push(e),mc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ao("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){H(this.b,(function(t){return t==e}))};var wc={name:"pendingRedirect",F:"session"};function Ec(e){return Xu(e.b,wc,e.a)}function Tc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=b(this.s,this),this.b=new Fc,this.C=new zc,this.g=new _c(Lc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ic(this.D,this.v,this.m,S,this.J)}function Ic(e,t,n,r,i){var o=Aa.SDK_VERSION||null;return new(cr()?pc:su)(e,t,n,o,r,i)}function Sc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Cc(e){e.a.Yb()&&Sc(e).o((function(t){var n=new Ao("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(t)&&e.s(n)})),e.a.Ub()||Uc(e.b)}function kc(e,t){K(e.h,t)||e.h.push(t),e.f||(t=e.g).b.get(wc,t.a).then((function(e){return"pending"==e})).then((function(t){t?Ec(e.g).then((function(){Sc(e).o((function(t){var n=new Ao("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Ac(t)&&e.s(n)}))})):Cc(e)})).o((function(){Cc(e)}))}function Oc(e,t){H(e.h,(function(e){return e==t}))}Tc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Ic(this.D,this.v,this.m,null,this.J),this.i={}},Tc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Uc(this.b),t};var Pc=new Ar(2e3,1e4),xc=new Ar(3e4,6e4);function Nc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Ac(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Rc(e,t,n,r,i){var o,a;return(a=e.g).b.set(wc,"pending",a.a).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Ac(t))throw new T("operation-not-supported-in-this-environment");return o=t,Ec(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new dt((function(){})):Ec(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Dc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Pc.get())}Tc.prototype.ra=function(){return this.b.ra()};var jc={};function Lc(e,t,n){return e=e+":"+t,n?e+":"+n.url:e}function Mc(e,t,n,r){var i=Lc(t,n,r);return jc[i]||(jc[i]=new Tc(e,t,n,r)),jc[i]}function Fc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Uc(e){e.g||(e.g=!0,Bc(e,!1,null,null))}function qc(e){e.g&&!e.i&&Bc(e,!1,null,null)}function Vc(e,t){if(e.b=function(){return _t(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Bc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return wt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Vc(e,n):Vc(e,{user:null}),e.f=[],e.c=[]}function zc(){}function Kc(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function Wc(e,t){this.a=t,Vr(this,"verificationId",e)}function Hc(e,t,n,r){return new Oo(e).gb(t,n).then((function(e){return new Wc(e,r)}))}function Gc(e){var t=Li(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Br(this,{token:e,expirationTime:jr(1e3*t.exp),authTime:jr(1e3*t.auth_time),issuedAtTime:jr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Qc(e,t,n){var r=t&&t[Yc];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=le(t),this.g=n,this.c=new Xi(null,r),this.b=[];var i=this;q(t[$c]||[],(function(e){(e=Hr(e))&&i.b.push(e)})),Vr(this,"auth",this.a),Vr(this,"session",this.c),Vr(this,"hints",this.b)}Fc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Fc.prototype.h=function(e,t){var n,r,i,o;e?(this.reset(),this.g=!0,n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code,this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Bc(this,!0,null,e.a),_t()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){Bc(e,s,t,null)})).o((function(t){Bc(e,s,null,t)}))}(this,e,t):wt(new T("invalid-auth-event")):(Bc(this,!1,null,null),_t())):wt(new T("invalid-auth-event"))},Fc.prototype.ra=function(){var e=this;return new dt((function(t,n){var r,i;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=e,i=new T("timeout"),r.a&&r.a.cancel(),r.a=mn(xc.get()).then((function(){r.b||(r.g=!0,Bc(r,!0,null,i))})))}))},zc.prototype.h=function(e,t){var n,r,i,o,a;e?(n=e.c,r=e.b,e.a?(t.na(e.c,null,e.a,e.b),_t()):t.Fa(n,r)?(i=t,o=(e=e).b,a=e.c,i.Fa(a,o)(e.g,e.f,e.T(),e.i).then((function(e){i.na(a,e,null,o)})).o((function(e){i.na(a,null,e,o)}))):wt(new T("invalid-auth-event"))):wt(new T("invalid-auth-event"))},Wc.prototype.confirm=function(e){return e=Po(this.verificationId,e),this.a(e)};var $c="mfaInfo",Yc="mfaPendingCredential";function Xc(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new Qc(e,t,n),Vr(this,"resolver",this.b)}function Jc(e,t,n){if(e&&p(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Xc(t,e.serverResponse,n,e.message)}catch(e){}return null}function Zc(){}function el(e){Vr(this,"factorId",e.fa),this.a=e}function tl(e){if(el.call(this,e),this.a.fa!=Oo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function nl(e,t){for(var n in Bt.call(this,e),t)this[n]=t[n]}function rl(e,t){this.a=e,this.b=[],this.c=b(this.yc,this),en(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&q(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[$r]=e.uid),e.displayName&&(r[Gr]=e.displayName),e.enrollmentTime&&(r[Qr]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[Yr]=e.phoneNumber);try{t=new Xr(r)}catch(e){}e=t}else e=null;e&&n.push(e)})),il(this,n)}function il(e,t){e.b=t,Vr(e,"enrolledFactors",t)}function ol(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function al(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}function sl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function ul(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function cl(e,t){e.b=ji(t[Wa]||""),e.a=t.refreshToken,ul(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function ll(e,t){return n=e.f,r=t,new dt((function(e,t){"refresh_token"==r.grant_type&&r.refresh_token||"authorization_code"==r.grant_type&&r.code?es(n,n.l+"?key="+encodeURIComponent(n.c),(function(n){n?n.error?t(Js(n)):n.access_token&&n.refresh_token?e(n):t(new T("internal-error")):t(new T("network-request-failed"))}),"POST",zn(r).toString(),n.g,n.m.get()):t(new T("internal-error"))})).then((function(t){return e.b=ji(t.access_token),e.a=t.refresh_token,ul(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}));var n,r}function hl(e,t){this.a=e||null,this.b=t||null,Br(this,{lastSignInTime:jr(t||null),creationTime:jr(e||null)})}function fl(e,t,n,r,i,o){Br(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function dl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,i=Aa.SDK_VERSION?mr(Aa.SDK_VERSION):null;this.a=new za(this.l,P(S),i),(this.u=e.emulatorConfig||null)&&Xa(this.a,this.u),this.h=new sl(this.a),El(this,t[Wa]),cl(this.h,t),Vr(this,"refreshToken",this.h.a),Sl(this,n||{}),dn.call(this),this.P=!1,this.s&&Er()&&(this.b=Mc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new ol((function(){return r.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var e=r.h.c-Date.now()-3e5;return 0<e?e:0}))),this.ba=b(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){pl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){yl(o,e.f)},this.ja=null,this.S=new rl(this,n),Vr(this,"multiFactor",this.S)}function pl(e,t){e.u=t,Xa(e.a,t),e.b&&(t=e.b,e.b=Mc(e.s,e.l,e.m,e.u),e.P&&(Oc(t,e),kc(e.b,e)))}function vl(e,t){e.qa&&rn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&en(t,"languageCodeChanged",e.Pa)}function gl(e,t){e.$&&rn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&en(t,"emulatorConfigChanged",e.Ba)}function yl(e,t){e.aa=t,Za(e.a,Aa.SDK_VERSION?mr(Aa.SDK_VERSION,e.aa):null)}function ml(e,t){e.ja&&rn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&en(t,"frameworkChanged",e.Oa)}function bl(t){try{return Aa.app(t.m).auth()}catch(e){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(e){e.J||e.D.b||(e.D.start(),rn(e,"tokenChanged",e.ba),en(e,"tokenChanged",e.ba))}function wl(e){rn(e,"tokenChanged",e.ba),e.D.stop()}function El(e,t){e.Aa=t,Vr(e,"_lat",t)}function Tl(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Tt(t).then((function(){return e}))}function Il(e){e.b&&!e.P&&(e.P=!0,kc(e.b,e))}function Sl(e,t){Br(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new hl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Cl(){}function kl(e){return _t().then((function(){if(e.J)throw new T("app-deleted")}))}function Ol(e){return B(e.providerData,(function(e){return e.providerId}))}function Pl(e,t){t&&(xl(e,t.providerId),e.providerData.push(t))}function xl(e,t){H(e.providerData,(function(e){return e.providerId==t}))}function Nl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Vr(e,t,n)}function Al(e,t){var n,r;e!=t&&(Br(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Vr(e,"metadata",new hl((r=t.metadata).a,r.b)):Vr(e,"metadata",new hl),q(t.providerData,(function(t){Pl(e,t)})),n=e.h,r=t.h,n.b=r.b,n.a=r.a,n.c=r.c,Vr(e,"refreshToken",e.h.a),il(e.S,t.S.b))}function Rl(e){return e.I().then((function(t){var n,r=e.isAnonymous;return Ys((n=e).a,ks,{idToken:t}).then(b(n.Kc,n)).then((function(){return r||Nl(e,"isAnonymous",!1),t}))}))}function Dl(e,t){t[Wa]&&e.Aa!=t[Wa]&&(cl(e.h,t),e.dispatchEvent(new nl("tokenChanged")),El(e,t[Wa]),Nl(e,"refreshToken",e.h.a))}function jl(e,t){return Rl(e).then((function(){if(K(Ol(e),t))return Tl(e).then((function(){throw new T("provider-already-linked")}))}))}function Ll(e,t,n){return zr({user:e,credential:xo(t),additionalUserInfo:t=Vi(t),operationType:n})}function Ml(e,t){return Dl(e,t),e.reload().then((function(){return e}))}function Fl(e,t,n,r,i){if(!Er())return wt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return wt(e.i);var o=qi(n.providerId),a=Pr(e.uid+":::"),s=null,u=or(s=(!Sr()||lr())&&e.s&&n.isOAuthProvider?hu(e.s,e.l,e.m,t,n,null,a,Aa.SDK_VERSION||null,null,null,e.tenantId,e.u):s,o&&o.va,o&&o.ua);return r=r().then((function(){if(ql(e),!i)return e.I().then((function(){}))})).then((function(){return Nc(e.b,u,t,n,a,!!s,e.tenantId)})).then((function(){return new dt((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=a,e.c=Dc(e.b,e,t,u,a)}))})).then((function(e){return u&&ir(u),e?zr(e):null})).o((function(e){throw u&&ir(u),e})),Vl(e,r,i)}function Ul(e,t,n,r,i){if(!Er())return wt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return wt(e.i);var o=null,a=Pr(e.uid+":::");return r=r().then((function(){if(ql(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Tl(e)})).then((function(t){return e.ha?(t=e.ha).b.set(Kl,e.w(),t.a):t})).then((function(){return Rc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return Wl(e.ha);throw o})).then((function(){if(o)throw o})),Vl(e,r,i)}function ql(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function Vl(e,t,n){var r,i=(t=t,n=n,(r=e).i&&!n?(t.cancel(),wt(r.i)):t.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(r.i||r.dispatchEvent(new nl("userInvalidated")),r.i=e),e})));return e.N.push(i),i.oa((function(){W(e.N,i)})),i.o((function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Jc(t.w(),bl(e),b(e.jc,e)):n)||t}))}function Bl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Wa]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new dl(t,n,e);return e.providerData&&q(e.providerData,(function(e){e&&Pl(i,zr(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function zl(e){this.a=e,this.b=Qu()}Qc.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=le(t.f);return delete n[$c],delete n[Yc],fe(n,e),t.g(n)}))},w(Xc,T),Zc.prototype.tb=function(e,t,n){return t.type==Ji?(o=this,a=e,s=n,t.Ha().then((function(e){return e={idToken:e},void 0!==s&&(e.displayName=s),fe(e,{phoneVerificationInfo:ko(o.a)}),Ys(a,Ss,e)}))):(r=this,i=e,t.Ha().then((function(e){return fe(e={mfaPendingCredential:e},{phoneVerificationInfo:ko(r.a)}),Ys(i,Cs,e)})));var r,i,o,a,s},w(el,Zc),w(tl,el),w(nl,Bt),(e=rl.prototype).yc=function(e){var t;il(this,(e=e.hd,t=[],q(e.mfaInfo||[],(function(e){(e=Hr(e))&&t.push(e)})),t))},e.Sb=function(){return this.a.I().then((function(e){return new Xi(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Dl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return Ys(r,$s,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=V(t.b,(function(e){return e.uid!=n}));return il(t,r),Dl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:B(this.b,(function(e){return e.w()}))}}},ol.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=mn(al(t,n)).then(Dr).then((function(){return t.h()})).then((function(){e(t,!0)})).o((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},ol.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},sl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},sl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?wt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?ll(this,{grant_type:"refresh_token",refresh_token:this.a}):_t(null):_t({accessToken:this.b.toString(),refreshToken:this.a})},hl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(dl,dn),dl.prototype.xa=function(e){this.za=e,Ya(this.a,e)},dl.prototype.la=function(){return this.za},dl.prototype.Ga=function(){return Q(this.aa)},dl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Vr(dl.prototype,"providerId","firebase"),(e=dl.prototype).reload=function(){var e=this;return Vl(this,kl(this).then((function(){return Rl(e).then((function(){return Tl(e)})).then(Cl)})))},e.oc=function(e){return this.I(e).then((function(e){return new Gc(e)}))},e.I=function(e){var t=this;return Vl(this,kl(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(El(t,e.accessToken),t.dispatchEvent(new nl("tokenChanged"))),Nl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Sl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?B(t,(function(e){return new fl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[],r=0;r<n.length;r++)Pl(this,n[r]);Nl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new nl("userReloaded",{hd:e}))},e.Lc=function(e){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return Vl(this,e.c(this.a,this.uid).then((function(e){return Dl(t,e),n=Ll(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return Vl(this,jl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Ll(t,e,"link"),Ml(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return Vl(this,jl(this,"phone").then((function(){return Hc(bl(n),e,t,b(n.rb,n))})))},e.Mc=function(e,t){var n=this;return Vl(this,_t().then((function(){return Hc(bl(n),e,t,b(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return Vl(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Dl(t,e),t.reload()})))},e.ed=function(e){var t=this;return Vl(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Dl(t,e),t.reload()})))},e.Db=function(e){var t=this;return Vl(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Dl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return kl(this);var t=this;return Vl(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Dl(t,e),Nl(t,"displayName",e.displayName||null),Nl(t,"photoURL",e.photoUrl||null),q(t.providerData,(function(e){"password"===e.providerId&&(Vr(e,"displayName",t.displayName),Vr(e,"photoURL",t.photoURL))})),Tl(t)})).then(Cl))},e.cd=function(e){var t=this;return Vl(this,Rl(this).then((function(n){return K(Ol(t),e)?Ys(t.a,Es,{idToken:n,deleteProvider:[e]}).then((function(e){var n={};return q(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),q(Ol(t),(function(e){n[e]||xl(t,e)})),n[Oo.PROVIDER_ID]||Vr(t,"phoneNumber",null),Tl(t)})):Tl(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return Vl(this,this.I().then((function(t){return Ys(e.a,ws,{idToken:t})})).then((function(){e.dispatchEvent(new nl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");vl(e,null),gl(e,null),ml(e,null),e.N=[],e.J=!0,wl(e),Vr(e,"refreshToken",null),e.b&&Oc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?b(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?b(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?b(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?b(this.Mb,this):null},e.Ec=function(e){var t=this;return Fl(this,"linkViaPopup",e,(function(){return jl(t,e.providerId).then((function(){return Tl(t)}))}),!1)},e.Nc=function(e){return Fl(this,"reauthViaPopup",e,(function(){return _t()}),!0)},e.Fc=function(e){var t=this;return Ul(this,"linkViaRedirect",e,(function(){return jl(t,e.providerId)}),!1)},e.Oc=function(e){return Ul(this,"reauthViaRedirect",e,(function(){return _t()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,this.I().then((function(n){return ps(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Ll(i,e,"link"),Ml(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Vl(this,_t().then((function(){return to(vs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Ll(i,e,"reauthenticate"),Dl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return Vl(this,this.I().then((function(t){return n=t,void 0===e||ce(e)?{}:Ni(new wi(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return Vl(this,this.I().then((function(e){return r=e,void 0===t||ce(t)?{}:Ni(new wi(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return Vl(this,e=to(_t(e),n.uid).then((function(e){return t=Ll(n,e,"reauthenticate"),Dl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&fe(e,this.metadata.w()),q(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),fe(e,this.S.w()),e};var Kl={name:"redirectUser",F:"session"};function Wl(e){return Xu(e.b,Kl,e.a)}function Hl(e){var t,n,r,i;this.a=e,this.b=Qu(),this.c=null,this.f=(n=$l("local"),r=$l("session"),i=$l("none"),function(e,t,n){var r=Yu(t,n),i=$u(e,t.F);return e.get(t,n).then((function(o){var s=null;try{s=Or(a.localStorage.getItem(r))}catch(o){}if(s&&!o)return a.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)}))}((t=this).b,n,t.a).then((function(){return t.b.get(r,t.a)})).then((function(e){return e?r:t.b.get(i,t.a).then((function(e){return e?i:t.b.get(n,t.a).then((function(e){return e?n:t.b.get(Ql,t.a).then((function(e){return e?$l(e):n}))}))}))})).then((function(e){return t.c=e,Gl(t,e.F)})).o((function(){t.c||(t.c=n)}))),this.b.addListener($l("local"),this.a,b(this.g,this))}function Gl(e,t){var n,r,i=[];for(n in Hu)Hu[n]!==t&&i.push(Xu(e.b,$l(Hu[n]),e.a));return i.push(Xu(e.b,Ql,e.a)),r=i,new dt((function(e,t){var n=r.length,i=[];if(n)for(var o=function(t,r){n--,i[t]=r,0==n&&e(i)},a=function(e){t(e)},s=0;s<r.length;s++)Et(r[s],_(o,s),a);else e(i)}))}Hl.prototype.g=function(){var e=this,t=$l("local");Zl(this,(function(){return _t().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return Gl(e,"local").then((function(){e.c=t}))}))}))};var Ql={name:"persistence",F:"session"};function $l(e){return{name:"authUser",F:e}}function Yl(e,t){return Zl(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Xl(e){return Zl(e,(function(){return Xu(e.b,e.c,e.a)}))}function Jl(e,t,n){return Zl(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Bl(e||{})}))}))}function Zl(e,t){return e.f=e.f.then(t,t),e.f}function eh(e){if(this.l=!1,Vr(this,"settings",new Kc),Vr(this,"app",e),!this.app.options||!this.app.options.apiKey)throw new T("invalid-api-key");var t,n,r,i,o,a;e=Aa.SDK_VERSION?mr(Aa.SDK_VERSION):null,this.a=new za(this.app.options&&this.app.options.apiKey,P(S),e),this.P=[],this.s=[],this.N=[],this.Pa=Aa.INTERNAL.createSubscribe(b(this.zc,this)),this.W=void 0,this.ib=Aa.INTERNAL.createSubscribe(b(this.Ac,this)),sh(this,null),this.i=new Hl(this.app.options.apiKey+":"+this.app.name),this.D=new zl(this.app.options.apiKey+":"+this.app.name),this.$=fh(this,(n=(t=this).app.options.authDomain,e=function(e){var t=function(e,t){return e.b.get(Kl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Bl(e||{})}))}(e.D,e.app.options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),Wl(e.D)}));return fh(e,t)}(t).then((function(){return Jl(t.i,n,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return Yl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Xl(t.i)}))):null})).then((function(e){sh(t,e||null)})),fh(t,e))),this.h=fh(this,(r=this).$.then((function(){return oh(r)})).o((function(){})).then((function(){if(!r.l)return r.ja()})).o((function(){})).then((function(){var e;r.l||(r.ba=!0,(e=r.i).b.addListener($l("local"),e.a,r.ja))}))),this.ba=!1,this.ja=b(this.Zc,this),this.Ba=b(this.da,this),this.qa=b(this.mc,this),this.za=b(this.wc,this),this.Aa=b(this.xc,this),this.b=null,o=(i=this).app.options.authDomain,a=i.app.options.apiKey,o&&Er()&&(i.Oa=i.$.then((function(){var e;if(!i.l)return i.b=Mc(o,a,i.app.name,i.R),kc(i.b,i),ch(i)&&Il(ch(i)),i.m&&(Il(i.m),(e=i.m).xa(i.la()),vl(e,i),yl(e=i.m,i.J),ml(e,i),pl(e=i.m,i.R),gl(e,i),i.m=null),i.b}))),this.INTERNAL={},this.INTERNAL.delete=b(this.delete,this),this.INTERNAL.logFramework=b(this.Gc,this),this.u=0,dn.call(this),e=this,Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){var e;return this.R?zr({protocol:(e=Nn(this.R.url)).c,host:e.a,port:e.g,options:zr({disableWarnings:this.R.ec})}):null},enumerable:!1}),this.J=[],this.R=null}function th(e){Bt.call(this,"languageCodeChanged"),this.h=e}function nh(e){Bt.call(this,"emulatorConfigChanged"),this.c=e}function rh(e){Bt.call(this,"frameworkChanged"),this.f=e}function ih(e){return e.Oa||wt(new T("auth-domain-config-required"))}function oh(e){if(!Er())return wt(new T("operation-not-supported-in-this-environment"));var t=ih(e).then((function(){return e.b.ra()})).then((function(e){return e?zr(e):null}));return fh(e,t)}function ah(e,t){var n={};return n.apiKey=e.app.options.apiKey,n.authDomain=e.app.options.authDomain,n.appName=e.app.name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return r=n,i=t,o=e.D,a=e.Ga(),s=new dl(r,i),o&&(s.ha=o),a&&yl(s,a),s.reload().then((function(){return s}));var r,i,o,a,s})).then((function(t){return ch(e)&&t.uid==ch(e).uid?Al(ch(e),t):(sh(e,t),Il(t)),e.da(t)})).then((function(){hh(e)}))}function sh(e,t){var n,r;ch(e)&&(n=ch(e),r=e.Ba,H(n.W,(function(e){return e==r})),rn(ch(e),"tokenChanged",e.qa),rn(ch(e),"userDeleted",e.za),rn(ch(e),"userInvalidated",e.Aa),wl(ch(e))),t&&(t.W.push(e.Ba),en(t,"tokenChanged",e.qa),en(t,"userDeleted",e.za),en(t,"userInvalidated",e.Aa),0<e.u&&_l(t)),Vr(e,"currentUser",t),t&&(t.xa(e.la()),vl(t,e),yl(t,e.J),ml(t,e),pl(t,e.R),gl(t,e))}function uh(e,t){var n=null,r=null;return fh(e,t.then((function(t){return n=xo(t),r=Vi(t),ah(e,t)}),(function(t){var n=null;throw(n=t&&"auth/multi-factor-auth-required"===t.code?Jc(t.w(),e,b(e.kc,e)):n)||t})).then((function(){return zr({user:ch(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function ch(e){return e.currentUser}function lh(e){return ch(e)&&ch(e)._lat||null}function hh(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](lh(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](lh(e))}}function fh(e,t){return e.P.push(t),t.oa((function(){W(e.P,t)})),t}function dh(){}function ph(){this.a={},this.b=1e12}Hl.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in Hu)if(Hu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(fr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Su()&&"none"!==e)throw n;break;default:if(!wr()&&"none"!==e)throw n}}(e),Zl(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,Gl(n,e)})).then((function(){if(n.c=$l(e),t)return n.b.set(n.c,t,n.a)})):_t()}))},w(eh,dn),w(th,Bt),w(nh,Bt),w(rh,Bt),(e=eh.prototype).yb=function(e){return fh(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,Ya(this.a,this.aa),this.dispatchEvent(new th(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=a.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!n&&ur().then((function(){var e=a.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),a.document.body.appendChild(e)})),this.R={url:e,ec:t},this.settings.jb=!0,Xa(this.a,this.R),this.dispatchEvent(new nh(this.R))}var n},e.Gc=function(e){this.J.push(e),Za(this.a,Aa.SDK_VERSION?mr(Aa.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},e.Ga=function(){return Q(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:this.app.options.apiKey,authDomain:this.app.options.authDomain,appName:this.app.name,currentUser:ch(this)&&ch(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?b(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return uh(i,ds(i.a,o))}))},e.Xc=function(e){if(!Er())return wt(new T("operation-not-supported-in-this-environment"));var t=this,n=qi(e.providerId),r=Pr(),i=null,o=or(i=(!Sr()||lr())&&this.app.options.authDomain&&e.isOAuthProvider?hu(this.app.options.authDomain,this.app.options.apiKey,this.app.name,"signInViaPopup",e,null,r,Aa.SDK_VERSION||null,null,null,this.T(),this.R):i,n&&n.va,n&&n.ua);return fh(this,n=ih(this).then((function(n){return Nc(n,o,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new dt((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Dc(t.b,t,"signInViaPopup",o,r)}))})).then((function(e){return o&&ir(o),e?zr(e):null})).o((function(e){throw o&&ir(o),e})))},e.Yc=function(e){if(!Er())return wt(new T("operation-not-supported-in-this-environment"));var t=this;return fh(this,ih(this).then((function(){return Zl(e=t.i,(function(){return e.b.set(Ql,e.c.F,e.a)}));var e})).then((function(){return Rc(t.b,"signInViaRedirect",e,void 0,t.T())})))},e.ra=function(){var e=this;return oh(this).then((function(t){return e.b&&qc(e.b.b),t})).o((function(t){throw e.b&&qc(e.b.b),t}))},e.dd=function(e){if(!e)return wt(new T("null-user"));if(this.S!=e.tenantId)return wt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=this.app.options.apiKey,n.authDomain=this.app.options.authDomain,n.appName=this.app.name;var r,i,o,a,s,u=(r=e,i=n,o=t.D,a=t.Ga(),s=r.h,(n={})[Wa]=s.b&&s.b.toString(),n.refreshToken=s.a,i=new dl(i||{apiKey:r.l,authDomain:r.s,appName:r.m},n),o&&(i.ha=o),a&&yl(i,a),Al(i,r),i);return fh(this,this.h.then((function(){if(t.app.options.apiKey!=e.l)return u.reload()})).then((function(){return ch(t)&&e.uid==ch(t).uid?(Al(ch(t),e),t.da(e)):(sh(t,u),Il(u),t.da(u))})).then((function(){hh(t)})))},e.Bb=function(){var e=this;return fh(this,this.h.then((function(){return e.b&&qc(e.b.b),ch(e)?(sh(e,null),Xl(e.i).then((function(){hh(e)}))):_t()})))},e.Zc=function(){var e=this;return Jl(this.i,this.app.options.authDomain).then((function(t){if(!e.l){var n,r;if((n=ch(e)&&t)&&(n=ch(e).uid,r=t.uid,n=null!=n&&""!==n&&null!=r&&""!==r&&n==r),n)return Al(ch(e),t),ch(e).I();(ch(e)||t)&&(sh(e,t),t&&(Il(t),t.ha=e.D),e.b&&kc(e.b,e),hh(e))}}))},e.da=function(e){return Yl(this.i,e)},e.mc=function(){hh(this),this.da(ch(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return uh(t,_t(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(ch(t))}))},e.Ac=function(e){var t,n,r=this;n=function(){e.next(ch(r))},(t=this).N.push(n),fh(t,t.h.then((function(){!t.l&&K(t.N,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(lh(t)))})))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(ch(r)):"function"==typeof e.next&&e.next(ch(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof e?e(ch(r)):"function"==typeof e.next&&e.next(ch(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return fh(this,this.h.then((function(){return ch(t)?ch(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return uh(t,Ys(t.a,Ks,{token:e}))})).then((function(e){var n=e.user;return Nl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return uh(n,Ys(n.a,Ws,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return uh(n,Ys(n.a,bs,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return uh(t,e.ka(t.a))}))},e.Sc=function(e){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=ch(e);if(t&&t.isAnonymous){var n=zr({providerId:null,isNewUser:!1});return zr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return uh(e,e.a.Ab()).then((function(t){var n=t.user;return Nl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return ch(this)&&ch(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&ch(this)&&_l(ch(this))},e.Pc=function(e){var t=this;q(this.s,(function(n){n==e&&t.u--})),this.u<0&&(this.u=0),0==this.u&&ch(this)&&wl(ch(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),fh(this,this.h.then((function(){t.l||K(t.s,e)&&e(lh(t))})))},e.removeAuthTokenListener=function(e){H(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener($l("local"),e.a,this.ja),this.b&&(Oc(this.b,this),qc(this.b.b)),Promise.resolve()},e.hc=function(e){return fh(this,Ys(this.a,_s,{identifier:e,continueUri:Tr()?tr():"http://localhost"}).then((function(e){return e.signinMethods||[]})))},e.Bc=function(e){return!!Io(e)},e.xb=function(e,t){var n=this;return fh(this,_t().then((function(){var e=new wi(t);if(!e.c)throw new T("argument-error",Ii+" must be true when sending sign in link to email");return Ni(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return fh(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return fh(this,this.a.Sa(e).then((function(e){return new Jr(e)})))},e.kb=function(e){return fh(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return fh(this,_t().then((function(){return void 0===t||ce(t)?{}:Ni(new wi(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return fh(this,Hc(this,e,t,b(this.ab,this)))},e.Vc=function(e,t){var n=this;return fh(this,_t().then((function(){var r=t||tr(),i=To(e,r);if(!(r=Io(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},dh.prototype.render=function(){},dh.prototype.reset=function(){},dh.prototype.getResponse=function(){},dh.prototype.execute=function(){};var vh=null;function gh(e,t){return(t=yh(t))&&e.a[t]||null}function yh(e){return(e=void 0===e?1e12:e)?e.toString():null}function mh(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=tt(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():en(this.f,"click",this.i)}function bh(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function wh(){}ph.prototype.render=function(e,t){return this.a[this.b.toString()]=new mh(e,t),this.b++},ph.prototype.reset=function(e){var t=gh(this,e);e=yh(e),t&&e&&(t.delete(),delete this.a[e])},ph.prototype.getResponse=function(e){return(e=gh(this,e))?e.getResponse():null},ph.prototype.execute=function(e){(e=gh(this,e))&&e.execute()},mh.prototype.getResponse=function(){return bh(this),this.b},mh.prototype.execute=function(){bh(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(t){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(t){}e.h&&e.execute()}),6e4)}),500))},mh.prototype.delete=function(){bh(this),this.g=!0,clearTimeout(this.a),this.a=null,rn(this.f,"click",this.i)},Vr(_h,"FACTOR_ID","phone"),wh.prototype.g=function(){return _t(vh=vh||new ph)},wh.prototype.c=function(){};var Eh=null;function Th(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ih=new pe(me,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Sh=new Ar(3e4,6e4);Th.prototype.g=function(e){var t=this;return new dt((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Sh.get());!a.grecaptcha||e!==t.f&&!t.b?(a[t.a]=function(){var o;a.grecaptcha?(t.f=e,o=a.grecaptcha.render,a.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(a.grecaptcha)):(clearTimeout(i),r(new T("internal-error"))),delete a[t.a]},_t(La(Ee(Ih,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(a.grecaptcha))}))},Th.prototype.c=function(){this.b--};var Ch=null;function kh(e,t,n,r,i,o,s){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s=s?Eh=Eh||new wh:Ch=Ch||new Th,this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[xh])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Nh],!a.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!tt(t)||!this.i&&tt(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new za(e,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Oh];this.a[Oh]=function(e){var t;Ah(u,e),"function"==typeof c?c(e):"string"!=typeof c||"function"==typeof(t=_r(c,a))&&t(e)};var l=this.a[Ph];this.a[Ph]=function(){var e;Ah(u,null),"function"==typeof l?l():"string"!=typeof l||"function"==typeof(e=_r(l,a))&&e()}}var Oh="callback",Ph="expired-callback",xh="sitekey",Nh="size";function Ah(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function Rh(e,t){return e.h.push(t),t.oa((function(){W(e.h,t)})),t}function Dh(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(e,t,n){var r=!1;try{this.b=n||Aa.app()}catch(e){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}o=Aa.SDK_VERSION?mr(Aa.SDK_VERSION,o):null,kh.call(this,n,e,t,(function(){try{var t=i.b.auth().la()}catch(e){t=null}return t}),o,P(S),r)}function Lh(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],i<0||i>=Mh.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Mh[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=kh.prototype).Ia=function(){var e=this;return this.f||(this.f=Rh(this,_t().then((function(){if(Tr()&&!hr())return ur();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,Ys(e.s,Rs,{})})).then((function(t){e.a[xh]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t}))))},e.render=function(){Dh(this);var e=this;return Rh(this,this.Ia().then((function(){var t,n;return null===e.c&&(n=e.v,e.i||(t=tt(n),n=at("DIV"),t.appendChild(n)),e.c=e.g.render(n,e.a)),e.c})))},e.verify=function(){Dh(this);var e=this;return Rh(this,this.render().then((function(t){return new dt((function(n){var r,i=e.g.getResponse(t);i?n(i):(e.l.push(r=function(t){var i;t&&(i=r,H(e.l,(function(e){return e==i})),n(t))}),e.i&&e.g.execute(e.c))}))})))},e.reset=function(){Dh(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Dh(this),this.J=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=tt(this.v);e=t.firstChild;)t.removeChild(e)},w(jh,kh);var Mh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fh(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function Uh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function qh(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:p}}function Vh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function Bh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function zh(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function Kh(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function Wh(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function Hh(e,t){return p(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Gh(e){return p(e)&&"string"==typeof e.uid}function Qh(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function $h(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function Yh(e,t){for(var n in t){var r=t[n].name;e[r]=Zh(r,e[n],t[n].j)}}function Xh(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:_((function(e){return this[e]}),n),set:_((function(e,t,n,r){Lh(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function Jh(e,t,n,r){e[t]=Zh(t,n,r)}function Zh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Lh(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=(e=(e=e).split("."))[e.length-1];for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}Yh(eh.prototype,{kb:{name:"applyActionCode",j:[Fh("code")]},Sa:{name:"checkActionCode",j:[Fh("code")]},ob:{name:"confirmPasswordReset",j:[Fh("code"),Fh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Fh("email"),Fh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Fh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Fh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$h(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$h(qh(),Vh(),"nextOrObserver"),Vh("opt_error",!0),Vh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Fh("email"),$h(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Fh("email"),qh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Fh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Fh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Fh("email"),Fh("password")]},Vc:{name:"signInWithEmailLink",j:[Fh("email"),Fh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Xc:{name:"signInWithPopup",j:[Wh()]},Yc:{name:"signInWithRedirect",j:[Wh()]},dd:{name:"updateCurrentUser",j:[$h({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof dl)}},Bh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Fh("url"),qh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Fh("code")]}}),Xh(eh.prototype,{lc:{name:"languageCode",lb:$h(Fh(),Bh(),"languageCode")},ti:{name:"tenantId",lb:$h(Fh(),Bh(),"tenantId")}}),(eh.Persistence=Hu).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Yh(dl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Uh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Uh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},rb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Ec:{name:"linkWithPopup",j:[Wh()]},Fc:{name:"linkWithRedirect",j:[Wh()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},ub:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Fh("phoneNumber"),Qh()]},Nc:{name:"reauthenticateWithPopup",j:[Wh()]},Oc:{name:"reauthenticateWithRedirect",j:[Wh()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$h(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},cd:{name:"unlink",j:[Fh("provider")]},Cb:{name:"updateEmail",j:[Fh("email")]},Db:{name:"updatePassword",j:[Fh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Eb:{name:"updateProfile",j:[qh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Fh("email"),$h(qh("opt_actionCodeSettings",!0),Bh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(dt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Xh(Kc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Uh("appVerificationDisabledForTesting")}}),Yh(Wc.prototype,{confirm:{name:"confirm",j:[Fh("verificationCode")]}}),Jh(eo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[so,wo,Co,io],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[$h(Fh(),qh(),"json")]),Jh(Eo,"credential",(function(e,t){return new _o(e,t)}),[Fh("email"),Fh("password")]),Yh(_o.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(ho.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(ho,"credential",fo,[$h(Fh(),qh(),"token")]),Jh(Eo,"credentialWithLink",To,[Fh("email"),Fh("emailLink")]),Yh(po.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(po,"credential",vo,[$h(Fh(),qh(),"token")]),Yh(go.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(go,"credential",yo,[$h(Fh(),$h(qh(),Bh()),"idToken"),$h(Fh(),Bh(),"accessToken",!0)]),Yh(mo.prototype,{Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Jh(mo,"credential",bo,[$h(Fh(),qh(),"token"),Fh("secret",!0)]),Yh(lo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},credential:{name:"credential",j:[$h(Fh(),$h(qh(),Bh()),"optionsOrIdToken"),$h(Fh(),Bh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[qh("customOAuthParameters")]}}),Yh(oo.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(no.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Jh(Oo,"credential",Po,[Fh("verificationId"),Fh("verificationCode")]),Yh(Oo.prototype,{gb:{name:"verifyPhoneNumber",j:[$h(Fh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?Hh(e.session,Ji)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Hh(e.session,Zi)&&Gh(e.multiFactorHint):e.session&&e.multiFactorUid?Hh(e.session,Zi)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),Qh()]}}),Yh(So.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(T.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Fo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Mo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Xc.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Qc.prototype,{Rc:{name:"resolveSignIn",j:[Kh()]}}),Yh(rl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Kh(),Fh("displayName",!0)]},bd:{name:"unenroll",j:[$h({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Gh},Fh(),"multiFactorInfoIdentifier")]}}),Yh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Jh(fi,"parseLink",_i,[Fh("link")]),Jh(_h,"assertion",(function(e){return new tl(e)}),[zh("phone")]),function(){if(void 0===Aa||!Aa.INTERNAL||!Aa.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Zr,VERIFY_AND_CHANGE_EMAIL:ti,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:eo,Error:T};Jh(e,"EmailAuthProvider",Eo,[]),Jh(e,"FacebookAuthProvider",ho,[]),Jh(e,"GithubAuthProvider",po,[]),Jh(e,"GoogleAuthProvider",go,[]),Jh(e,"TwitterAuthProvider",mo,[]),Jh(e,"OAuthProvider",lo,[Fh("providerId")]),Jh(e,"SAMLAuthProvider",co,[Fh("providerId")]),Jh(e,"PhoneAuthProvider",Oo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof eh)}}]),Jh(e,"RecaptchaVerifier",jh,[$h(Fh(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),qh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof Aa.app.App)}}]),Jh(e,"ActionCodeURL",fi,[]),Jh(e,"PhoneMultiFactorGenerator",_h,[]),Aa.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new eh(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),Aa.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:b((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:b(e.nc,e),addAuthTokenListener:b(e.cc,e),removeAuthTokenListener:b(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Aa.registerVersion("@firebase/auth","0.16.8"),Aa.INTERNAL.extendNamespace({User:dl})}()}.apply("undefined"!=typeof t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ra="";function Da(e){Ra=e}var ja=(La.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),xo(t))},La.prototype.get=function(e){return null==(e=this.domStorage_.getItem(this.prefixedName_(e)))?null:Po(e)},La.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},La.prototype.prefixedName_=function(e){return this.prefix_+e},La.prototype.toString=function(){return this.domStorage_.toString()},La);function La(e){this.domStorage_=e,this.prefix_="firebase:"}var Ma=(Fa.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},Fa.prototype.get=function(e){return Ro(this.cache_,e)?this.cache_[e]:null},Fa.prototype.remove=function(e){delete this.cache_[e]},Fa);function Fa(){this.cache_={},this.isInMemoryStorage=!0}function Ua(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i,o=e.charCodeAt(r);55296<=o&&o<=56319&&(i=o-55296,oo(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(i<<10)+(e.charCodeAt(r)-56320)),o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t}(e);return(e=new Fo).update(t),e=e.digest(),so.encodeByteArray(e)}function qa(e,t){oo(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?($a.logLevel=ua.VERBOSE,Ja=$a.log.bind($a),t&&Qa.set("logging_enabled",!0)):"function"==typeof e?Ja=e:(Ja=null,Qa.remove("logging_enabled"))}function Va(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Xa.apply(void 0,to([],eo(e)));$a.error(n)}function Ba(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)}function za(e,t){return e===t?0:e<t?-1:1}function Ka(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+xo(t))}function Wa(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)n<i+t?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r}li=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ja(t)}}catch(e){}return new Ma};var Ha,Ga=li("localStorage"),Qa=li("sessionStorage"),$a=new pa("@firebase/database"),Ya=(Ha=1,function(){return Ha++}),Xa=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=e.apply(null,o):r+="object"==typeof o?xo(o):o,r+=" "}return r},Ja=null,Za=!0,es=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!0===Za&&(Za=!1,null===Ja&&!0===Qa.get("logging_enabled")&&qa(!0)),Ja&&(e=Xa.apply(null,t),Ja(e))},ts=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];es.apply(void 0,to([e],eo(t)))}},ns=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Xa.apply(void 0,to([],eo(e)));throw $a.error(n),new Error(n)},rs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Xa.apply(void 0,to([],eo(e)));$a.warn(n)},is="[MIN_NAME]",os="[MAX_NAME]",as=function(e,t){if(e===t)return 0;if(e===is||t===os)return-1;if(t===is||e===os)return 1;var n=ps(e),r=ps(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null===r&&e<t?-1:1},ss=function e(t){if("object"!=typeof t||null===t)return xo(t);var n,r=[];for(n in t)r.push(n);r.sort();for(var i="{",o=0;o<r.length;o++)0!==o&&(i+=","),i+=xo(r[o]),i+=":",i+=e(t[r[o]]);return i+"}"};function us(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}function cs(e){var t,n,r,i;oo(!Ba(e),"Invalid JSON number"),0===e?t=1/e==-1/(r=n=0)?1:0:(t=e<0,r=(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,Math.round(e/Math.pow(2,-1074))));for(var o=[],a=52;a;--a)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;--a)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var s=o.join(""),u="";for(a=0;a<64;a+=8){var c=parseInt(s.substr(a,8),2).toString(16);u+=c=1===c.length?"0"+c:c}return u.toLowerCase()}function ls(e,t){return"object"==typeof(t=setTimeout(e,t))&&t.unref&&t.unref(),t}var hs=new RegExp("^-?(0*)\\d{1,10}$"),fs=-2147483648,ds=2147483647,ps=function(e){return hs.test(e)&&(e=Number(e),fs<=e&&e<=ds)?e:null},vs=function(e){try{e()}catch(r){setTimeout((function(){var t=r.stack||"";throw rs("Exception was thrown by user callback.",t),r}),Math.floor(0))}},gs=(ys.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},ys.prototype.addTokenChangeListener=function(e){var t;null!==(t=this.appCheckProvider)&&void 0!==t&&t.get().then((function(t){return t.addTokenListener(e)}))},ys.prototype.notifyForInvalidToken=function(){rs('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},ys);function ys(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null!=t&&t.get().then((function(e){return n.appCheck=e}))}var ms=(bs.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(es("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},bs.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},bs.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},bs.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rs(e)},bs);function bs(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}var _s=(ws.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},ws.prototype.addTokenChangeListener=function(e){e(this.accessToken)},ws.prototype.removeTokenChangeListener=function(e){},ws.prototype.notifyForInvalidToken=function(){},ws.OWNER="owner",ws);function ws(e){this.accessToken=e}var Es=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ts="websocket",Is="long_polling",Ss=(Cs.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},Cs.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(Cs.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),Cs.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},Cs.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return e+this.host+"/"+t},Cs);function Cs(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+e)||this._host}function ks(e,t,n){var r;if(oo("string"==typeof t,"typeof type must == string"),oo("object"==typeof n,"typeof params must == object"),t===Ts)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Is)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}((t=e).host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var i=[];return us(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Os=(Ps.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),Ro(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},Ps.prototype.get=function(){return uo(this.counters_)},Ps);function Ps(){this.counters_={}}var xs={},Ns={};function As(e){return e=e.toString(),xs[e]||(xs[e]=new Os),xs[e]}var Rs=(Ds.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},Ds.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=0;t<e.length;++t)!function(t){e[t]&&vs((function(){n.onMessage_(e[t])}))}(t);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},Ds);function Ds(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var js="pLPCommand",Ls="pRTLPCB",Ms=(Fs.prototype.open=function(e,t){var n,r,i,o=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Rs(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){o.log_("Timed out trying to connect."),o.onClosed_(),o.connectTimeoutTimer_=null}),Math.floor(3e4)),n=function(){var e;o.isClosed_||(o.scriptTagHolder=new Us((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eo(e,5),r=n[0],i=n[1],a=n[2];if(n[3],n[4],o.incrementIncomingBytes_(e),o.scriptTagHolder)if(o.connectTimeoutTimer_&&(clearTimeout(o.connectTimeoutTimer_),o.connectTimeoutTimer_=null),o.everConnected_=!0,"start"===r)o.id=i,o.password=a;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(o.scriptTagHolder.sendNewPolls=!1,o.myPacketOrderer.closeAfter(i,(function(){o.onClosed_()}))):o.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(r=eo(e,2))[0],r=r[1];o.incrementIncomingBytes_(e),o.myPacketOrderer.handleResponse(n,r)}),(function(){o.onClosed_()}),o.urlFn),(e={start:"t"}).ser=Math.floor(1e8*Math.random()),o.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=o.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",o.transportSessionId&&(e.s=o.transportSessionId),o.lastSessionId&&(e.ls=o.lastSessionId),o.applicationId&&(e.p=o.applicationId),o.appCheckToken&&(e.ac=o.appCheckToken),"undefined"!=typeof location&&location.hostname&&Es.test(location.hostname)&&(e.r="f"),e=o.urlFn(e),o.log_("Connecting via long-poll to "+e),o.scriptTagHolder.addTag(e,(function(){})))},"complete"===document.readyState?n():(r=!1,i=function(){document.body?r||(r=!0,n()):setTimeout(i,Math.floor(10))},document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&i()})),window.attachEvent("onload",i)))},Fs.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},Fs.forceAllow=function(){Fs.forceAllow_=!0},Fs.forceDisallow=function(){Fs.forceDisallow_=!0},Fs.isAvailable=function(){return!!Fs.forceAllow_||!(Fs.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},Fs.prototype.markConnectionHealthy=function(){},Fs.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},Fs.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},Fs.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},Fs.prototype.send=function(e){e=xo(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var t=Wa(e=function(e){return e=no(e),so.encodeByteArray(e,!0)}(e),1840),n=0;n<t.length;n++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,t.length,t[n]),this.curSegmentNum++},Fs.prototype.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},Fs.prototype.incrementIncomingBytes_=function(e){e=xo(e).length,this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},Fs);function Fs(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ts(e),this.stats_=As(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),ks(t,Is,e)}}var Us=(qs.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||es("No IE domain setting required")}catch(e){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},qs.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},qs.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},qs.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(0<this.pendingSegs.length?2:1)){this.currentSerial++,(e={}).id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var e=this.urlFn(e),t="",n=0;0<this.pendingSegs.length&&this.pendingSegs[0].d.length+30+t.length<=1870;){var r=this.pendingSegs.shift();t=t+"&seg"+n+"="+r.seg+"&ts"+n+"="+r.ts+"&d"+n+"="+r.d,n++}return this.addLongPollTag_(e+=t,this.currentSerial),!0}return!1},qs.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},qs.prototype.addLongPollTag_=function(e,t){var n=this;function r(){n.outstandingRequests.delete(t),n.newRequest_()}this.outstandingRequests.add(t);var i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},qs.prototype.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){es("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}}),Math.floor(1))},qs);function qs(e,t,n,r){this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ya(),window[js+this.uniqueCallbackIdentifier]=e,window[Ls+this.uniqueCallbackIdentifier]=t,this.myIFrame=qs.createIFrame_(),t="",t="<html><body>"+(t=this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)?'<script>document.domain="'+document.domain+'";<\/script>':t)+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(t),this.myIFrame.doc.close()}catch(e){es("frame writing exception"),e.stack&&es(e.stack),es(e)}}var Vs=null;"undefined"!=typeof MozWebSocket?Vs=MozWebSocket:"undefined"!=typeof WebSocket&&(Vs=WebSocket);var Bs=(zs.connectionURL_=function(e,t,n,r){var i={v:"5"};return"undefined"!=typeof location&&location.hostname&&Es.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),ks(e,Ts,i)},zs.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{mo()||(r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}},this.mySock=new Vs(this.connURL,[],r))}catch(e){this.log_("Error instantiating WebSocket.");var r=e.message||e.data;return r&&this.log_(r),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection."),(e=e.message||e.data)&&n.log_(e),n.onClosed_()}},zs.prototype.start=function(){},zs.forceDisallow=function(){zs.forceDisallow_=!0},zs.isAvailable=function(){var e,t=!1;return"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/))&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0),!t&&null!==Vs&&!zs.forceDisallow_},zs.previouslyFailed=function(){return Ga.isInMemoryStorage||!0===Ga.get("previous_websocket_failure")},zs.prototype.markConnectionHealthy=function(){Ga.remove("previous_websocket_failure")},zs.prototype.appendFrame_=function(e){this.frames.push(e),this.frames.length===this.totalFrames&&(e=this.frames.join(""),this.frames=null,e=Po(e),this.onMessage(e))},zs.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},zs.prototype.extractFrameCount_=function(e){if(oo(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},zs.prototype.handleIncomingFrame=function(e){null!==this.mySock&&(e=e.data,this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),(null!==this.frames||null!==(e=this.extractFrameCount_(e)))&&this.appendFrame_(e))},zs.prototype.send=function(e){this.resetKeepAlive(),e=xo(e),this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var t=Wa(e,16384);1<t.length&&this.sendString_(String(t.length));for(var n=0;n<t.length;n++)this.sendString_(t[n])},zs.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},zs.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},zs.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},zs.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},zs.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},zs.responsesRequiredToBeHealthy=2,zs.healthyTimeout=3e4,zs);function zs(e,t,n,r,i,o,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ts(this.connId),this.stats_=As(t),this.connURL=zs.connectionURL_(t,o,a,r),this.nodeAdmin=t.nodeAdmin}var Ks=(Object.defineProperty(Ws,"ALL_TRANSPORTS",{get:function(){return[Ms,Bs]},enumerable:!1,configurable:!0}),Ws.prototype.initTransports_=function(e){var t,n,r=Bs&&Bs.isAvailable(),i=r&&!Bs.previouslyFailed();if(e.webSocketOnly&&(r||rs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bs];else{var o=this.transports_=[];try{for(var a=Zi(Ws.ALL_TRANSPORTS),s=a.next();!s.done;s=a.next()){var u=s.value;u&&u.isAvailable()&&o.push(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}}},Ws.prototype.initialTransport=function(){if(0<this.transports_.length)return this.transports_[0];throw new Error("No transports available")},Ws.prototype.upgradeTransport=function(){return 1<this.transports_.length?this.transports_[1]:null},Ws);function Ws(e){this.initTransports_(e)}var Hs=(Gs.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0)),0<(t=t.healthyTimeout||0)&&(this.healthyTimeout_=ls((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&102400<e.conn_.bytesReceived?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&10240<e.conn_.bytesSent?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(t)))},Gs.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},Gs.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},Gs.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},Gs.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},Gs.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},Gs.prototype.onSecondaryControl_=function(e){"t"in e&&("a"===(e=e.t)?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_()))},Gs.prototype.onSecondaryMessageReceived_=function(e){var t=Ka("t",e);if(e=Ka("d",e),"c"===t)this.onSecondaryControl_(e);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(e)}},Gs.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},Gs.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},Gs.prototype.onPrimaryMessageReceived_=function(e){var t=Ka("t",e);e=Ka("d",e),"c"===t?this.onControl_(e):"d"===t&&this.onDataMessage_(e)},Gs.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},Gs.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},Gs.prototype.onControl_=function(e){var t=Ka("t",e);if("d"in e)if(e=e.d,"h"===t)this.onHandshake_(e);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var n=0;n<this.pendingDataMessages.length;++n)this.onDataMessage_(this.pendingDataMessages[n]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(e):"r"===t?this.onReset_(e):"e"===t?Va("Server Error: "+e):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Va("Unknown control packet command: "+t)},Gs.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&rs("Protocol version mismatch detected"),this.tryStartUpgrade_())},Gs.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},Gs.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_);e=this.disconnReceiver_(this.secondaryConn_),this.secondaryConn_.open(n,e),ls((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},Gs.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},Gs.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ls((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},Gs.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},Gs.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},Gs.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},Gs.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},Gs.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},Gs.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},Gs.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},Gs);function Gs(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ts("c:"+this.id+":"),this.transportManager_=new Ks(t),this.log_("Connection created"),this.start_()}function Qs(){}Qs.prototype.put=function(e,t,n,r){},Qs.prototype.merge=function(e,t,n,r){},Qs.prototype.refreshAuthToken=function(e){},Qs.prototype.refreshAppCheckToken=function(e){},Qs.prototype.onDisconnectPut=function(e,t,n){},Qs.prototype.onDisconnectMerge=function(e,t,n){},Qs.prototype.onDisconnectCancel=function(e,t){},Qs.prototype.reportStats=function(e){},Q=Qs;var $s=(Ys.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=to([],eo(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},Ys.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n}),(e=this.getInitialEvent(e))&&t.apply(n,e)},Ys.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},Ys.prototype.validateEventType_=function(e){oo(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},Ys);function Ys(e){this.allowedEvents_=e,this.listeners_={},oo(Array.isArray(e)&&0<e.length,"Requires a non-empty array")}var Xs,Js=($i(Zs,Xs=$s),Zs.getInstance=function(){return new Zs},Zs.prototype.getInitialEvent=function(e){return oo("online"===e,"Unknown event type: "+e),[this.online_]},Zs.prototype.currentlyOnline=function(){return this.online_},Zs);function Zs(){var e=Xs.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||vo()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}var eu=32,tu=768,nu=(ru.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},ru);function ru(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)0<this.pieces_[r].length&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}function iu(){return new nu("")}function ou(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function au(e){return e.pieces_.length-e.pieceNum_}function su(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new nu(e.pieces_,t)}function uu(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function cu(e,t){return e.pieces_.slice(e.pieceNum_+(t=void 0===t?0:t))}function lu(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new nu(t,0)}function hu(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof nu)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)0<i[r].length&&n.push(i[r])}return new nu(n,0)}function fu(e){return e.pieceNum_>=e.pieces_.length}function du(e,t){var n=ou(e),r=ou(t);if(null===n)return t;if(n===r)return du(su(e),su(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pu(e,t){for(var n=cu(e,0),r=cu(t,0),i=0;i<n.length&&i<r.length;i++){var o=as(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function vu(e,t){if(au(e)!==au(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function gu(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(au(e)>au(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var yu=function(e,t){this.errorPrefix_=t,this.parts_=cu(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Qo(this.parts_[n]);mu(this)};function mu(e){if(e.byteLength_>tu)throw new Error(e.errorPrefix_+"has a key path longer than "+tu+" bytes ("+e.byteLength_+").");if(e.parts_.length>eu)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+eu+") or object contains a cycle "+bu(e))}function bu(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var _u,wu=($i(Eu,_u=$s),Eu.getInstance=function(){return new Eu},Eu.prototype.getInitialEvent=function(e){return oo("visible"===e,"Unknown event type: "+e),[this.visible_]},Eu);function Eu(){var e,t,n=_u.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),n.visible_=!0,t&&document.addEventListener(t,(function(){var t=!document[e];t!==n.visible_&&(n.visible_=t,n.trigger("visible",t))}),!1),n}var Tu,Iu=1e3,Su=3e5,Cu=($i(ku,Tu=Q),ku.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_;t={r:r,a:e,b:t},this.log_(xo(t)),oo(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(t),n&&(this.requestCBHash_[r]=n)},ku.prototype.get=function(e){var t=this;this.initConnection_();var n=new lo,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(o),n.promise},ku.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),oo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),oo(!this.listens.get(o).has(i),"listen() called twice for same path/queryId."),n={onComplete:r,hashFn:t,query:e,tag:n},this.listens.get(o).set(i,n),this.connected_&&this.sendListen_(n)},ku.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},ku.prototype.sendListen_=function(e){var t=this,n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var a=o.d,s=o.s;ku.warnOnListenWarnings_(a,n),(t.listens.get(r)&&t.listens.get(r).get(i))===e&&(t.log_("listen response",o),"ok"!==s&&t.removeListen_(r,i),e.onComplete&&e.onComplete(s,a))}))},ku.warnOnListenWarnings_=function(e,t){e&&"object"==typeof e&&Ro(e,"w")&&(e=Do(e,"w"),Array.isArray(e)&&~e.indexOf("no_index")&&(e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',t=t._path.toString(),rs("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+e+" at "+t+" to your security rules for better performance.")))},ku.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},ku.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||function(e){return"object"==typeof(e=No(e).claims)&&!0===e.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},ku.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},ku.prototype.tryAuth=function(){var e,t,n,r=this;this.connected_&&this.authToken_&&(t=function(e){return!!(e=No(e).claims)&&"object"==typeof e&&e.hasOwnProperty("iat")}(e=this.authToken_)?"auth":"gauth",n={cred:e},null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(function(t){var n=t.s;t=t.d||"error",r.authToken_===e&&("ok"===n?r.invalidAuthTokenCount_=0:r.onAuthRevoked_(n,t))})))},ku.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s;t=t.d||"error","ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,t)}))},ku.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),oo(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},ku.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t),e={p:e},r&&(e.q=n,e.t=r),this.sendRequest("n",e)},ku.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},ku.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},ku.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},ku.prototype.sendOnDisconnect_=function(e,t,n,r){n={p:t,d:n},this.log_("onDisconnect "+e,n),this.sendRequest(e,n,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},ku.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},ku.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},ku.prototype.putInternal=function(e,t,n,r,i){this.initConnection_(),n={p:t,d:n},void 0!==i&&(n.h=i),this.outstandingPuts_.push({action:e,request:n,onComplete:r}),this.outstandingPutCount_++,r=this.outstandingPuts_.length-1,this.connected_?this.sendPut_(r):this.log_("Buffering put: "+t)},ku.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},ku.prototype.reportStats=function(e){var t=this;this.connected_&&(this.log_("reportStats",e={c:e}),this.sendRequest("s",e,(function(e){"ok"!==e.s&&(e=e.d,t.log_("reportStats","Error sending stats: "+e))})))},ku.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+xo(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},ku.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Va("Unrecognized action received from server: "+xo(e)+"\nAre you using the latest client?")},ku.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},ku.prototype.scheduleConnect_=function(e){var t=this;oo(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},ku.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},ku.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},ku.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},ku.prototype.onRealtimeDisconnect_=function(){var e;this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()&&(this.visible_?this.lastConnectionEstablishedTime_&&(3e4<(new Date).getTime()-this.lastConnectionEstablishedTime_&&(this.reconnectDelay_=Iu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime()),e=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-e),e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)),this.onConnectStatus_(!1)},ku.prototype.establishConnection_=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Ji(this,(function(h){switch(h.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ku.nextConnectionId_++,c=this.lastSessionId,i=!1,o=null,a=function(){o?o.close():(i=!0,n())},u=function(e){oo(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)},this.realtime_={close:a,sendRequest:u},s=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(s),this.appCheckTokenProvider_.getToken(s)])];case 2:return u=eo.apply(void 0,[h.sent(),2]),s=u[0],u=u[1],i?es("getToken() completed but was canceled"):(es("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=u&&u.token,o=new Hs(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(function(e){rs(e+" ("+l.repoInfo_.toString()+")"),l.interrupt("server_kill")}),c)),[3,4];case 3:return c=h.sent(),this.log_("Failed to get token: "+c),i||(this.repoInfo_.nodeAdmin&&rs(c),a()),[3,4];case 4:return[2]}}))}))},ku.prototype.interrupt=function(e){es("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},ku.prototype.resume=function(e){es("Resuming connection for reason: "+e),delete this.interruptReasons_[e],jo(this.interruptReasons_)&&(this.reconnectDelay_=Iu,this.realtime_||this.scheduleConnect_(0))},ku.prototype.handleTimestamp_=function(e){e-=(new Date).getTime(),this.onServerInfoUpdate_({serverTimeOffset:e})},ku.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},ku.prototype.onListenRevoked_=function(e,t){t=t?t.map((function(e){return ss(e)})).join("$"):"default",(t=this.removeListen_(e,t))&&t.onComplete&&t.onComplete("permission_denied")},ku.prototype.removeListen_=function(e,t){var n,r=new nu(e).toString();return this.listens.has(r)?(n=(e=this.listens.get(r)).get(t),e.delete(t),0===e.size&&this.listens.delete(r)):n=void 0,n},ku.prototype.onAuthRevoked_=function(e,t){es("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,3<=this.invalidAuthTokenCount_&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},ku.prototype.onAppCheckRevoked_=function(e,t){es("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,3<=this.invalidAppCheckTokenCount_&&this.appCheckTokenProvider_.notifyForInvalidToken())},ku.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},ku.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Zi(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var s=(n=void 0,Zi(a.values())),u=s.next();!u.done;u=s.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},ku.prototype.sendConnectStats_=function(){var e={};e["sdk.js."+Ra.replace(/\./g,"-")]=1,vo()?e["framework.cordova"]=1:yo()&&(e["framework.reactnative"]=1),this.reportStats(e)},ku.prototype.shouldReconnect_=function(){var e=Js.getInstance().currentlyOnline();return jo(this.interruptReasons_)&&e},ku.nextPersistentConnectionId_=0,ku.nextConnectionId_=0,ku);function ku(e,t,n,r,i,o,a,s){var u=Tu.call(this)||this;if(u.repoInfo_=e,u.applicationId_=t,u.onDataUpdate_=n,u.onConnectStatus_=r,u.onServerInfoUpdate_=i,u.authTokenProvider_=o,u.appCheckTokenProvider_=a,u.authOverride_=s,u.id=ku.nextPersistentConnectionId_++,u.log_=ts("p:"+u.id+":"),u.interruptReasons_={},u.listens=new Map,u.outstandingPuts_=[],u.outstandingGets_=[],u.outstandingPutCount_=0,u.outstandingGetCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=Iu,u.maxReconnectDelay_=Su,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.appCheckToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.invalidAppCheckTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!mo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return wu.getInstance().on("visible",u.onVisible_,u),-1===e.host.indexOf("fblocal")&&Js.getInstance().on("online",u.onOnline_,u),u}var Ou,Pu,xu=(Nu.Wrap=function(e,t){return new Nu(e,t)},Nu);function Nu(e,t){this.name=e,this.node=t}function Au(){}function Ru(){return null!==Pu&&Pu.apply(this,arguments)||this}Au.prototype.getCompare=function(){return this.compare.bind(this)},Au.prototype.indexedValueChanged=function(e,t){return e=new xu(is,e),t=new xu(is,t),0!==this.compare(e,t)},Au.prototype.minPost=function(){return xu.MIN},$i(Ru,Pu=G=Au),Object.defineProperty(Ru,"__EMPTY_NODE",{get:function(){return Ou},set:function(e){Ou=e},enumerable:!1,configurable:!0}),Ru.prototype.compare=function(e,t){return as(e.name,t.name)},Ru.prototype.isDefinedOn=function(e){throw ao("KeyIndex.isDefinedOn not expected to be called.")},Ru.prototype.indexedValueChanged=function(e,t){return!1},Ru.prototype.minPost=function(){return xu.MIN},Ru.prototype.maxPost=function(){return new xu(os,Ou)},Ru.prototype.makePost=function(e,t){return oo("string"==typeof e,"KeyIndex indexValue must always be a string."),new xu(e,Ou)},Ru.prototype.toString=function(){return".key"};var Du=new(li=Ru),ju=(Lu.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_.pop(),t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value};if(this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},Lu.prototype.hasNext=function(){return 0<this.nodeStack_.length},Lu.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},Lu);function Lu(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var Mu=(Fu.prototype.copy=function(e,t,n,r,i){return new Fu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},Fu.prototype.count=function(){return this.left.count()+1+this.right.count()},Fu.prototype.isEmpty=function(){return!1},Fu.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},Fu.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},Fu.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},Fu.prototype.minKey=function(){return this.min_().key},Fu.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},Fu.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},Fu.prototype.removeMin_=function(){if(this.left.isEmpty())return Vu.EMPTY_NODE;var e=this;return(e=(e=e.left.isRed_()||e.left.left.isRed_()?e:e.moveRedLeft_()).copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},Fu.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed_()||r.left.left.isRed_()?r:r.moveRedLeft_()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed_()?r.rotateRight_():r).right.isEmpty()||r.right.isRed_()||r.right.left.isRed_()?r:r.moveRedRight_()).key)){if(r.right.isEmpty())return Vu.EMPTY_NODE;n=r.right.min_(),r=r.copy(n.key,n.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()},Fu.prototype.isRed_=function(){return this.color},Fu.prototype.fixUp_=function(){var e=this;return(e=(e=e.right.isRed_()&&!e.left.isRed_()?e.rotateLeft_():e).left.isRed_()&&e.left.left.isRed_()?e.rotateRight_():e).left.isRed_()&&e.right.isRed_()?e.colorFlip_():e},Fu.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_():e},Fu.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()?(e=e.rotateRight_()).colorFlip_():e},Fu.prototype.rotateLeft_=function(){var e=this.copy(null,null,Fu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},Fu.prototype.rotateRight_=function(){var e=this.copy(null,null,Fu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},Fu.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},Fu.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},Fu.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},Fu.RED=!0,Fu.BLACK=!1,Fu);function Fu(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Fu.RED,this.left=null!=r?r:Vu.EMPTY_NODE,this.right=null!=i?i:Vu.EMPTY_NODE}function Uu(){}Uu.prototype.copy=function(e,t,n,r,i){return this},Uu.prototype.insert=function(e,t,n){return new Mu(e,t,null)},Uu.prototype.remove=function(e,t){return this},Uu.prototype.count=function(){return 0},Uu.prototype.isEmpty=function(){return!0},Uu.prototype.inorderTraversal=function(e){return!1},Uu.prototype.reverseTraversal=function(e){return!1},Uu.prototype.minKey=function(){return null},Uu.prototype.maxKey=function(){return null},Uu.prototype.check_=function(){return 0},Uu.prototype.isRed_=function(){return!1},$s=Uu;var qu,Vu=(Bu.prototype.insert=function(e,t){return new Bu(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Mu.BLACK,null,null))},Bu.prototype.remove=function(e){return new Bu(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Mu.BLACK,null,null))},Bu.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:0<t&&(n=n.right)}return null},Bu.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:0<t&&(n=(r=n).right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},Bu.prototype.isEmpty=function(){return this.root_.isEmpty()},Bu.prototype.count=function(){return this.root_.count()},Bu.prototype.minKey=function(){return this.root_.minKey()},Bu.prototype.maxKey=function(){return this.root_.maxKey()},Bu.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},Bu.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},Bu.prototype.getIterator=function(e){return new ju(this.root_,null,this.comparator_,!1,e)},Bu.prototype.getIteratorFrom=function(e,t){return new ju(this.root_,e,this.comparator_,!1,t)},Bu.prototype.getReverseIteratorFrom=function(e,t){return new ju(this.root_,e,this.comparator_,!0,t)},Bu.prototype.getReverseIterator=function(e){return new ju(this.root_,null,this.comparator_,!0,e)},Bu.EMPTY_NODE=new $s,Bu);function Bu(e,t){void 0===t&&(t=Bu.EMPTY_NODE),this.comparator_=e,this.root_=t}function zu(e,t){return as(e.name,t.name)}function Ku(e,t){return as(e,t)}function Wu(e){return"number"==typeof e?"number:"+cs(e):"string:"+e}var Hu,Gu,Qu,$u,Yu=function(e){var t;e.isLeafNode()?(t=e.val(),oo("string"==typeof t||"number"==typeof t||"object"==typeof t&&Ro(t,".sv"),"Priority must be a string or number.")):oo(e===qu||e.isEmpty(),"priority of unexpected type."),oo(e===qu||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xu=(Object.defineProperty(Ju,"__childrenNodeConstructor",{get:function(){return Hu},set:function(e){Hu=e},enumerable:!1,configurable:!0}),Ju.prototype.isLeafNode=function(){return!0},Ju.prototype.getPriority=function(){return this.priorityNode_},Ju.prototype.updatePriority=function(e){return new Ju(this.value_,e)},Ju.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:Ju.__childrenNodeConstructor.EMPTY_NODE},Ju.prototype.getChild=function(e){return fu(e)?this:".priority"===ou(e)?this.priorityNode_:Ju.__childrenNodeConstructor.EMPTY_NODE},Ju.prototype.hasChild=function(){return!1},Ju.prototype.getPredecessorChildName=function(e,t){return null},Ju.prototype.updateImmediateChild=function(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ju.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)},Ju.prototype.updateChild=function(e,t){var n=ou(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(oo(".priority"!==n||1===au(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ju.__childrenNodeConstructor.EMPTY_NODE.updateChild(su(e),t)))},Ju.prototype.isEmpty=function(){return!1},Ju.prototype.numChildren=function(){return 0},Ju.prototype.forEachChild=function(e,t){return!1},Ju.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},Ju.prototype.hash=function(){var e,t;return null===this.lazyHash_&&(e="",this.priorityNode_.isEmpty()||(e+="priority:"+Wu(this.priorityNode_.val())+":"),e+=(t=typeof this.value_)+":",e+="number"==t?cs(this.value_):this.value_,this.lazyHash_=Ua(e)),this.lazyHash_},Ju.prototype.getValue=function(){return this.value_},Ju.prototype.compareTo=function(e){return e===Ju.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ju.__childrenNodeConstructor?-1:(oo(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},Ju.prototype.compareToLeafNode_=function(e){var t=typeof e.value_,n=typeof this.value_,r=Ju.VALUE_TYPE_ORDER.indexOf(t),i=Ju.VALUE_TYPE_ORDER.indexOf(n);return oo(0<=r,"Unknown leaf type: "+t),oo(0<=i,"Unknown leaf type: "+n),r===i?"object"==n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r},Ju.prototype.withIndex=function(){return this},Ju.prototype.isIndexed=function(){return!0},Ju.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},Ju.VALUE_TYPE_ORDER=["object","boolean","number","string"],Ju);function Ju(e,t){void 0===t&&(t=Ju.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=t,this.lazyHash_=null,oo(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Yu(this.priorityNode_)}function Zu(){return null!==$u&&$u.apply(this,arguments)||this}var ec=new($i(Zu,$u=G),Zu.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority();return 0===(r=n.compareTo(r))?as(e.name,t.name):r},Zu.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},Zu.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},Zu.prototype.minPost=function(){return xu.MIN},Zu.prototype.maxPost=function(){return new xu(os,new Xu("[PRIORITY-POST]",Qu))},Zu.prototype.makePost=function(e,t){return e=Gu(e),new xu(t,new Xu("[PRIORITY-POST]",e))},Zu.prototype.toString=function(){return".priority"},Zu),tc=Math.log(2),nc=(rc.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},rc);function rc(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/tc,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}var ic,oc,ac=function(e,t,n,r){e.sort(t);var i=function t(r,i){if(0==(o=i-r))return null;if(1==o)return a=e[r],s=n?n(a):a,new Mu(s,a.node,Mu.BLACK,null,null);r=t(r,o=parseInt(o/2,10)+r),i=t(o+1,i);var o,a=e[o],s=n?n(a):a;return new Mu(s,a.node,Mu.BLACK,r,i)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t,t=i(1+o,s),s=e[o],o=n?n(s):s,u(new Mu(o,s.node,r,null,t))},u=function(e){r=r?r.left=e:o=e},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,Mu.BLACK):(s(h,Mu.BLACK),s(h,Mu.RED))}return o}(new nc(e.length));return new Vu(r||t,o)},sc={},uc=(Object.defineProperty(cc,"Default",{get:function(){return oo(ec,"ChildrenNode.ts has not been loaded"),ic=ic||new cc({".priority":sc},{".priority":ec})},enumerable:!1,configurable:!0}),cc.prototype.get=function(e){var t=Do(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Vu?t:null},cc.prototype.hasIndex=function(e){return Ro(this.indexSet_,e.toString())},cc.prototype.addIndex=function(e,t){oo(e!==Du,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var n=[],r=!1,i=t.getIterator(xu.Wrap),o=i.getNext();o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();var a=r?ac(n,e.getCompare()):sc,s=e.toString(),u=Yi({},this.indexSet_);return u[s]=e,(t=Yi({},this.indexes_))[s]=a,new cc(t,u)},cc.prototype.addToIndexes=function(e,t){var n=this;return new cc(Lo(this.indexes_,(function(r,i){var o=Do(n.indexSet_,i);if(oo(o,"Missing index implementation for "+i),r===sc){if(o.isDefinedOn(e.node)){for(var a=[],s=t.getIterator(xu.Wrap),u=s.getNext();u;)u.name!==e.name&&a.push(u),u=s.getNext();return a.push(e),ac(a,o.getCompare())}return sc}return o=r,(o=(i=t.get(e.name))?r.remove(new xu(e.name,i)):o).insert(e,e.node)})),this.indexSet_)},cc.prototype.removeFromIndexes=function(e,t){return new cc(Lo(this.indexes_,(function(n){if(n===sc)return n;var r=t.get(e.name);return r?n.remove(new xu(e.name,r)):n})),this.indexSet_)},cc);function cc(e,t){this.indexes_=e,this.indexSet_=t}var lc,hc=(Object.defineProperty(fc,"EMPTY_NODE",{get:function(){return oc=oc||new fc(new Vu(Ku),null,uc.Default)},enumerable:!1,configurable:!0}),fc.prototype.isLeafNode=function(){return!1},fc.prototype.getPriority=function(){return this.priorityNode_||oc},fc.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new fc(this.children_,e,this.indexMap_)},fc.prototype.getImmediateChild=function(e){return".priority"===e?this.getPriority():null===(e=this.children_.get(e))?oc:e},fc.prototype.getChild=function(e){var t=ou(e);return null===t?this:this.getImmediateChild(t).getChild(su(e))},fc.prototype.hasChild=function(e){return null!==this.children_.get(e)},fc.prototype.updateImmediateChild=function(e,t){if(oo(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);var n=new xu(e,t),r=void 0,i=void 0;return i=t.isEmpty()?(r=this.children_.remove(e),this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),this.indexMap_.addToIndexes(n,this.children_)),n=r.isEmpty()?oc:this.priorityNode_,new fc(r,n,i)},fc.prototype.updateChild=function(e,t){var n=ou(e);return null===n?t:(oo(".priority"!==ou(e)||1===au(e),".priority must be the last token in a path"),t=this.getImmediateChild(n).updateChild(su(e),t),this.updateImmediateChild(n,t))},fc.prototype.isEmpty=function(){return this.children_.isEmpty()},fc.prototype.numChildren=function(){return this.children_.count()},fc.prototype.val=function(e){if(this.isEmpty())return null;var t={},n=0,r=0,i=!0;if(this.forEachChild(ec,(function(o,a){t[o]=a.val(e),n++,i&&fc.INTEGER_REGEXP_.test(o)?r=Math.max(r,Number(o)):i=!1})),!e&&i&&r<2*n){var o,a=[];for(o in t)a[o]=t[o];return a}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t},fc.prototype.hash=function(){var e;return null===this.lazyHash_&&(e="",this.getPriority().isEmpty()||(e+="priority:"+Wu(this.getPriority().val())+":"),this.forEachChild(ec,(function(t,n){""!==(n=n.hash())&&(e+=":"+t+":"+n)})),this.lazyHash_=""===e?"":Ua(e)),this.lazyHash_},fc.prototype.getPredecessorChildName=function(e,t,n){return(n=this.resolveIndex_(n))?(t=n.getPredecessorKey(new xu(e,t)))?t.name:null:this.children_.getPredecessorKey(e)},fc.prototype.getFirstChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.minKey())&&e.name:this.children_.minKey()},fc.prototype.getFirstChild=function(e){return(e=this.getFirstChildName(e))?new xu(e,this.children_.get(e)):null},fc.prototype.getLastChildName=function(e){return(e=this.resolveIndex_(e))?(e=e.maxKey())&&e.name:this.children_.maxKey()},fc.prototype.getLastChild=function(e){return(e=this.getLastChildName(e))?new xu(e,this.children_.get(e)):null},fc.prototype.forEachChild=function(e,t){return(e=this.resolveIndex_(e))?e.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},fc.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},fc.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,xu.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},fc.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},fc.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,xu.Wrap),i=r.peek();null!=i&&0<t.compare(i,e);)r.getNext(),i=r.peek();return r},fc.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===pc?-1:0},fc.prototype.withIndex=function(e){return e===Du||this.indexMap_.hasIndex(e)?this:(e=this.indexMap_.addIndex(e,this.children_),new fc(this.children_,this.priorityNode_,e))},fc.prototype.isIndexed=function(e){return e===Du||this.indexMap_.hasIndex(e)},fc.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(ec),n=e.getIterator(ec),r=t.getNext(),i=n.getNext();r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}return!1},fc.prototype.resolveIndex_=function(e){return e===Du?null:this.indexMap_.get(e.toString())},fc.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,fc);function fc(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Yu(this.priorityNode_),this.children_.isEmpty()&&oo(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}function dc(){return lc.call(this,new Vu(Ku),hc.EMPTY_NODE,uc.Default)||this}var pc=new($i(dc,lc=hc),dc.prototype.compareTo=function(e){return e===this?0:1},dc.prototype.equals=function(e){return e===this},dc.prototype.getPriority=function(){return this},dc.prototype.getImmediateChild=function(e){return hc.EMPTY_NODE},dc.prototype.isEmpty=function(){return!1},dc);Object.defineProperties(xu,{MIN:{value:new xu(is,hc.EMPTY_NODE)},MAX:{value:new xu(os,pc)}}),li.__EMPTY_NODE=hc.EMPTY_NODE,Xu.__childrenNodeConstructor=hc,Qu=qu=pc;var vc=!0;function gc(e,t){if(void 0===t&&(t=null),null===e)return hc.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),oo(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"!=typeof(e="object"==typeof e&&".value"in e&&null!==e[".value"]?e[".value"]:e)||".sv"in e)return new Xu(e,gc(t));if(e instanceof Array||!vc){var n=hc.EMPTY_NODE;return us(e,(function(t,r){Ro(e,t)&&"."!==t.substring(0,1)&&(!(r=gc(r)).isLeafNode()&&r.isEmpty()||(n=n.updateImmediateChild(t,r)))})),n.updatePriority(gc(t))}var r=[],i=!1;if(us(e,(function(e,t){"."!==e.substring(0,1)&&((t=gc(t)).isEmpty()||(i=i||!t.getPriority().isEmpty(),r.push(new xu(e,t))))})),0===r.length)return hc.EMPTY_NODE;var o=ac(r,zu,(function(e){return e.name}),Ku);if(i){var a=ac(r,ec.getCompare());return new hc(o,gc(t),new uc({".priority":a},{".priority":ec}))}return new hc(o,gc(t),uc.Default)}Gu=gc;var yc,mc,bc=($i(_c,yc=G),_c.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},_c.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},_c.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node);return 0===(r=n.compareTo(r))?as(e.name,t.name):r},_c.prototype.makePost=function(e,t){return e=gc(e),e=hc.EMPTY_NODE.updateChild(this.indexPath_,e),new xu(t,e)},_c.prototype.maxPost=function(){var e=hc.EMPTY_NODE.updateChild(this.indexPath_,pc);return new xu(os,e)},_c.prototype.toString=function(){return cu(this.indexPath_,0).join("/")},_c);function _c(e){var t=yc.call(this)||this;return t.indexPath_=e,oo(!fu(e)&&".priority"!==ou(e),"Can't create PathIndex with empty path or .priority key"),t}function wc(){return null!==mc&&mc.apply(this,arguments)||this}function Ec(e){if(e===""+ds)return"-";var t=ps(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;0<=i&&"z"===n[i];)i--;return-1===i?os:(t=n[i],t=kc.charAt(kc.indexOf(t)+1),n[i]=t,n.slice(0,i+1).join(""))}function Tc(e){if(e===""+fs)return is;var t=ps(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?""+ds:(delete n[n.length-1],n.join("")):(n[n.length-1]=kc.charAt(kc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))}var Ic,Sc,Cc=new($i(wc,mc=G),wc.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?as(e.name,t.name):n},wc.prototype.isDefinedOn=function(e){return!0},wc.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},wc.prototype.minPost=function(){return xu.MIN},wc.prototype.maxPost=function(){return xu.MAX},wc.prototype.makePost=function(e,t){return e=gc(e),new xu(t,e)},wc.prototype.toString=function(){return".value"},wc),kc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Oc=(Ic=0,Sc=[],function(e){var t=e===Ic;Ic=e;for(var n=new Array(8),r=7;0<=r;r--)n[r]=kc.charAt(e%64),e=Math.floor(e/64);oo(0===e,"Cannot push at time == 0");var i=n.join("");if(t){for(r=11;0<=r&&63===Sc[r];r--)Sc[r]=0;Sc[r]++}else for(r=0;r<12;r++)Sc[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)i+=kc.charAt(Sc[r]);return oo(20===i.length,"nextPushId: Length should be 20."),i});function Pc(e){return{type:"value",snapshotNode:e}}function xc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Nc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ac(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Rc=(Dc.prototype.updateChild=function(e,t,n,r,i,o){oo(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(Nc(t,a)):oo(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xc(t,n)):o.trackChildChange(Ac(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},Dc.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ec,(function(e,r){t.hasChild(e)||n.trackChildChange(Nc(e,r))})),t.isLeafNode()||t.forEachChild(ec,(function(t,r){var i;e.hasChild(t)?(i=e.getImmediateChild(t)).equals(r)||n.trackChildChange(Ac(t,r,i)):n.trackChildChange(xc(t,r))}))),t.withIndex(this.index_)},Dc.prototype.updatePriority=function(e,t){return e.isEmpty()?hc.EMPTY_NODE:e.updatePriority(t)},Dc.prototype.filtersNodes=function(){return!1},Dc.prototype.getIndexedFilter=function(){return this},Dc.prototype.getIndex=function(){return this.index_},Dc);function Dc(e){this.index_=e}var jc=(Lc.prototype.getStartPost=function(){return this.startPost_},Lc.prototype.getEndPost=function(){return this.endPost_},Lc.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},Lc.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new xu(t,n))||(n=hc.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},Lc.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=hc.EMPTY_NODE);var r=(r=t.withIndex(this.index_)).updatePriority(hc.EMPTY_NODE),i=this;return t.forEachChild(ec,(function(e,t){i.matches(new xu(e,t))||(r=r.updateImmediateChild(e,hc.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},Lc.prototype.updatePriority=function(e,t){return e},Lc.prototype.filtersNodes=function(){return!0},Lc.prototype.getIndexedFilter=function(){return this.indexedFilter_},Lc.prototype.getIndex=function(){return this.index_},Lc.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},Lc.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},Lc);function Lc(e){this.indexedFilter_=new Rc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Lc.getStartPost_(e),this.endPost_=Lc.getEndPost_(e)}var Mc=(Fc.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new xu(t,n))||(n=hc.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},Fc.prototype.updateFullNode=function(e,t,n){if(t.isLeafNode()||t.isEmpty())r=hc.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var r=hc.EMPTY_NODE.withIndex(this.index_),i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(hc.EMPTY_NODE);var s,u=void 0,c=void 0,l=void 0;i=void 0,l=this.reverse_?(i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost(),s=this.index_.getCompare(),function(e,t){return s(t,e)}):(i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),this.index_.getCompare()),o=0;for(var h=!1;i.hasNext();)a=i.getNext(),(h=!h&&l(u,a)<=0||h)&&o<this.limit_&&l(a,c)<=0?o++:r=r.updateImmediateChild(a.name,hc.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},Fc.prototype.updatePriority=function(e,t){return e},Fc.prototype.filtersNodes=function(){return!0},Fc.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},Fc.prototype.getIndex=function(){return this.index_},Fc.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o,a;a=this.reverse_?(o=this.index_.getCompare(),function(e,t){return o(t,e)}):this.index_.getCompare();var s=e;oo(s.numChildren()===this.limit_,"");var u=new xu(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);return l&&!n.isEmpty()&&0<=d?(null!=i&&i.trackChildChange(Ac(t,n,h)),s.updateImmediateChild(t,n)):(null!=i&&i.trackChildChange(Nc(t,h)),h=s.updateImmediateChild(t,hc.EMPTY_NODE),null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(xc(f.name,f.node)),h.updateImmediateChild(f.name,f.node)):h)}return!n.isEmpty()&&l&&0<=a(c,u)?(null!=i&&(i.trackChildChange(Nc(c.name,c.node)),i.trackChildChange(xc(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,hc.EMPTY_NODE)):e},Fc);function Fc(e){this.rangedFilter_=new jc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var Uc=(qc.prototype.hasStart=function(){return this.startSet_},qc.prototype.hasStartAfter=function(){return this.startAfterSet_},qc.prototype.hasEndBefore=function(){return this.endBeforeSet_},qc.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},qc.prototype.getIndexStartValue=function(){return oo(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},qc.prototype.getIndexStartName=function(){return oo(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:is},qc.prototype.hasEnd=function(){return this.endSet_},qc.prototype.getIndexEndValue=function(){return oo(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},qc.prototype.getIndexEndName=function(){return oo(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:os},qc.prototype.hasLimit=function(){return this.limitSet_},qc.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},qc.prototype.getLimit=function(){return oo(this.limitSet_,"Only valid if limit has been set"),this.limit_},qc.prototype.getIndex=function(){return this.index_},qc.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},qc.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ec},qc.prototype.copy=function(){var e=new qc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},qc);function qc(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ec}function Vc(e,t,n){return(e=e.copy()).startSet_=!0,e.indexStartValue_=t=void 0===t?null:t,null!=n?(e.startNameSet_=!0,e.indexStartName_=n):(e.startNameSet_=!1,e.indexStartName_=""),e}function Bc(e,t,n){return(e=e.copy()).endSet_=!0,e.indexEndValue_=t=void 0===t?null:t,void 0!==n?(e.endNameSet_=!0,e.indexEndName_=n):(e.endNameSet_=!1,e.indexEndName_=""),e}function zc(e,t){return(e=e.copy()).index_=t,e}function Kc(e){var t,n={};return e.isDefault()||(t=e.index_===ec?"$priority":e.index_===Cc?"$value":e.index_===Du?"$key":(oo(e.index_ instanceof bc,"Unrecognized index type!"),e.index_.toString()),n.orderBy=xo(t),e.startSet_&&(n.startAt=xo(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+xo(e.indexStartName_))),e.endSet_&&(n.endAt=xo(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+xo(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Wc(e){var t,n={};return e.startSet_&&(n.sp=e.indexStartValue_,e.startNameSet_&&(n.sn=e.indexStartName_)),e.endSet_&&(n.ep=e.indexEndValue_,e.endNameSet_&&(n.en=e.indexEndName_)),e.limitSet_&&(n.l=e.limit_,""===(t=e.viewFrom_)&&(t=e.isViewFromLeft()?"l":"r"),n.vf=t),e.index_!==ec&&(n.i=e.index_.toString()),n}var Hc,Gc=($i(Qc,Hc=Q),Qc.prototype.reportStats=function(e){throw new Error("Method not implemented.")},Qc.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(oo(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},Qc.prototype.listen=function(e,t,n,r){var i=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var a=Qc.getListenId_(e,n),s={};this.listens_[a]=s,e=Kc(e._queryParams),this.restRequest_(o+".json",e,(function(e,t){null===(e=404===e?t=null:e)&&i.onDataUpdate_(o,t,!1,n),Do(i.listens_,a)===s&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},Qc.prototype.unlisten=function(e,t){t=Qc.getListenId_(e,t),delete this.listens_[t]},Qc.prototype.get=function(e){var t=this,n=Kc(e._queryParams),r=e._path.toString(),i=new lo;return this.restRequest_(r+".json",n,(function(e,n){null===(e=404===e?n=null:e)?(t.onDataUpdate_(r,n,!1,null),i.resolve(n)):i.reject(new Error(n))})),i.promise},Qc.prototype.refreshAuthToken=function(e){},Qc.prototype.restRequest_=function(e,t,n){var r=this;return(t=void 0===t?{}:t).format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){i=(o=eo(i,2))[0];var o=o[1];i&&i.accessToken&&(t.auth=i.accessToken),o&&o.token&&(t.ac=o.token);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+Mo(t);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var e=null;if(200<=s.status&&s.status<300){try{e=Po(s.responseText)}catch(e){rs("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&rs("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()}))},Qc);function Qc(e,t,n,r){var i=Hc.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=t,i.authTokenProvider_=n,i.appCheckTokenProvider_=r,i.log_=ts("p:rest:"),i.listens_={},i}var $c=(Yc.prototype.getNode=function(e){return this.rootNode_.getChild(e)},Yc.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},Yc);function Yc(){this.rootNode_=hc.EMPTY_NODE}function Xc(){return{value:null,children:new Map}}function Jc(e,t,n){var r;fu(t)?(e.value=n,e.children.clear()):null!==e.value?e.value=e.value.updateChild(t,n):(r=ou(t),e.children.has(r)||e.children.set(r,Xc()),Jc(e.children.get(r),t=su(t),n))}function Zc(e,t,n){var r;null!==e.value?n(t,e.value):(r=function(e,r){Zc(r,new nu(t.toString()+"/"+e),n)},e.children.forEach((function(e,t){r(t,e)})))}var el=(tl.prototype.get=function(){var e=this.collection_.get(),t=Yi({},e);return this.last_&&us(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},tl);function tl(e){this.collection_=e,this.last_=null}var nl,rl=(il.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;us(t,(function(t,i){0<i&&Ro(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),ls(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},il);function il(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new el(e),e=1e4+2e4*Math.random(),ls(this.reportStats_.bind(this),Math.floor(e))}function ol(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function al(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sl(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}($s=nl=nl||{})[$s.OVERWRITE=0]="OVERWRITE",$s[$s.MERGE=1]="MERGE",$s[$s.ACK_USER_WRITE=2]="ACK_USER_WRITE",$s[$s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";var ul=(cl.prototype.operationForChild=function(e){if(fu(this.path)){if(null!=this.affectedTree.value)return oo(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var t=this.affectedTree.subtree(new nu(e));return new cl(iu(),t,this.revert)}return oo(ou(this.path)===e,"operationForChild called for unrelated child."),new cl(su(this.path),this.affectedTree,this.revert)},cl);function cl(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=nl.ACK_USER_WRITE,this.source=ol()}var ll=(hl.prototype.operationForChild=function(e){return fu(this.path)?new hl(this.source,iu()):new hl(this.source,su(this.path))},hl);function hl(e,t){this.source=e,this.path=t,this.type=nl.LISTEN_COMPLETE}var fl=(dl.prototype.operationForChild=function(e){return fu(this.path)?new dl(this.source,iu(),this.snap.getImmediateChild(e)):new dl(this.source,su(this.path),this.snap)},dl);function dl(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=nl.OVERWRITE}var pl=(vl.prototype.operationForChild=function(e){if(fu(this.path)){var t=this.children.subtree(new nu(e));return t.isEmpty()?null:t.value?new fl(this.source,iu(),t.value):new vl(this.source,iu(),t)}return oo(ou(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new vl(this.source,su(this.path),this.children)},vl.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},vl);function vl(e,t,n){this.source=e,this.path=t,this.children=n,this.type=nl.MERGE}var gl=(yl.prototype.isFullyInitialized=function(){return this.fullyInitialized_},yl.prototype.isFiltered=function(){return this.filtered_},yl.prototype.isCompleteForPath=function(e){return fu(e)?this.isFullyInitialized()&&!this.filtered_:(e=ou(e),this.isCompleteForChild(e))},yl.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},yl.prototype.getNode=function(){return this.node_},yl);function yl(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var ml,bl=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function _l(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),wl(e,i,"child_removed",t,r,n),wl(e,i,"child_added",t,r,n),wl(e,i,"child_moved",o,r,n),wl(e,i,"child_changed",t,r,n),wl(e,i,"value",t,r,n),i}function wl(e,t,n,r,i,o){(r=r.filter((function(e){return e.type===n}))).sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw ao("Should only compare child_ events.");return t=new xu(t.childName,t.snapshotNode),n=new xu(n.childName,n.snapshotNode),e.index_.compare(t,n)}(e,t,n)})),r.forEach((function(n){var r,a,s,u=(r=e,s=o,"value"===(a=n).type||"child_removed"===a.type||(a.prevName=s.getPredecessorChildName(a.childName,a.snapshotNode,r.index_)),a);i.forEach((function(r){r.respondsTo(n.type)&&t.push(r.createEvent(u,e.query_))}))}))}function El(e,t){return{eventCache:e,serverCache:t}}function Tl(e,t,n,r){return El(new gl(t,n,r),e.serverCache)}function Il(e,t,n,r){return El(e.eventCache,new gl(t,n,r))}function Sl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Cl(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var kl=(Ol.fromObject=function(e){var t=new Ol(null);return us(e,(function(e,n){t=t.set(new nu(e),n)})),t},Ol.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},Ol.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:iu(),value:this.value};if(fu(e))return null;var n=ou(e),r=this.children.get(n);return null===r||null==(t=r.findRootMostMatchingPathAndValue(su(e),t))?null:{path:hu(new nu(n),t.path),value:t.value}},Ol.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},Ol.prototype.subtree=function(e){if(fu(e))return this;var t=ou(e);return null!==(t=this.children.get(t))?t.subtree(su(e)):new Ol(null)},Ol.prototype.set=function(e,t){if(fu(e))return new Ol(t,this.children);var n=ou(e);return t=(this.children.get(n)||new Ol(null)).set(su(e),t),t=this.children.insert(n,t),new Ol(this.value,t)},Ol.prototype.remove=function(e){if(fu(e))return this.children.isEmpty()?new Ol(null):new Ol(null,this.children);var t=ou(e),n=this.children.get(t);return n?(n=n.remove(su(e)),e=void 0,e=n.isEmpty()?this.children.remove(t):this.children.insert(t,n),null===this.value&&e.isEmpty()?new Ol(null):new Ol(this.value,e)):this},Ol.prototype.get=function(e){if(fu(e))return this.value;var t=ou(e);return(t=this.children.get(t))?t.get(su(e)):null},Ol.prototype.setTree=function(e,t){if(fu(e))return t;var n=ou(e);return e=(this.children.get(n)||new Ol(null)).setTree(su(e),t),t=void 0,t=e.isEmpty()?this.children.remove(n):this.children.insert(n,e),new Ol(this.value,t)},Ol.prototype.fold=function(e){return this.fold_(iu(),e)},Ol.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(hu(e,r),t)})),t(e,this.value,n)},Ol.prototype.findOnPath=function(e,t){return this.findOnPath_(e,iu(),t)},Ol.prototype.findOnPath_=function(e,t,n){if(r=!!this.value&&n(t,this.value))return r;if(fu(e))return null;var r,i=ou(e);return(r=this.children.get(i))?r.findOnPath_(su(e),hu(t,i),n):null},Ol.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,iu(),t)},Ol.prototype.foreachOnPath_=function(e,t,n){if(fu(e))return this;this.value&&n(t,this.value);var r=ou(e),i=this.children.get(r);return i?i.foreachOnPath_(su(e),hu(t,r),n):new Ol(null)},Ol.prototype.foreach=function(e){this.foreach_(iu(),e)},Ol.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(hu(e,n),t)})),this.value&&t(e,this.value)},Ol.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},Ol);function Ol(e,t){void 0===t&&(t=ml=ml||new Vu(za)),this.value=e,this.children=t}var Pl=(xl.empty=function(){return new xl(new kl(null))},xl);function xl(e){this.writeTree_=e}function Nl(e,t,n){if(fu(t))return new Pl(new kl(n));if(null!=(o=e.writeTree_.findRootMostValueAndPath(t))){var r=o.path,i=o.value,o=du(r,t);return i=i.updateChild(o,n),new Pl(e.writeTree_.set(r,i))}return n=new kl(n),n=e.writeTree_.setTree(t,n),new Pl(n)}function Al(e,t,n){var r=e;return us(n,(function(e,n){r=Nl(r,hu(t,e),n)})),r}function Rl(e,t){return fu(t)?Pl.empty():(t=e.writeTree_.setTree(t,new kl(null)),new Pl(t))}function Dl(e,t){return null!=jl(e,t)}function jl(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(du(n.path,t)):null}function Ll(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ec,(function(e,n){t.push(new xu(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new xu(e,n.value))})),t}function Ml(e,t){if(fu(t))return e;var n=jl(e,t);return new Pl(null!=n?new kl(n):e.writeTree_.subtree(t))}function Fl(e){return e.writeTree_.isEmpty()}function Ul(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(oo(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=e(hu(t,n),o,r)})),r=r.getChild(t).isEmpty()||null===i?r:r.updateChild(hu(t,".priority"),i)}(iu(),e.writeTree_,t)}function ql(e,t){return Jl(t,e)}function Vl(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));oo(0<=n,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i,o=r.visible,a=!1,s=e.allWrites.length-1;o&&0<=s;){var u=e.allWrites[s];u.visible&&(n<=s&&function(e,t){if(e.snap)return gu(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&gu(hu(e.path,n),t))return!0;return!1}(u,r.path)?o=!1:gu(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?((i=e).visibleWrites=zl(i.allWrites,Bl,iu()),0<i.allWrites.length?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1):r.snap?e.visibleWrites=Rl(e.visibleWrites,r.path):us(r.children,(function(t){e.visibleWrites=Rl(e.visibleWrites,hu(r.path,t))})),!0)}function Bl(e){return e.visible}function zl(e,t,n){for(var r=Pl.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)gu(n,a)?r=Nl(r,s=du(n,a),o.snap):gu(a,n)&&(s=du(a,n),r=Nl(r,iu(),o.snap.getChild(s)));else{if(!o.children)throw ao("WriteRecord should have .snap or .children");gu(n,a)?r=Al(r,s=du(n,a),o.children):gu(a,n)&&(fu(s=du(a,n))?r=Al(r,iu(),o.children):(o=Do(o.children,ou(s)))&&(s=o.getChild(su(s)),r=Nl(r,iu(),s)))}}}return r}function Kl(e,t,n,r,i){if(r||i){var o=Ml(e.visibleWrites,t);return!i&&Fl(o)?n:i||null!=n||Dl(o,iu())?Ul(zl(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(gu(e.path,t)||gu(t,e.path))}),t),n||hc.EMPTY_NODE):null}return null!=(o=jl(e.visibleWrites,t))?o:Fl(e=Ml(e.visibleWrites,t))?n:null!=n||Dl(e,iu())?Ul(e,n||hc.EMPTY_NODE):null}function Wl(e,t,n,r){return Kl(e.writeTree,e.treePath,t,n,r)}function Hl(e,t){return function(e,t,n){var r=hc.EMPTY_NODE,i=jl(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ec,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=Ml(e.visibleWrites,t);return n.forEachChild(ec,(function(e,t){t=Ul(Ml(o,new nu(e)),t),r=r.updateImmediateChild(e,t)})),Ll(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return Ll(Ml(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Gl(e,t,n,r){return i=e.writeTree,e=e.treePath,t=t,r=r,oo(n||r,"Either existingEventSnap or existingServerSnap must exist"),e=hu(e,t),Dl(i.visibleWrites,e)?null:Fl(e=Ml(i.visibleWrites,e))?r.getChild(t):Ul(e,r.getChild(t));var i}function Ql(e,t){return n=e.writeTree,t=hu(e.treePath,t),jl(n.visibleWrites,t);var n}function $l(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s;if(null!=(t=jl(e=Ml(e.visibleWrites,t),iu())))s=t;else{if(null==n)return[];s=Ul(e,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var u=[],c=a.getCompare(),l=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=l.getNext();h&&u.length<i;)0!==c(h,r)&&u.push(h),h=l.getNext();return u}(e.writeTree,e.treePath,t,n,r,i,o)}function Yl(e,t,n){return r=e.writeTree,i=e.treePath,e=n,t=hu(i,n=t),null!=(i=jl(r.visibleWrites,t))?i:e.isCompleteForChild(n)?Ul(Ml(r.visibleWrites,t),e.getNode().getImmediateChild(n)):null;var r,i}function Xl(e,t){return Jl(hu(e.treePath,t),e.writeTree)}function Jl(e,t){return{treePath:e,writeTree:t}}var Zl=(eh.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;oo("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),oo(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Ac(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Nc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,xc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw ao("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ac(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},eh.prototype.getChanges=function(){return Array.from(this.changeMap.values())},eh);function eh(){this.changeMap=new Map}function th(){}var nh=new(th.prototype.getCompleteChild=function(e){return null},th.prototype.getChildAfterChild=function(e,t,n){return null},th),rh=(ih.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;return t.isCompleteForChild(e)?t.getNode().getImmediateChild(e):(t=null!=this.optCompleteServerCache_?new gl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache,Yl(this.writes_,e,t))},ih.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Cl(this.viewCache_);return 0===(e=$l(this.writes_,r,t,1,n,e)).length?null:e[0]},ih);function ih(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}function oh(e,t,n,r,i){var o,a,s,u,c,l,h,f,d=new Zl;if(n.type===nl.OVERWRITE)var p=n,v=p.source.fromUser?uh(e,t,p.path,p.snap,r,i,d):(oo(p.source.fromServer,"Unknown source."),o=p.source.tagged||t.serverCache.isFiltered()&&!fu(p.path),sh(e,t,p.path,p.snap,r,i,o,d));else if(n.type===nl.MERGE){var g=n;v=g.source.fromUser?(a=e,s=t,u=g.path,p=g.children,c=r,l=i,h=d,f=s,p.foreach((function(e,t){e=hu(u,e),ch(s,ou(e))&&(f=uh(a,f,e,t,c,l,h))})),p.foreach((function(e,t){e=hu(u,e),ch(s,ou(e))||(f=uh(a,f,e,t,c,l,h))})),f):(oo(g.source.fromServer,"Unknown source."),o=g.source.tagged||t.serverCache.isFiltered(),hh(e,t,g.path,g.children,r,i,o,d))}else if(n.type===nl.ACK_USER_WRITE){var y=n;v=y.revert?function(e,t,n,r,i,o){var a;if(null!=Ql(r,n))return t;var s,u,c=new rh(r,t,i),l=t.eventCache.getNode();return i=void 0,fu(n)||".priority"===ou(n)?(u=void 0,u=t.serverCache.isFullyInitialized()?Wl(r,Cl(t)):(s=t.serverCache.getNode(),oo(s instanceof hc,"serverChildren would be complete if leaf node"),Hl(r,s)),i=e.filter.updateFullNode(l,u,o)):(null==(u=Yl(r,s=ou(n),t.serverCache))&&t.serverCache.isCompleteForChild(s)&&(u=l.getImmediateChild(s)),(i=null!=u?e.filter.updateChild(l,s,u,su(n),c,o):t.eventCache.getNode().hasChild(s)?e.filter.updateChild(l,s,hc.EMPTY_NODE,su(n),c,o):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Wl(r,Cl(t))).isLeafNode()&&(i=e.filter.updateFullNode(i,a,o))),a=t.serverCache.isFullyInitialized()||null!=Ql(r,iu()),Tl(t,i,a,e.filter.filtersNodes())}(e,t,y.path,r,i,d):function(e,t,n,r,i,o,a){if(null!=Ql(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(fu(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return sh(e,t,n,u.getNode().getChild(n),i,o,s,a);if(fu(n)){var c=new kl(null);return u.getNode().forEachChild(Du,(function(e,t){c=c.set(new nu(e),t)})),hh(e,t,n,c,i,o,s,a)}return t}var l=new kl(null);return r.foreach((function(e,t){var r=hu(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),hh(e,t,n,l,i,o,s,a)}(e,t,y.path,y.affectedTree,r,i,d)}else{if(n.type!==nl.LISTEN_COMPLETE)throw ao("Unknown operation type: "+n.type);y=e,i=n.path,e=r,n=d,v=ah(y,r=Il(t,(r=t.serverCache).getNode(),r.isFullyInitialized()||fu(i),r.isFiltered()),i,e,nh,n)}return function(e,t,n){var r,i,o=t.eventCache;o.isFullyInitialized()&&(r=o.getNode().isLeafNode()||o.getNode().isEmpty(),i=Sl(e),(0<n.length||!e.eventCache.isFullyInitialized()||r&&!o.getNode().equals(i)||!o.getNode().getPriority().equals(i.getPriority()))&&n.push(Pc(Sl(t))))}(t,v,d=d.getChanges()),{viewCache:v,changes:d}}function ah(e,t,n,r,i,o){var a=t.eventCache;if(null!=Ql(r,n))return t;var s,u,c,l,h=void 0,f=void 0;return h=fu(n)?(oo(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()?(s=Hl(r,(s=Cl(t))instanceof hc?s:hc.EMPTY_NODE),e.filter.updateFullNode(t.eventCache.getNode(),s,o)):(u=Wl(r,Cl(t)),e.filter.updateFullNode(t.eventCache.getNode(),u,o))):".priority"===(u=ou(n))?(oo(1===au(n),"Can't have a priority with additional path components"),null!=(l=Gl(r,n,c=a.getNode(),f=t.serverCache.getNode()))?e.filter.updatePriority(c,l):a.getNode()):(c=su(n),l=void 0,null!=(l=a.isCompleteForChild(u)?(f=t.serverCache.getNode(),null!=(f=Gl(r,n,a.getNode(),f))?a.getNode().getImmediateChild(u).updateChild(c,f):a.getNode().getImmediateChild(u)):Yl(r,u,t.serverCache))?e.filter.updateChild(a.getNode(),u,l,c,i,o):a.getNode()),Tl(t,h,a.isFullyInitialized()||fu(n),e.filter.filtersNodes())}function sh(e,t,n,r,i,o,a,s){var u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(fu(n))h=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered())var l=u.getNode().updateChild(n,r),h=c.updateFullNode(u.getNode(),l,null);else{if(a=ou(n),!u.isCompleteForPath(n)&&1<au(n))return t;l=su(n),r=u.getNode().getImmediateChild(a).updateChild(l,r),h=".priority"===a?c.updatePriority(u.getNode(),r):c.updateChild(u.getNode(),a,r,l,nh,null)}return ah(e,c=Il(t,h,u.isFullyInitialized()||fu(n),c.filtersNodes()),n,i,new rh(i,c,o),s)}function uh(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new rh(i,t,o);return fu(n)?(u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),Tl(t,u,!0,e.filter.filtersNodes())):".priority"===(s=ou(n))?(u=e.filter.updatePriority(t.eventCache.getNode(),r),Tl(t,u,c.isFullyInitialized(),c.isFiltered())):(i=su(n),o=c.getNode().getImmediateChild(s),u=void 0,u=fu(i)?r:null!=(n=l.getCompleteChild(s))?".priority"===uu(i)&&n.getChild(lu(i)).isEmpty()?n:n.updateChild(i,r):hc.EMPTY_NODE,o.equals(u)?t:Tl(t,e.filter.updateChild(c.getNode(),s,u,i,l,a),c.isFullyInitialized(),e.filter.filtersNodes()))}function ch(e,t){return e.eventCache.isCompleteForChild(t)}function lh(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function hh(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u=t,c=(r=fu(n)?r:new kl(null).setTree(n,r),t.serverCache.getNode());return r.children.inorderTraversal((function(n,r){c.hasChild(n)&&(r=lh(0,t.serverCache.getNode().getImmediateChild(n),r),u=sh(e,u,new nu(n),r,i,o,a,s))})),r.children.inorderTraversal((function(n,r){var l=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;c.hasChild(n)||l||(r=lh(0,t.serverCache.getNode().getImmediateChild(n),r),u=sh(e,u,new nu(n),r,i,o,a,s))})),u}var fh,dh=(Object.defineProperty(ph.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),ph);function ph(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new Rc(n.getIndex()),i=(o=n).loadsAllData()?new Rc(o.getIndex()):new(o.hasLimit()?Mc:jc)(o);this.processor_={filter:i},e=t.serverCache,n=t.eventCache;var o=r.updateFullNode(hc.EMPTY_NODE,e.getNode(),null);t=i.updateFullNode(hc.EMPTY_NODE,n.getNode(),null),r=new gl(o,e.isFullyInitialized(),r.filtersNodes()),i=new gl(t,n.isFullyInitialized(),i.filtersNodes()),this.viewCache_=El(i,r),this.eventGenerator_=new bl(this.query_)}function vh(e){return 0===e.eventRegistrations_.length}function gh(e,t,n){var r,i=[];if(n&&(oo(null==t,"A cancel should cancel all event registrations."),r=e.query._path,e.eventRegistrations_.forEach((function(e){(e=e.createCancelEvent(n,r))&&i.push(e)}))),t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return i}function yh(e,t,n,r){t.type===nl.MERGE&&null!==t.source.queryId&&(oo(Cl(e.viewCache_),"We should always have a full cache before handling merges"),oo(Sl(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_;return t=oh(e.processor_,i,t,n,r),n=e.processor_,r=t.viewCache,oo(r.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),oo(r.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed"),oo(t.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=t.viewCache,mh(e,t.changes,t.viewCache.eventCache.getNode(),null)}function mh(e,t,n,r){return r=r?[r]:e.eventRegistrations_,_l(e.eventGenerator_,t,n,r)}var bh,_h=function(){this.views=new Map};function wh(e,t,n,r){var i,o,a=t.source.queryId;if(null!==a){var s=e.views.get(a);return oo(null!=s,"SyncTree gave us an op for an invalid query."),yh(s,t,n,r)}var u=[];try{for(var c=Zi(e.views.values()),l=c.next();!l.done;l=c.next())s=l.value,u=u.concat(yh(s,t,n,r))}catch(e){i={error:e}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return u}function Eh(e,t,n,r,i){var o=t._queryIdentifier;return(e=e.views.get(o))?e:(e=!1,e=!!(o=Wl(n,i?r:null))||(o=r instanceof hc?Hl(n,r):hc.EMPTY_NODE,!1),i=El(new gl(o,e,!1),new gl(r,i,!1)),new dh(t,i))}function Th(e,t,n,r,i,o){var a;return o=Eh(e,t,r,i,o),e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),o.eventRegistrations_.push(n),t=n,o=(n=o).viewCache_.eventCache,a=[],o.getNode().isLeafNode()||o.getNode().forEachChild(ec,(function(e,t){a.push(xc(e,t))})),o.isFullyInitialized()&&a.push(Pc(o.getNode())),mh(n,a,o.getNode(),t)}function Ih(e,t,n,r){var i,o,a=t._queryIdentifier,s=[],u=[],c=Ph(e);if("default"===a)try{for(var l=Zi(e.views.entries()),h=l.next();!h.done;h=l.next()){var f=eo(h.value,2),d=f[0],p=f[1];u=u.concat(gh(p,n,r)),vh(p)&&(e.views.delete(d),p.query._queryParams.loadsAllData()||s.push(p.query))}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(p=e.views.get(a))&&(u=u.concat(gh(p,n,r)),vh(p)&&(e.views.delete(a),p.query._queryParams.loadsAllData()||s.push(p.query)));return c&&!Ph(e)&&s.push((oo(fh,"Reference.ts has not been loaded"),new fh(t._repo,t._path))),{removed:s,events:u}}function Sh(e){var t,n,r=[];try{for(var i=Zi(e.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ch(e,t){var n,r,i,o,a,s=null;try{for(var u=Zi(e.views.values()),c=u.next();!c.done;c=u.next()){var l=c.value;s=s||(o=t,a=void 0,(a=Cl((i=l).viewCache_))&&(i.query._queryParams.loadsAllData()||!fu(o)&&!a.getImmediateChild(ou(o)).isEmpty())?a.getChild(o):null)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s}function kh(e,t){return t._queryParams.loadsAllData()?xh(e):(t=t._queryIdentifier,e.views.get(t))}function Oh(e,t){return null!=kh(e,t)}function Ph(e){return null!=xh(e)}function xh(e){var t,n;try{for(var r=Zi(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var Nh=1,Ah=function(e){this.listenProvider_=e,this.syncPointTree_=new kl(null),this.pendingWriteTree_={visibleWrites:Pl.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Rh(e,t,n,r,i){var o,a,s,u;return o=e.pendingWriteTree_,a=t,s=n,u=i,oo((r=r)>o.lastWriteId,"Stacking an older write on top of newer ones"),o.allWrites.push({path:a,snap:s,writeId:r,visible:u=void 0===u||u}),u&&(o.visibleWrites=Nl(o.visibleWrites,a,s)),o.lastWriteId=r,i?Vh(e,new fl(ol(),t,n)):[]}function Dh(e,t,n,r){var i,o,a;return i=e.pendingWriteTree_,o=t,a=n,oo((r=r)>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:o,children:a,writeId:r,visible:!0}),i.visibleWrites=Al(i.visibleWrites,o,a),i.lastWriteId=r,n=kl.fromObject(n),Vh(e,new pl(ol(),t,n))}function jh(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Vl(e.pendingWriteTree_,t)){var i=new kl(null);return null!=r.snap?i=i.set(iu(),!0):us(r.children,(function(e){i=i.set(new nu(e),!0)})),Vh(e,new ul(r.path,i,n))}return[]}function Lh(e,t,n){return Vh(e,new fl(al(),t,n))}function Mh(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Oh(o,t))){var s=Ih(o,t,n,r);if(0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i)),n=s.removed,a=s.events,o=-1!==n.findIndex((function(e){return e._queryParams.loadsAllData()})),s=e.syncPointTree_.findOnPath(i,(function(e,t){return Ph(t)})),o&&!s&&!(i=e.syncPointTree_.subtree(i)).isEmpty())for(var u=i.fold((function(e,t,n){if(t&&Ph(t))return[xh(t)];var r=[];return t&&(r=Sh(t)),us(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=(h=u[c]).query,h=zh(e,h);e.listenProvider_.startListening($h(l),Kh(e,l),h.hashFn,h.onComplete)}!s&&0<n.length&&!r&&(o?e.listenProvider_.stopListening($h(t),null):n.forEach((function(t){var n=e.queryToTagMap.get(Wh(t));e.listenProvider_.stopListening($h(t),n)}))),function(e,t){for(var n=0;n<t.length;++n){var r,i=t[n];i._queryParams.loadsAllData()||(r=Wh(i),i=e.queryToTagMap.get(r),e.queryToTagMap.delete(r),e.tagToQueryMap.delete(i))}}(e,n)}return a}function Fh(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){e=du(e,r),i=i||Ch(t,e),o=o||Ph(t)}));var a=e.syncPointTree_.get(r);a?(o=o||Ph(a),i=i||Ch(a,iu())):(a=new _h,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?l=!0:(l=!1,i=hc.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){(t=Ch(t,iu()))&&(i=i.updateImmediateChild(e,t))})));var s,u,c=Oh(a,t);c||t._queryParams.loadsAllData()||(s=Wh(t),oo(!e.queryToTagMap.has(s),"View does not exist, but we have a tag"),u=Nh++,e.queryToTagMap.set(s,u),e.tagToQueryMap.set(u,s));var l=Th(a,t,n,ql(e.pendingWriteTree_,r),i,l);return c||o||(a=kh(a,t),l=l.concat(function(e,t,n){var r=t._path,i=Kh(e,t);if(n=zh(e,n),n=e.listenProvider_.startListening($h(t),i,n.hashFn,n.onComplete),r=e.syncPointTree_.subtree(r),i)oo(!Ph(r.value),"If we're adding a query, it shouldn't be shadowed");else for(var o=r.fold((function(e,t,n){if(!fu(e)&&t&&Ph(t))return[xh(t).query];var r=[];return t&&(r=r.concat(Sh(t).map((function(e){return e.query})))),us(n,(function(e,t){r=r.concat(t)})),r})),a=0;a<o.length;++a){var s=o[a];e.listenProvider_.stopListening($h(s),Kh(e,s))}return n}(e,t,a))),l}function Uh(e,t,n){var r=e.pendingWriteTree_;return e=e.syncPointTree_.findOnPath(t,(function(e,n){if(e=Ch(n,du(e,t)))return e})),Kl(r,t,e,n,!0)}function qh(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){e=du(e,n),r=r||Ch(t,e)}));var i=e.syncPointTree_.get(n);i?r=r||Ch(i,iu()):(i=new _h,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new gl(r,!0,!1):null;return Sl(Eh(i,t,ql(e.pendingWriteTree_,t._path),o?a.getNode():hc.EMPTY_NODE,o).viewCache_)}function Vh(e,t){return function e(t,n,r,i){if(fu(t.path))return Bh(t,n,r,i);var o=n.get(iu());null==r&&null!=o&&(r=Ch(o,iu()));var a=[],s=ou(t.path),u=t.operationForChild(s),c=n.children.get(s);return c&&u&&(n=r?r.getImmediateChild(s):null,s=Xl(i,s),a=a.concat(e(u,c,n,s))),o?a.concat(wh(o,t,i,r)):a}(t,e.syncPointTree_,null,ql(e.pendingWriteTree_,iu()))}function Bh(e,t,n,r){var i=t.get(iu());null==n&&null!=i&&(n=Ch(i,iu()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Xl(r,t);(t=e.operationForChild(t))&&(o=o.concat(Bh(t,i,a,s)))})),o=i?o.concat(wh(i,e,r,n)):o}function zh(e,t){var n=t.query,r=Kh(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||hc.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=Hh(e,n);return r?(r=(n=Gh(r)).path,n=n.queryId,t=du(r,t),Qh(e,r,new ll(sl(n),t))):[]}(e,n._path,r):(i=n._path,Vh(e,new ll(al(),i)));var i=(i="Unknown Error","too_big"===(t=t)?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?i="Client doesn't have permission to access the desired data.":"unavailable"===t&&(i="The service is unavailable"),(i=new Error(t+" at "+n._path.toString()+": "+i)).code=t.toUpperCase(),i);return Mh(e,n,null,i)}}}function Kh(e,t){return t=Wh(t),e.queryToTagMap.get(t)}function Wh(e){return e._path.toString()+"$"+e._queryIdentifier}function Hh(e,t){return e.tagToQueryMap.get(t)}function Gh(e){var t=e.indexOf("$");return oo(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new nu(e.substr(0,t))}}function Qh(e,t,n){var r=e.syncPointTree_.get(t);return oo(r,"Missing sync point for query tag that we're tracking"),wh(r,n,ql(e.pendingWriteTree_,t),null)}function $h(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?(oo(bh,"Reference.ts has not been loaded"),new bh(e._repo,e._path)):e}var Yh=(Xh.prototype.getImmediateChild=function(e){return new Xh(this.node_.getImmediateChild(e))},Xh.prototype.node=function(){return this.node_},Xh);function Xh(e){this.node_=e}var Jh=(Zh.prototype.getImmediateChild=function(e){return e=hu(this.path_,e),new Zh(this.syncTree_,e)},Zh.prototype.node=function(){return Uh(this.syncTree_,this.path_)},Zh);function Zh(e,t){this.syncTree_=e,this.path_=t}var ef=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},tf=function(e,t,n){return e&&"object"==typeof e?(oo(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?nf(e[".sv"],t,n):"object"==typeof e[".sv"]?rf(e[".sv"],t):void oo(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},nf=function(e,t,n){if("timestamp"===e)return n.timestamp;oo(!1,"Unexpected server value: "+e)},rf=function(e,t,n){return e.hasOwnProperty("increment")||oo(!1,"Unexpected server value: "+JSON.stringify(e,null,2)),"number"!=typeof(e=e.increment)&&oo(!1,"Unexpected increment value: "+e),t=t.node(),oo(null!=t,"Expected ChildrenNode.EMPTY_NODE for nulls"),t.isLeafNode()?"number"!=typeof(t=t.getValue())?e:t+e:e},of=function(e,t,n,r){return sf(t,new Jh(n,e),r)},af=function(e,t,n){return sf(e,new Yh(t),n)};function sf(e,t,n){var r=e.getPriority().val(),i=tf(r,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e;return(r=tf(o.getValue(),t,n))!==o.getValue()||i!==o.getPriority().val()?new Xu(r,gc(i)):e}var a=e=e;return i!==e.getPriority().val()&&(a=a.updatePriority(new Xu(i))),e.forEachChild(ec,(function(e,r){var i=sf(r,t.getImmediateChild(e),n);i!==r&&(a=a.updateImmediateChild(e,i))})),a}var uf=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e=void 0===e?"":e,this.parent=t,this.node=n};function cf(e,t){for(var n=t instanceof nu?t:new nu(t),r=e,i=ou(n);null!==i;){var o=Do(r.node.children,i)||{children:{},childCount:0};r=new uf(i,r,o),i=ou(n=su(n))}return r}function lf(e){return e.node.value}function hf(e,t){e.node.value=t,vf(e)}function ff(e){return 0<e.node.childCount}function df(e,t){us(e.node.children,(function(n,r){t(new uf(n,e,r))}))}function pf(e){return new nu(null===e.parent?e.name:pf(e.parent)+"/"+e.name)}function vf(e){var t,n,r,i;null!==e.parent&&(t=e.parent,n=e.name,i=function(e){return void 0===lf(e)&&!ff(e)}(r=e),e=Ro(t.node.children,n),i&&e?(delete t.node.children[n],t.node.childCount--,vf(t)):i||e||(t.node.children[n]=r.node,t.node.childCount++,vf(t)))}function gf(e){return"string"==typeof e&&0!==e.length&&!wf.test(e)}function yf(e){return"string"==typeof e&&0!==e.length&&!Ef.test(e)}function mf(e,t,n,r){if(!r||void 0!==t){var i=Wo(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var o=[];us(t,(function(e,t){if(e=new nu(e),Cf(i,t,hu(n,e)),".priority"===uu(e)&&!If(t))throw new Error(i+"contains an invalid value for '"+e.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(e)})),function(e,t){for(var n=0;n<t.length;n++)for(var r,i=cu(r=t[n]),o=0;o<i.length;o++)if((".priority"!==i[o]||o!==i.length-1)&&!gf(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(pu);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&gu(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,o)}}function bf(e,t,n){if(!n||void 0!==t){if(Ba(t))throw new Error(Wo(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!If(t))throw new Error(Wo(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}}function _f(e,t,n,r){if(!(r&&void 0===n||gf(n)))throw new Error(Wo(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}var wf=/[\[\].#$\/\u0000-\u001F\u007F]/,Ef=/[\[\].#$\u0000-\u001F\u007F]/,Tf=10485760,If=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!Ba(e)||e&&"object"==typeof e&&Ro(e,".sv")},Sf=function(e,t,n,r){r&&void 0===t||Cf(Wo(e,"value"),t,n)},Cf=function e(t,n,r){var i=r instanceof nu?new yu(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+bu(i));if("function"==typeof n)throw new Error(t+"contains a function "+bu(i)+" with contents = "+n.toString());if(Ba(n))throw new Error(t+"contains "+n.toString()+" "+bu(i));if("string"==typeof n&&n.length>Tf/3&&Qo(n)>Tf)throw new Error(t+"contains a string greater than "+Tf+" utf8 bytes "+bu(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(us(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!gf(n)))throw new Error(t+" contains an invalid key ("+n+") "+bu(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s;s=n,0<(n=i).parts_.length&&(n.byteLength_+=1),n.parts_.push(s),n.byteLength_+=Qo(s),mu(n),e(t,r,i),r=(n=i).parts_.pop(),n.byteLength_-=Qo(r),0<n.parts_.length&&--n.byteLength_})),o&&a)throw new Error(t+' contains ".value" child '+bu(i)+" in addition to actual children.")}},kf=function(e,t,n,r){if(!(r&&void 0===n||yf(n)))throw new Error(Wo(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Of=function(e,t,n,r){n=n&&n.replace(/^\/*\.info(\/|$)/,"/"),kf(e,t,n,r)},Pf=function(e,t){if(".info"===ou(t))throw new Error(e+" failed = Can't modify data under /.info/")},xf=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!gf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!yf(n=(n=n)&&n.replace(/^\/*\.info(\/|$)/,"/")))throw new Error(Wo(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Nf=function(){this.eventLists_=[],this.recursionDepth_=0};function Af(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||vu(o,n.path)||(e.eventLists_.push(n),n=null),(n=null===n?{events:[],path:o}:n).events.push(i)}n&&e.eventLists_.push(n)}function Rf(e,t,n){Af(e,n),jf(e,(function(e){return vu(e,t)}))}function Df(e,t,n){Af(e,n),jf(e,(function(e){return gu(e,t)||gu(t,e)}))}function jf(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(var t=0;t<e.events.length;t++){var n,r=e.events[t];null!==r&&(e.events[t]=null,n=r.getEventRunner(),Ja&&es("event: "+r.toString()),vs(n))}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}var Lf="repo_interrupt",Mf=25,Ff=(Uf.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},Uf);function Uf(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Nf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xc(),this.transactionQueueTree_=new uf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}function qf(e,t,n){if(e.stats_=As(e.repoInfo_),e.forceRestClient_||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))e.server_=new Gc(e.repoInfo_,(function(t,n,r,i){zf(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return Kf(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{xo(n)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}e.persistentConnection_=new Cu(e.repoInfo_,t,(function(t,n,r,i){zf(e,t,n,r,i)}),(function(t){Kf(e,t)}),(function(t){var n;n=e,us(t,(function(e,t){Wf(n,e,t)}))}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=(n=function(){return new rl(e.stats_,e.server_)},t=(t=e.repoInfo_).toString(),Ns[t]||(Ns[t]=n()),Ns[t]),e.infoData_=new $c,e.infoSyncTree_=new Ah({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=Lh(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),Wf(e,"connected",!1),e.serverSyncTree_=new Ah({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){r=i(n,r),Df(e.eventQueue_,t._path,r)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Vf(e){return e=e.infoData_.getNode(new nu(".info/serverTimeOffset")).val()||0,(new Date).getTime()+e}function Bf(e){return ef({timestamp:Vf(e)})}function zf(e,t,n,r,i){e.dataUpdateCount++;var o=new nu(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a,s,u,c,l=[];t=o,0<(l=i?r?(a=Lo(n,(function(e){return gc(e)})),function(e,t,n,r){var i=Hh(e,r);return i?(i=(r=Gh(i)).path,r=r.queryId,t=du(i,t),n=kl.fromObject(n),Qh(e,i,new pl(sl(r),t,n))):[]}(e.serverSyncTree_,o,a,i)):(c=gc(n),a=e.serverSyncTree_,s=o,u=c,null==(i=Hh(a,c=i))?[]:(c=Gh(i),i=c.path,c=c.queryId,s=du(i,s),Qh(a,i,new fl(sl(c),s,u)))):r?(c=Lo(n,(function(e){return gc(e)})),s=e.serverSyncTree_,u=o,r=c,r=kl.fromObject(c),Vh(s,new pl(al(),u,r))):(n=gc(n),Lh(e.serverSyncTree_,o,n))).length&&(t=nd(e,o)),Df(e.eventQueue_,t,l)}function Kf(e,t){Wf(e,"connected",t),!1===t&&function(e){Jf(e,"onDisconnectEvents");var t=Bf(e),n=Xc();Zc(e.onDisconnect_,iu(),(function(r,i){i=of(r,i,e.serverSyncTree_,t),Jc(n,r,i)}));var r=[];Zc(n,iu(),(function(t,n){r=r.concat(Lh(e.serverSyncTree_,t,n)),t=ad(e,t),nd(e,t)})),e.onDisconnect_=Xc(),Df(e.eventQueue_,iu(),r)}(e)}function Wf(e,t,n){t=new nu("/.info/"+t),n=gc(n),e.infoData_.updateSnapshot(t,n),n=Lh(e.infoSyncTree_,t,n),Df(e.eventQueue_,t,n)}function Hf(e){return e.nextWriteId_++}function Gf(e,t,n,r,i){Jf(e,"set",{path:t.toString(),value:n,priority:r});var o=Bf(e),a=(n=gc(n,r),r=Uh(e.serverSyncTree_,t),o=af(n,r,o),Hf(e));o=Rh(e.serverSyncTree_,t,o,a,!0),Af(e.eventQueue_,o),e.server_.put(t.toString(),n.val(!0),(function(n,r){var o="ok"===n;o||rs("set at "+t+" failed: "+n),o=jh(e.serverSyncTree_,a,!o),Df(e.eventQueue_,t,o),Zf(0,i,n,r)})),n=ad(e,t),nd(e,n),Df(e.eventQueue_,n,[])}function Qf(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&function e(t,n){if(fu(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(ec,(function(e,n){Jc(t,new nu(e),n)})),e(t,n)}return!(0<t.children.size)||(r=ou(n),n=su(n),t.children.has(r)&&e(t.children.get(r),n)&&t.children.delete(r),0===t.children.size)}(e.onDisconnect_,t),Zf(0,n,r,i)}))}function $f(e,t,n,r){var i=gc(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Jc(e.onDisconnect_,t,i),Zf(0,r,n,o)}))}function Yf(e,t,n){n=".info"===ou(t._path)?Mh(e.infoSyncTree_,t,n):Mh(e.serverSyncTree_,t,n),Rf(e.eventQueue_,t._path,n)}function Xf(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Lf)}function Jf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),es.apply(void 0,to([r],eo(t)))}function Zf(e,t,n,r){t&&vs((function(){var e,i;"ok"===n?t(null):(i=e=(n||"error").toUpperCase(),r&&(i+=": "+r),(i=new Error(i)).code=e,t(i))}))}function ed(e,t,n){return Uh(e.serverSyncTree_,t,n)||hc.EMPTY_NODE}function td(e,t){var n;(t=void 0===t?e.transactionQueueTree_:t)||od(e,t),lf(t)?(n=id(e,t),oo(0<n.length,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=u=ed(e,t,r),o=(r=u.hash(),0);o<n.length;o++){var a=n[o];oo(0===a.status,"tryToSendTransactionQueue_: items in queue should all be run."),a.status=1,a.retryCount++;var s=du(t,a.path);i=i.updateChild(s,a.currentOutputSnapshotRaw)}var u=i.val(!0),c=t;e.server_.put(c.toString(),u,(function(r){Jf(e,"transaction put response",{path:c.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++)!function(t){n[t].status=2,i=i.concat(jh(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()}(a);for(od(e,cf(e.transactionQueueTree_,t)),td(e,e.transactionQueueTree_),Df(e.eventQueue_,t,i),a=0;a<o.length;a++)vs(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else for(rs("transaction at "+c.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;nd(e,t)}}),r)}(e,pf(t),n)):ff(t)&&df(t,(function(t){td(e,t)}))}function nd(e,t){var n=rd(e,t);return t=pf(n),function(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=0;a<t.length;a++)!function(a){var s,u,c,l,h=t[a],f=du(n,h.path),d=!1;oo(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===h.status?(s=h.abortReason,i=i.concat(jh(e.serverSyncTree_,h.currentWriteId,d=!0))):0===h.status&&(i=h.retryCount>=Mf?(s="maxretry",i.concat(jh(e.serverSyncTree_,h.currentWriteId,d=!0))):(u=ed(e,h.path,o),h.currentInputSnapshot=u,void 0!==(l=t[a].update(u.val()))?(Cf("transaction failed: Data returned ",l,h.path),c=gc(l),"object"==typeof l&&null!=l&&Ro(l,".priority")||(c=c.updatePriority(u.getPriority())),f=h.currentWriteId,l=Bf(e),l=af(c,u,l),h.currentOutputSnapshotRaw=c,h.currentOutputSnapshotResolved=l,h.currentWriteId=Hf(e),o.splice(o.indexOf(f),1),(i=i.concat(Rh(e.serverSyncTree_,h.path,l,h.currentWriteId,h.applyLocally))).concat(jh(e.serverSyncTree_,f,!0))):(s="nodata",i.concat(jh(e.serverSyncTree_,h.currentWriteId,d=!0))))),Df(e.eventQueue_,n,i),i=[],d&&(t[a].status=2,d=t[a].unwatcher,setTimeout(d,Math.floor(0)),t[a].onComplete&&("nodata"===s?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(s),!1,null)}))))}(a);for(od(e,e.transactionQueueTree_),a=0;a<r.length;a++)vs(r[a]);td(e,e.transactionQueueTree_)}}(e,id(e,n),t),t}function rd(e,t){for(var n=e.transactionQueueTree_,r=ou(t);null!==r&&void 0===lf(n);)n=cf(n,r),r=ou(t=su(t));return n}function id(e,t){var n=[];return function e(t,n,r){var i=lf(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);df(n,(function(n){e(t,n,r)}))}(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function od(e,t){var n=lf(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,hf(t,0<n.length?n:void 0)}df(t,(function(t){od(e,t)}))}function ad(e,t){var n=pf(rd(e,t));return function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return;r=r.parent}}(t=cf(e.transactionQueueTree_,t),(function(t){sd(e,t)})),sd(e,t),function e(t,n,r,i){r&&!i&&n(t),df(t,(function(t){e(t,n,!0,i)})),r&&i&&n(t)}(t,(function(t){sd(e,t)})),n}function sd(e,t){var n=lf(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(oo(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=3,n[a].abortReason="set"):(oo(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(jh(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===o?hf(t,void 0):n.length=o+1,Df(e.eventQueue_,pf(t),i),a=0;a<r.length;a++)vs(r[a])}}var ud=function(e,t){var n=cd(e),r=n.namespace;return"firebase.com"===n.domain&&ns(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||ns("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&rs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),e="ws"===n.scheme||"wss"===n.scheme,{repoInfo:new Ss(n.host,n.secure,r,t,e,"",r!==n.subdomain),path:new nu(n.pathString)}},cd=function(e){var t,n,r,i="",o="",a="",s="",u="",c=!0,l="https",h=443;return"string"==typeof e&&(0<=(r=e.indexOf("//"))&&(l=e.substring(0,r-1),e=e.substring(r+2)),-1===(t=e.indexOf("/"))&&(t=e.length),-1===(n=e.indexOf("?"))&&(n=e.length),i=e.substring(0,Math.min(t,n)),t<n&&(s=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(0<n[r].length){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(t,n))),n=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=Zi(e.split("&")),o=i.next();!o.done;o=i.next()){var a,s=o.value;0!==s.length&&(2===(a=s.split("=")).length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):rs("Invalid query segment '"+s+"' in query '"+e+"'"))}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,n))),0<=(r=i.indexOf(":"))?(c="https"===l||"wss"===l,h=parseInt(i.substring(r+1),10)):r=i.length,"localhost"===(r=i.slice(0,r)).toLowerCase()?o="localhost":r.split(".").length<=2?o=r:(r=i.indexOf("."),a=i.substring(0,r).toLowerCase(),o=i.substring(r+1),u=a),"ns"in n&&(u=n.ns)),{host:i,port:h,domain:o,subdomain:a,secure:c,scheme:l,pathString:s,namespace:u}},ld=(hd.prototype.getPath=function(){var e=this.snapshot.ref;return("value"===this.eventType?e:e.parent)._path},hd.prototype.getEventType=function(){return this.eventType},hd.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},hd.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+xo(this.snapshot.exportVal())},hd);function hd(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var fd=(dd.prototype.getPath=function(){return this.path},dd.prototype.getEventType=function(){return"cancel"},dd.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},dd.prototype.toString=function(){return this.path.toString()+":cancel"},dd);function dd(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var pd=(vd.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},vd.prototype.onCancel=function(e){return oo(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(vd.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),vd.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},vd);function vd(e,t){this.snapshotCallback=e,this.cancelCallback=t}var gd=(yd.prototype.cancel=function(){var e=new lo;return Qf(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},yd.prototype.remove=function(){Pf("OnDisconnect.remove",this._path);var e=new lo;return $f(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},yd.prototype.set=function(e){Pf("OnDisconnect.set",this._path),Sf("OnDisconnect.set",e,this._path,!1);var t=new lo;return $f(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},yd.prototype.setWithPriority=function(e,t){Pf("OnDisconnect.setWithPriority",this._path),Sf("OnDisconnect.setWithPriority",e,this._path,!1),bf("OnDisconnect.setWithPriority",t,!1);var n,r,i,o,a=new lo;return n=this._repo,r=this._path,e=e,t=t,i=a.wrapCallback((function(){})),o=gc(e,t),n.server_.onDisconnectPut(r.toString(),o.val(!0),(function(e,t){"ok"===e&&Jc(n.onDisconnect_,r,o),Zf(0,i,e,t)})),a.promise},yd.prototype.update=function(e){Pf("OnDisconnect.update",this._path),mf("OnDisconnect.update",e,this._path,!1);var t=new lo;return function(e,t,n,r){if(jo(n))return es("onDisconnect().update() called with empty data.  Don't do anything."),Zf(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&us(n,(function(n,r){r=gc(r),Jc(e.onDisconnect_,hu(t,n),r)})),Zf(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},yd);function yd(e,t){this._repo=e,this._path=t}var md=(Object.defineProperty(bd.prototype,"key",{get:function(){return fu(this._path)?null:uu(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(bd.prototype,"ref",{get:function(){return new Id(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(bd.prototype,"_queryIdentifier",{get:function(){var e=Wc(this._queryParams);return"{}"===(e=ss(e))?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(bd.prototype,"_queryObject",{get:function(){return Wc(this._queryParams)},enumerable:!1,configurable:!0}),bd.prototype.isEqual=function(e){if(!((e=ea(e))instanceof bd))return!1;var t=this._repo===e._repo,n=vu(this._path,e._path);return e=this._queryIdentifier===e._queryIdentifier,t&&n&&e},bd.prototype.toJSON=function(){return this.toString()},bd.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},bd);function bd(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}function _d(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function wd(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Du){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==is)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==os)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===ec){if(null!=t&&!If(t)||null!=n&&!If(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(oo(e.getIndex()instanceof bc||e.getIndex()===Cc,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ed(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Td,Id=($i(Sd,Td=md),Object.defineProperty(Sd.prototype,"parent",{get:function(){var e=lu(this._path);return null===e?null:new Sd(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(Sd.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),Sd);function Sd(e,t){return Td.call(this,e,t,new Uc,!1)||this}var Cd=(Object.defineProperty(kd.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(kd.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(kd.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),kd.prototype.child=function(e){var t=new nu(e);return e=xd(this.ref,e),new kd(this._node.getChild(t),e,ec)},kd.prototype.exists=function(){return!this._node.isEmpty()},kd.prototype.exportVal=function(){return this._node.val(!0)},kd.prototype.forEach=function(e){var t=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(n,r){return e(new kd(r,xd(t.ref,n),ec))}))},kd.prototype.hasChild=function(e){return e=new nu(e),!this._node.getChild(e).isEmpty()},kd.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},kd.prototype.toJSON=function(){return this.exportVal()},kd.prototype.val=function(){return this._node.val()},kd);function kd(e,t,n){this._node=e,this.ref=t,this._index=n}function Od(e,t){return(e=ea(e))._checkNotDeleted("ref"),void 0!==t?xd(e._root,t):e._root}function Pd(e,t){(e=ea(e))._checkNotDeleted("refFromURL");var n=ud(t,e._repo.repoInfo_.nodeAdmin);return xf("refFromURL",n),t=n.repoInfo,e._repo.repoInfo_.isCustomHost()||t.host===e._repo.repoInfo_.host||ns("refFromURL: Host name does not match the current database: (found "+t.host+" but expected "+e._repo.repoInfo_.host+")"),Od(e,n.path.toString())}function xd(e,t){return(null===ou((e=ea(e))._path)?Of:kf)("child","path",t,!1),new Id(e._repo,hu(e._path,t))}function Nd(e,t){e=ea(e),Pf("set",e._path),Sf("set",t,e._path,!1);var n=new lo;return Gf(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Ad(e,t){mf("update",t,e._path,!1);var n=new lo;return function(e,t,n,r){Jf(e,"update",{path:t.toString(),value:n});var i,o,a=!0,s=Bf(e),u={};us(n,(function(n,r){a=!1,u[n]=of(hu(t,n),gc(r),e.serverSyncTree_,s)})),a?(es("update() called with empty data.  Don't do anything."),Zf(0,r,"ok",void 0)):(i=Hf(e),o=Dh(e.serverSyncTree_,t,u,i),Af(e.eventQueue_,o),e.server_.merge(t.toString(),n,(function(n,o){(s="ok"===n)||rs("update at "+t+" failed: "+n);var a=jh(e.serverSyncTree_,i,!s),s=0<a.length?nd(e,t):t;Df(e.eventQueue_,s,a),Zf(0,r,n,o)})),us(n,(function(n){n=ad(e,hu(t,n)),nd(e,n)})),Df(e.eventQueue_,t,[]))}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Rd(e){return e=ea(e),t=e._repo,n=e,(null!=(r=qh(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then((function(e){var r=gc(e).withIndex(n._queryParams.getIndex());return e=Lh(t.serverSyncTree_,n._path,r),Rf(t.eventQueue_,n._path,e),Promise.resolve(r)}),(function(e){return Jf(t,"get for query "+xo(n)+" failed: "+e),Promise.reject(new Error(e))}))).then((function(t){return new Cd(t,new Id(e._repo,e._path),e._queryParams.getIndex())}));var t,n,r}var Dd=(jd.prototype.respondsTo=function(e){return"value"===e},jd.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new ld("value",this,new Cd(e.snapshotNode,new Id(t._repo,t._path),n))},jd.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},jd.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new fd(this,e,t):null},jd.prototype.matches=function(e){return e instanceof jd&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},jd.prototype.hasAnyCallback=function(){return null!==this.callbackContext},jd);function jd(e){this.callbackContext=e}var Ld=(Md.prototype.respondsTo=function(e){return e="children_added"===e?"child_added":e,this.eventType===("children_removed"===e?"child_removed":e)},Md.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new fd(this,e,t):null},Md.prototype.createEvent=function(e,t){oo(null!=e.childName,"Child events should have a childName.");var n=xd(new Id(t._repo,t._path),e.childName);return t=t._queryParams.getIndex(),new ld(e.type,this,new Cd(e.snapshotNode,n,t),e.prevName)},Md.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},Md.prototype.matches=function(e){return e instanceof Md&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},Md.prototype.hasAnyCallback=function(){return!!this.callbackContext},Md);function Md(e,t){this.eventType=e,this.callbackContext=t}function Fd(e,t,n,r,i){var o;"object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce&&((i=function(t,n){Yf(e._repo,e,s),o(t,n)}).userCallback=(o=n).userCallback,i.context=n.context,n=i),n=new pd(n,a||void 0);var a,s="value"===t?new Dd(n):new Ld(t,n);return a=e._repo,t=s,t=".info"===ou((n=e)._path)?Fh(a.infoSyncTree_,n,t):Fh(a.serverSyncTree_,n,t),Rf(a.eventQueue_,n._path,t),function(){return Yf(e._repo,e,s)}}function Ud(e,t,n,r){return Fd(e,"value",t,n,r)}function qd(e,t,n,r){return Fd(e,"child_added",t,n,r)}function Vd(e,t,n,r){return Fd(e,"child_changed",t,n,r)}function Bd(e,t,n,r){return Fd(e,"child_moved",t,n,r)}function zd(e,t,n,r){return Fd(e,"child_removed",t,n,r)}function Kd(e,t,n){var r=null;n=n?new pd(n):null,"value"===t?r=new Dd(n):t&&(r=new Ld(t,n)),Yf(e._repo,e,r)}var Wd,Hd=($i(Gd,Wd=li=function(){}),Gd.prototype._apply=function(e){Sf("endAt",this._value,e._path,!0);var t=Bc(e._queryParams,this._value,this._key);if(Ed(t),wd(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new md(e._repo,e._path,t,e._orderByCalled)},Gd);function Gd(e,t){var n=Wd.call(this)||this;return n._value=e,n._key=t,n}var Qd,$d=($i(Yd,Qd=li),Yd.prototype._apply=function(e){var t,n,r;if(Sf("endBefore",this._value,e._path,!1),Ed((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Du?Bc(t,n="string"==typeof n?Tc(n):n,r):Bc(t,n,null==r?is:Tc(r))).endBeforeSet_=!0,r=r)),wd(r),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new md(e._repo,e._path,r,e._orderByCalled)},Yd);function Yd(e,t){var n=Qd.call(this)||this;return n._value=e,n._key=t,n}var Xd,Jd=($i(Zd,Xd=li),Zd.prototype._apply=function(e){Sf("startAt",this._value,e._path,!0);var t=Vc(e._queryParams,this._value,this._key);if(Ed(t),wd(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new md(e._repo,e._path,t,e._orderByCalled)},Zd);function Zd(e,t){var n=Xd.call(this)||this;return n._value=e,n._key=t,n}var ep,tp=($i(np,ep=li),np.prototype._apply=function(e){var t,n,r;if(Sf("startAfter",this._value,e._path,!1),Ed((t=e._queryParams,n=this._value,r=this._key,(r=t.index_===Du?Vc(t,n="string"==typeof n?Ec(n):n,r):Vc(t,n,null==r?os:Ec(r))).startAfterSet_=!0,r=r)),wd(r),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new md(e._repo,e._path,r,e._orderByCalled)},np);function np(e,t){var n=ep.call(this)||this;return n._value=e,n._key=t,n}var rp,ip=($i(op,rp=li),op.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new md(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="l",t),e._orderByCalled);var t,n},op);function op(e){var t=rp.call(this)||this;return t._limit=e,t}var ap,sp=($i(up,ap=li),up.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new md(e._repo,e._path,(t=e._queryParams,n=this._limit,(t=t.copy()).limitSet_=!0,t.limit_=n,t.viewFrom_="r",t),e._orderByCalled);var t,n},up);function up(e){var t=ap.call(this)||this;return t._limit=e,t}var cp,lp=($i(hp,cp=li),hp.prototype._apply=function(e){_d(e,"orderByChild");var t=new nu(this._path);if(fu(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");return t=new bc(t),wd(t=zc(e._queryParams,t)),new md(e._repo,e._path,t,!0)},hp);function hp(e){var t=cp.call(this)||this;return t._path=e,t}var fp,dp=($i(pp,fp=li),pp.prototype._apply=function(e){_d(e,"orderByKey");var t=zc(e._queryParams,Du);return wd(t),new md(e._repo,e._path,t,!0)},pp);function pp(){return null!==fp&&fp.apply(this,arguments)||this}var vp,gp=($i(yp,vp=li),yp.prototype._apply=function(e){_d(e,"orderByPriority");var t=zc(e._queryParams,ec);return wd(t),new md(e._repo,e._path,t,!0)},yp);function yp(){return null!==vp&&vp.apply(this,arguments)||this}var mp,bp=($i(_p,mp=li),_p.prototype._apply=function(e){_d(e,"orderByValue");var t=zc(e._queryParams,Cc);return wd(t),new md(e._repo,e._path,t,!0)},_p);function _p(){return null!==mp&&mp.apply(this,arguments)||this}var wp,Ep,Tp,Ip=($i(Sp,wp=li),Sp.prototype._apply=function(e){if(Sf("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Hd(this._value,this._key)._apply(new Jd(this._value,this._key)._apply(e))},Sp);function Sp(e,t){var n=wp.call(this)||this;return n._value=e,n._key=t,n}function Cp(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=ea(e);try{for(var a=Zi(r),s=a.next();!s.done;s=a.next())o=s.value._apply(o)}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return o}Ep=Id,oo(!fh,"__referenceConstructor has already been defined"),fh=Ep,Tp=Id,oo(!bh,"__referenceConstructor has already been defined"),bh=Tp;var kp="FIREBASE_DATABASE_EMULATOR_HOST",Op={},Pp=!1;function xp(e,t,r,i,o){var a=i||e.options.databaseURL;void 0===a&&(e.options.projectId||ns("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),es("Using default host for project ",e.options.projectId),a=e.options.projectId+"-default-rtdb.firebaseio.com");var s,u=ud(a,o),c=u.repoInfo;return i=void 0,(i="undefined"!=typeof n?Object({NODE_ENV:"production",PUBLIC_URL:"/smsapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})[kp]:i)?(s=!0,a="http://"+i+"?ns="+c.namespace,c=(u=ud(a,o)).repoInfo):s=!u.repoInfo.secure,t=o&&s?new _s(_s.OWNER):new ms(e.name,e.options,t),xf("Invalid Firebase Database URL",u),fu(u.path)||ns("Database URL must point to the root of a Firebase Database (not including a child path)."),r=function(e,t,n,r){var i=Op[t.name];return i||(i={},Op[t.name]=i),(t=i[e.toURLString()])&&ns("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),t=new Ff(e,Pp,n,r),i[e.toURLString()]=t}(c,e,t,new gs(e.name,r)),new Np(r,e)}var Np=(Object.defineProperty(Ap.prototype,"_repo",{get:function(){return this._instanceStarted||(qf(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(Ap.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Id(this._repo,iu())),this._rootInternal},enumerable:!1,configurable:!0}),Ap.prototype._delete=function(){var e,t,n;return this._checkNotDeleted("delete"),e=this._repo,t=this.app.name,(n=Op[t])&&n[e.key]===e||ns("Database "+t+"("+e.repoInfo_+") has already been deleted."),Xf(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},Ap.prototype._checkNotDeleted=function(e){null===this._rootInternal&&ns("Cannot call "+e+" on a deleted database.")},Ap);function Ap(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}function Rp(e,t,n,r){void 0===r&&(r={}),(e=ea(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&ns("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,o=void 0;i.repoInfo_.nodeAdmin?(r.mockUserToken&&ns('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new _s(_s.OWNER)):r.mockUserToken&&(e=fo(r.mockUserToken,e.app.options.projectId),o=new _s(e)),o=o,(i=i).repoInfo_=new Ss(t+":"+n,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}function Dp(e){(e=ea(e))._checkNotDeleted("goOnline"),(e=e._repo).persistentConnection_&&e.persistentConnection_.resume(Lf)}var jp={".sv":"timestamp"},Lp=(Mp.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},Mp);function Mp(e,t){this.committed=e,this.snapshot=t}function Fp(e,t,n){if(e=ea(e),Pf("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";n=null===(i=null==n?void 0:n.applyLocally)||void 0===i||i;var r=new lo,i=Ud(e,(function(){}));return function(e,t,n,r,i,o){Jf(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:Ya(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null};n=ed(e,t,void 0),a.currentInputSnapshot=n,void 0===(r=a.update(n.val()))?(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot)):(Cf("transaction failed: Data returned ",r,a.path),a.status=0,(i=lf(o=cf(e.transactionQueueTree_,t))||[]).push(a),hf(o,i),o=void 0,"object"==typeof r&&null!==r&&Ro(r,".priority")?(o=Do(r,".priority"),oo(If(o),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):o=(Uh(e.serverSyncTree_,t)||hc.EMPTY_NODE).getPriority().val(),i=Bf(e),o=gc(r,o),i=af(o,n,i),a.currentOutputSnapshotRaw=o,a.currentOutputSnapshotResolved=i,a.currentWriteId=Hf(e),a=Rh(e.serverSyncTree_,t,i,a.currentWriteId,a.applyLocally),Df(e.eventQueue_,t,a),td(e,e.transactionQueueTree_))}(e._repo,e._path,t,(function(t,n,i){var o;t?r.reject(t):(o=new Cd(i,new Id(e._repo,e._path),ec),r.resolve(new Lp(n,o)))}),i,n),r.promise}var Up=(qp.prototype.cancel=function(e){Ko("OnDisconnect.cancel",0,1,arguments.length),Ho("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},qp.prototype.remove=function(e){Ko("OnDisconnect.remove",0,1,arguments.length),Ho("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},qp.prototype.set=function(e,t){return Ko("OnDisconnect.set",1,2,arguments.length),Ho("OnDisconnect.set","onComplete",t,!0),e=this._delegate.set(e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},qp.prototype.setWithPriority=function(e,t,n){return Ko("OnDisconnect.setWithPriority",2,3,arguments.length),Ho("OnDisconnect.setWithPriority","onComplete",n,!0),t=this._delegate.setWithPriority(e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},qp.prototype.update=function(e,t){if(Ko("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rs("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ho("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},qp);function qp(e){this._delegate=e}var Vp=(Bp.prototype.toJSON=function(){return Ko("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},Bp);function Bp(e,t){this.committed=e,this.snapshot=t}var zp=(Kp.prototype.val=function(){return Ko("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},Kp.prototype.exportVal=function(){return Ko("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},Kp.prototype.toJSON=function(){return Ko("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},Kp.prototype.exists=function(){return Ko("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},Kp.prototype.child=function(e){return Ko("DataSnapshot.child",0,1,arguments.length),e=String(e),kf("DataSnapshot.child","path",e,!1),new Kp(this._database,this._delegate.child(e))},Kp.prototype.hasChild=function(e){return Ko("DataSnapshot.hasChild",1,1,arguments.length),kf("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},Kp.prototype.getPriority=function(){return Ko("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},Kp.prototype.forEach=function(e){var t=this;return Ko("DataSnapshot.forEach",1,1,arguments.length),Ho("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(n){return e(new Kp(t._database,n))}))},Kp.prototype.hasChildren=function(){return Ko("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(Kp.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),Kp.prototype.numChildren=function(){return Ko("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},Kp.prototype.getRef=function(){return Ko("DataSnapshot.ref",0,0,arguments.length),new Qp(this._database,this._delegate.ref)},Object.defineProperty(Kp.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),Kp);function Kp(e,t){this._database=e,this._delegate=t}var Wp=(Hp.prototype.on=function(e,t,n,r){var i=this;function o(e,n){t.call(a.context,new zp(i.database,e),n)}Ko("Query.on",2,4,arguments.length),Ho("Query.on","callback",t,!1);var a=Hp.getCancelAndContextArgs_("Query.on",n,r);o.userCallback=t,o.context=a.context;var s=null===(r=a.cancel)||void 0===r?void 0:r.bind(a.context);switch(e){case"value":return Ud(this._delegate,o,s),t;case"child_added":return qd(this._delegate,o,s),t;case"child_removed":return zd(this._delegate,o,s),t;case"child_changed":return Vd(this._delegate,o,s),t;case"child_moved":return Bd(this._delegate,o,s),t;default:throw new Error(Wo("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Hp.prototype.off=function(e,t,n){var r;Ko("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Wo(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}("Query.off",e),Ho("Query.off","callback",t,!0),Go("Query.off","context",n,!0),t?((r=function(){}).userCallback=t,r.context=n,Kd(this._delegate,e,r)):Kd(this._delegate,e)},Hp.prototype.get=function(){var e=this;return Rd(this._delegate).then((function(t){return new zp(e.database,t)}))},Hp.prototype.once=function(e,t,n,r){var i=this;function o(e,n){e=new zp(i.database,e),t&&t.call(a.context,e,n),s.resolve(e)}Ko("Query.once",1,4,arguments.length),Ho("Query.once","callback",t,!0);var a=Hp.getCancelAndContextArgs_("Query.once",n,r),s=new lo;function u(e){a.cancel&&a.cancel.call(a.context,e),s.reject(e)}switch(o.userCallback=t,o.context=a.context,e){case"value":Ud(this._delegate,o,u,{onlyOnce:!0});break;case"child_added":qd(this._delegate,o,u,{onlyOnce:!0});break;case"child_removed":zd(this._delegate,o,u,{onlyOnce:!0});break;case"child_changed":Vd(this._delegate,o,u,{onlyOnce:!0});break;case"child_moved":Bd(this._delegate,o,u,{onlyOnce:!0});break;default:throw new Error(Wo("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise},Hp.prototype.limitToFirst=function(e){return Ko("Query.limitToFirst",1,1,arguments.length),new Hp(this.database,Cp(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ip(e)}(e)))},Hp.prototype.limitToLast=function(e){return Ko("Query.limitToLast",1,1,arguments.length),new Hp(this.database,Cp(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new sp(e)}(e)))},Hp.prototype.orderByChild=function(e){return Ko("Query.orderByChild",1,1,arguments.length),new Hp(this.database,Cp(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return kf("orderByChild","path",e,!1),new lp(e)}(e)))},Hp.prototype.orderByKey=function(){return Ko("Query.orderByKey",0,0,arguments.length),new Hp(this.database,Cp(this._delegate,new dp))},Hp.prototype.orderByPriority=function(){return Ko("Query.orderByPriority",0,0,arguments.length),new Hp(this.database,Cp(this._delegate,new gp))},Hp.prototype.orderByValue=function(){return Ko("Query.orderByValue",0,0,arguments.length),new Hp(this.database,Cp(this._delegate,new bp))},Hp.prototype.startAt=function(e,t){return void 0===e&&(e=null),Ko("Query.startAt",0,2,arguments.length),new Hp(this.database,Cp(this._delegate,(void 0===(e=e)&&(e=null),_f("startAt","key",t=t,!0),new Jd(e,t))))},Hp.prototype.startAfter=function(e,t){return void 0===e&&(e=null),Ko("Query.startAfter",0,2,arguments.length),new Hp(this.database,Cp(this._delegate,(e=e,_f("startAfter","key",t=t,!0),new tp(e,t))))},Hp.prototype.endAt=function(e,t){return void 0===e&&(e=null),Ko("Query.endAt",0,2,arguments.length),new Hp(this.database,Cp(this._delegate,(e=e,_f("endAt","key",t=t,!0),new Hd(e,t))))},Hp.prototype.endBefore=function(e,t){return void 0===e&&(e=null),Ko("Query.endBefore",0,2,arguments.length),new Hp(this.database,Cp(this._delegate,(e=e,_f("endBefore","key",t=t,!0),new $d(e,t))))},Hp.prototype.equalTo=function(e,t){return Ko("Query.equalTo",1,2,arguments.length),new Hp(this.database,Cp(this._delegate,(e=e,_f("equalTo","key",t=t,!0),new Ip(e,t))))},Hp.prototype.toString=function(){return Ko("Query.toString",0,0,arguments.length),this._delegate.toString()},Hp.prototype.toJSON=function(){return Ko("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},Hp.prototype.isEqual=function(e){if(Ko("Query.isEqual",1,1,arguments.length),e instanceof Hp)return this._delegate.isEqual(e._delegate);throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")},Hp.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Ho(e,"cancel",r.cancel,!0),r.context=n,Go(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(Wo(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(Hp.prototype,"ref",{get:function(){return new Qp(this.database,new Id(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),Hp);function Hp(e,t){this.database=e,this._delegate=t}var Gp,Qp=($i($p,Gp=Wp),$p.prototype.getKey=function(){return Ko("Reference.key",0,0,arguments.length),this._delegate.key},$p.prototype.child=function(e){return Ko("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new $p(this.database,xd(this._delegate,e))},$p.prototype.getParent=function(){Ko("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new $p(this.database,e):null},$p.prototype.getRoot=function(){return Ko("Reference.root",0,0,arguments.length),new $p(this.database,this._delegate.root)},$p.prototype.set=function(e,t){return Ko("Reference.set",1,2,arguments.length),Ho("Reference.set","onComplete",t,!0),e=Nd(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},$p.prototype.update=function(e,t){if(Ko("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,rs("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pf("Reference.update",this._delegate._path),Ho("Reference.update","onComplete",t,!0);var i=Ad(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},$p.prototype.setWithPriority=function(e,t,n){return Ko("Reference.setWithPriority",2,3,arguments.length),Ho("Reference.setWithPriority","onComplete",n,!0),t=function(e,t,n){if(Pf("setWithPriority",e._path),Sf("setWithPriority",t,e._path,!1),bf("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new lo;return Gf(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}(this._delegate,e,t),n&&t.then((function(){return n(null)}),(function(e){return n(e)})),t},$p.prototype.remove=function(e){Ko("Reference.remove",0,1,arguments.length),Ho("Reference.remove","onComplete",e,!0);var t=(t=this._delegate,Pf("remove",t._path),Nd(t,null));return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},$p.prototype.transaction=function(e,t,n){var r=this;return Ko("Reference.transaction",1,3,arguments.length),Ho("Reference.transaction","transactionUpdate",e,!1),Ho("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error(Wo("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n),n=Fp(this._delegate,e,{applyLocally:n}).then((function(e){return new Vp(e.committed,new zp(r.database,e.snapshot))})),t&&n.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),n},$p.prototype.setPriority=function(e,t){return Ko("Reference.setPriority",1,2,arguments.length),Ho("Reference.setPriority","onComplete",t,!0),e=function(e,t){e=ea(e),Pf("setPriority",e._path),bf("setPriority",t,!1);var n=new lo;return Gf(e._repo,hu(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}(this._delegate,e),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},$p.prototype.push=function(e,t){var n=this;Ko("Reference.push",0,2,arguments.length),Ho("Reference.push","onComplete",t,!0);var r=function(e,t){e=ea(e),Pf("push",e._path),Sf("push",t,e._path,!0);var n=Vf(e._repo),r=Oc(n),i=(n=xd(e,r),xd(e,r));return t=null!=t?Nd(i,t).then((function(){return i})):Promise.resolve(i),n.then=t.then.bind(t),n.catch=t.then.bind(t,void 0),n}(this._delegate,e);return e=r.then((function(e){return new $p(n.database,e)})),t&&e.then((function(){return t(null)}),(function(e){return t(e)})),(r=new $p(this.database,r)).then=e.then.bind(e),r.catch=e.catch.bind(e,void 0),r},$p.prototype.onDisconnect=function(){return Pf("Reference.onDisconnect",this._delegate._path),new Up(new gd(this._delegate._repo,this._delegate._path))},Object.defineProperty($p.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty($p.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty($p.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),$p);function $p(e,t){var n=Gp.call(this,e,new md(t._repo,t._path,new Uc,!1))||this;return n.database=e,n._delegate=t,n}var Yp=(Xp.prototype.useEmulator=function(e,t,n){Rp(this._delegate,e,t,n=void 0===n?{}:n)},Xp.prototype.ref=function(e){if(Ko("database.ref",0,1,arguments.length),e instanceof Qp){var t=Pd(this._delegate,e.toString());return new Qp(this,t)}return t=Od(this._delegate,e),new Qp(this,t)},Xp.prototype.refFromURL=function(e){return Ko("database.refFromURL",1,1,arguments.length),e=Pd(this._delegate,e),new Qp(this,e)},Xp.prototype.goOffline=function(){var e;Ko("database.goOffline",0,0,arguments.length),(e=ea(e=this._delegate))._checkNotDeleted("goOffline"),Xf(e._repo)},Xp.prototype.goOnline=function(){return Ko("database.goOnline",0,0,arguments.length),Dp(this._delegate)},Xp.ServerValue={TIMESTAMP:jp,increment:function(e){return{".sv":{increment:e}}}},Xp);function Xp(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}var Jp=Object.freeze({__proto__:null,forceLongPolling:function(){Bs.forceDisallow(),Ms.forceAllow()},forceWebSockets:function(){Ms.forceDisallow()},isWebSocketsAvailable:function(){return Bs.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){var n;e=e._delegate._repo,void 0===(t=t)&&(t=!1),"undefined"!=typeof console&&(e=t?(e.statsListener_||(e.statsListener_=new el(e.stats_)),e.statsListener_.get()):e.stats_.get(),n=Object.keys(e).reduce((function(e,t){return Math.max(t.length,e)}),0),us(e,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)})))},statsIncrementCounter:function(e,t){t=t,(e=e._delegate._repo).stats_.incrementCounter(t),e.statsReporter_.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e._delegate._repo.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,o=e.namespace;return e=void 0!==(e=e.nodeAdmin)&&e,Da(r),(r=new ia("auth-internal",new aa("database-standalone"))).setComponent(new ta("auth-internal",(function(){return i}),"PRIVATE")),{instance:new Yp(xp(t,r,void 0,n,e),t),namespace:o}}});G=Cu,Cu.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Cu.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zp,ev=Object.freeze({__proto__:null,DataConnection:G,RealTimeConnection:Hs,hijackHash:function(e){var t=Cu.prototype.put;return Cu.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Cu.prototype.put=t}},ConnectionTarget:Ss,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){Pp=e}}),tv=Yp.ServerValue;Da((Zp=Aa).SDK_VERSION),Zp.INTERNAL.registerComponent(new ta("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal"),new Yp(xp(r,t,e,n),r)}),"PUBLIC").setServiceProps({Reference:Qp,Query:Wp,Database:Yp,DataSnapshot:zp,enableLogging:qa,INTERNAL:Jp,ServerValue:tv,TEST_ACCESS:ev}).setMultipleInstances(!0)),Zp.registerVersion("@firebase/database","0.10.7");var nv=function(e,t){return(nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function rv(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Q="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{};var iv={},ov=Q||self;function av(){}function sv(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function uv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var cv="closure_uid_"+(1e9*Math.random()>>>0),lv=0;function hv(e,t,n){return e.call.apply(e.bind,arguments)}function fv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function dv(e,t,n){return(dv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hv:fv).apply(null,arguments)}function pv(e){var t=Array.prototype.slice.call(arguments,1);return function(){var n=t.slice();return n.push.apply(n,arguments),e.apply(this,n)}}function vv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,(e.prototype.constructor=e).Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function gv(){this.s=this.s,this.o=this.o}var yv={};gv.prototype.s=!1,gv.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,e=Object.prototype.hasOwnProperty.call(e,cv)&&e[cv]||(e[cv]=++lv),delete yv[e])},gv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var mv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},bv=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function _v(){return Array.prototype.concat.apply([],arguments)}function wv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ev(e){return/^[\s\xa0]*$/.test(e)}var Tv,Iv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Sv(e,t){return-1!=e.indexOf(t)}function Cv(e,t){return e<t?-1:t<e?1:0}var kv=ov.navigator;function Ov(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Pv(e){var t,n={};for(t in e)n[t]=e[t];return n}Tv=kv&&(kv=kv.userAgent)?kv:"";var xv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nv(e){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<xv.length;i++)t=xv[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}}function Av(e){return Av[" "](e),e}Av[" "]=av;var Rv,Dv=Sv(Tv,"Opera"),jv=Sv(Tv,"Trident")||Sv(Tv,"MSIE"),Lv=Sv(Tv,"Edge"),Mv=Lv||jv,Fv=Sv(Tv,"Gecko")&&!(Sv(Tv.toLowerCase(),"webkit")&&!Sv(Tv,"Edge"))&&!(Sv(Tv,"Trident")||Sv(Tv,"MSIE"))&&!Sv(Tv,"Edge"),Uv=Sv(Tv.toLowerCase(),"webkit")&&!Sv(Tv,"Edge");function qv(){var e=ov.document;return e?e.documentMode:void 0}var Vv="",Bv=(Bv=Tv,Fv?/rv:([^\);]+)(\)|;)/.exec(Bv):Lv?/Edge\/([\d\.]+)/.exec(Bv):jv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bv):Uv?/WebKit\/(\S+)/.exec(Bv):Dv?/(?:Version)[ \/]?(\S+)/.exec(Bv):void 0);Bv&&(Vv=Bv?Bv[1]:""),Rv=jv&&null!=(Bv=qv())&&Bv>parseFloat(Vv)?String(Bv):Vv;var zv={};function Kv(){return e=function(){for(var e=0,t=Iv(String(Rv)).split("."),n=Iv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++)for(var o=t[i]||"",a=n[i]||"";o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],(0!=o[0].length||0!=a[0].length)&&(e=Cv(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Cv(0==o[2].length,0==a[2].length)||Cv(o[2],a[2]),o=o[3],a=a[3],0==e););return 0<=e},t=zv,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9);var e,t}var Wv=ov.document&&jv&&(qv()||parseInt(Rv,10))||void 0,Hv=function(){if(!ov.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ov.addEventListener("test",av,t),ov.removeEventListener("test",av,t)}catch(e){}return e}();function Gv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Qv(e,t){if(Gv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Fv){e:{try{Av(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:$v[e.pointerType]||"",this.state=e.state,(this.i=e).defaultPrevented&&Qv.Z.h.call(this)}}Gv.prototype.h=function(){this.defaultPrevented=!0},vv(Qv,Gv);var $v={2:"touch",3:"pen",4:"mouse"};Qv.prototype.h=function(){Qv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Yv="closure_listenable_"+(1e6*Math.random()|0),Xv=0;function Jv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Xv,this.ca=this.fa=!1}function Zv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function eg(e){this.src=e,this.g={},this.h=0}function tg(e,t){var n,r,i,o=t.type;o in e.g&&(n=e.g[o],(i=0<=(r=mv(n,t)))&&Array.prototype.splice.call(n,r,1),i&&(Zv(t),0==e.g[o].length&&(delete e.g[o],e.h--)))}function ng(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}eg.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ng(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new Jv(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var rg="closure_lm_"+(1e6*Math.random()|0),ig={};function og(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);return null}return r=fg(r),t&&t[Yv]?t.O(n,r,uv(i)?!!i.capture:!!i,o):ag(t,n,r,!0,i,o)}(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)og(e,t[o],n,r,i);return null}return n=fg(n),e&&e[Yv]?e.N(t,n,uv(r)?!!r.capture:!!r,i):ag(e,t,n,!1,r,i)}function ag(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a,s=uv(i)?!!i.capture:!!i,u=lg(e);if(u||(e[rg]=u=new eg(e)),(n=u.add(t,n,r,s,o)).proxy)return n;if(a=cg,(n.proxy=r=function e(t){return a.call(e.src,e.listener,t)}).src=e,r.listener=n,e.addEventListener)void 0===(i=Hv?i:s)&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ug(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sg(e){var t,n,r;"number"!=typeof e&&e&&!e.ca&&((t=e.src)&&t[Yv]?tg(t.i,e):(n=e.type,r=e.proxy,t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ug(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=lg(t))?(tg(n,e),0==n.h&&(n.src=null,t[rg]=null)):Zv(e)))}function ug(e){return e in ig?ig[e]:ig[e]="on"+e}function cg(e,t){var n,r;return!!e.ca||(t=new Qv(t,this),n=e.listener,r=e.ia||e.src,e.fa&&sg(e),n.call(r,t))}function lg(e){return(e=e[rg])instanceof eg?e:null}var hg="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(e){return"function"==typeof e?e:(e[hg]||(e[hg]=function(t){return e.handleEvent(t)}),e[hg])}function dg(){gv.call(this),this.i=new eg(this),(this.P=this).I=null}function pg(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t?t=new Gv(t,e):t instanceof Gv?t.target=t.target||e:(a=t,Nv(t=new Gv(r,e),a)),a=!0,n)for(var i=n.length-1;0<=i;i--)var o=t.g=n[i],a=vg(o,r,!0,t)&&a;if(a=vg(o=t.g=e,r,!0,t)&&a,a=vg(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=vg(o=t.g=n[i],r,!1,t)&&a}function vg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a,s,u=t[o];u&&!u.ca&&u.capture==n&&(a=u.listener,s=u.ia||u.src,u.fa&&tg(e.i,u),i=!1!==a.call(s,r)&&i)}return i&&!r.defaultPrevented}vv(dg,gv),dg.prototype[Yv]=!0,dg.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=uv(i)?!!i.capture:!!i,r=fg(r),t&&t[Yv]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ng(a=t.g[n],r,i,o))&&(Zv(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete t.g[n],t.h--))):(t=t&&lg(t))&&(n=t.g[n.toString()],(r=(t=-1)<(t=n?ng(n,r,i,o):t)?n[t]:null)&&sg(r))}(this,e,t,n,r)},dg.prototype.M=function(){if(dg.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Zv(n[r]);delete t.g[e],t.h--}}this.I=null},dg.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dg.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gg=ov.JSON.stringify;function yg(){this.h=this.g=null}yg.prototype.add=function(e,t){var n=mg.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},$s=yg;var mg=(bg.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},new bg((function(){return new wg}),(function(e){return e.reset()})));function bg(e,t){this.i=e,this.j=t,this.h=0,this.g=null}var _g,wg=(Eg.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},Eg.prototype.reset=function(){this.next=this.g=this.h=null},Eg);function Eg(){this.next=this.g=this.h=null}function Tg(e,t){var n;_g||(n=ov.Promise.resolve(void 0),_g=function(){n.then(Cg)}),Ig||(_g(),Ig=!0),Sg.add(e,t)}var Ig=!1,Sg=new $s;function Cg(){for(var e;t=e=void 0,t=null,(e=Sg).g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),e=t;){try{e.h.call(e.g)}catch(e){!function(e){ov.setTimeout((function(){throw e}),0)}(e)}var t=mg;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}Ig=!1}function kg(e,t){dg.call(this),this.h=e||1,this.g=t||ov,this.j=dv(this.kb,this),this.l=Date.now()}function Og(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Pg(e,t,n){if("function"==typeof e)n&&(e=dv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=dv(e.handleEvent,e)}return 2147483647<Number(t)?-1:ov.setTimeout(e,t||0)}vv(kg,dg),(li=kg.prototype).da=!1,li.S=null,li.kb=function(){var e;this.da&&(0<(e=Date.now()-this.l)&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),pg(this,"tick"),this.da&&(Og(this),this.start())))},li.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},li.M=function(){kg.Z.M.call(this),Og(this),delete this.g};var xg,Ng=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}nv(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(Ag,xg=gv),Ag.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=Pg((function(){t.g=null,t.i&&(t.i=!1,e(t))}),t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},Ag.prototype.M=function(){xg.prototype.M.call(this),this.g&&(ov.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},Ag);function Ag(e,t){var n=xg.call(this)||this;return n.m=e,n.j=t,n.h=null,n.i=!1,n.g=null,n}function Rg(e){gv.call(this),this.h=e,this.g={}}vv(Rg,gv);var Dg=[];function jg(e,t,n,r){Array.isArray(n)||(n&&(Dg[0]=n.toString()),n=Dg);for(var i=0;i<n.length;i++){var o=og(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Lg(e){Ov(e.g,(function(e,t){this.g.hasOwnProperty(t)&&sg(e)}),e),e.g={}}function Mg(){this.g=!0}function Fg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(r.length<2)){var i=r[1];if(Array.isArray(i)&&!(i.length<1)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return gg(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Rg.prototype.M=function(){Rg.Z.M.call(this),Lg(this)},Rg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mg.prototype.Aa=function(){this.g=!1},Mg.prototype.info=function(){};var Ug={},qg=null;function Vg(){return qg=qg||new dg}function Bg(e){Gv.call(this,Ug.Ma,e)}function zg(){var e=Vg();pg(e,new Bg(e))}function Kg(e,t){Gv.call(this,Ug.STAT_EVENT,e),this.stat=t}function Wg(e){var t=Vg();pg(t,new Kg(t,e))}function Hg(e,t){Gv.call(this,Ug.Na,e),this.size=t}function Gg(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ov.setTimeout((function(){e()}),t)}function Qg(){}function $g(e){return e.h||(e.h=e.i())}function Yg(){}function Xg(){Gv.call(this,"d")}function Jg(){Gv.call(this,"c")}function Zg(){}function ey(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Rg(this),this.P=ry,this.W=new kg(e=Mv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ty}function ty(){this.i=null,this.g="",this.h=!1}Ug.Ma="serverreachability",vv(Bg,Gv),Ug.STAT_EVENT="statevent",vv(Kg,Gv),Ug.Na="timingevent",vv(Hg,Gv),G={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Q={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"},Qg.prototype.h=null,$s={OPEN:"a",pb:"b",Ka:"c",Bb:"d"},vv(Xg,Gv),vv(Jg,Gv),vv(Zg,Qg),Zg.prototype.g=function(){return new XMLHttpRequest},Zg.prototype.i=function(){return{}};var ny=new Zg,ry=45e3,iy={},oy={};function ay(e,t,n){e.K=1,e.v=Oy(Ey(t)),e.s=n,e.U=!0,sy(e,null)}function sy(e,t){e.F=Date.now(),ly(e),e.A=Ey(e.v);var n,r,i,o,a,s,u=e.A,c=e.X;Array.isArray(c)||(c=[String(c)]),Vy(u.h,"t",c),e.C=0,u=e.l.H,e.h=new ty,e.g=Bm(e.l,u?t:null,!e.s),0<e.O&&(e.L=new Ng(dv(e.Ia,e,e.g),e.O)),jg(e.V,e.g,"readystatechange",e.gb),t=e.H?Pv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),zg(),n=e.j,r=e.u,i=e.A,o=e.m,a=e.X,s=e.s,n.info((function(){if(n.g)if(s)for(var e="",t=s.split("&"),u=0;u<t.length;u++){var c,l,h=t[u].split("=");1<h.length&&(c=h[0],h=h[1],e=2<=(l=c.split("_")).length&&"type"==l[1]?e+(c+"=")+h+"&":e+(c+"=redacted&"))}else e=null;else e=s;return"XMLHTTP REQ ("+o+") [attempt "+a+"]: "+r+"\n"+i+"\n"+e}))}function uy(e){return e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function cy(e,t,n){for(var r,i,o,a,s,u=!0;!e.I&&e.C<n.length;){if(o=n,s=a=void 0,a=(i=e).C,(r=-1==(s=o.indexOf("\n",a))?oy:(a=Number(o.substring(a,s)),isNaN(a)?iy:(s+=1)+a>o.length?oy:(o=o.substr(s,a),i.C=s+a,o)))==oy){4==t&&(e.o=4,Wg(14),u=!1),Fg(e.j,e.m,null,"[Incomplete Response]");break}if(r==iy){e.o=4,Wg(15),Fg(e.j,e.m,n,"[Invalid Chunk]"),u=!1;break}Fg(e.j,e.m,r,null),vy(e,r)}uy(e)&&r!=oy&&r!=iy&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Wg(16),u=!1),e.i=e.i&&u,u?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Dm(t),t.L=!0,Wg(11))):(Fg(e.j,e.m,n,"[Invalid Chunked Response]"),py(e),dy(e))}function ly(e){e.Y=Date.now()+e.P,hy(e,e.P)}function hy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Gg(dv(e.eb,e),t)}function fy(e){e.B&&(ov.clearTimeout(e.B),e.B=null)}function dy(e){0==e.l.G||e.I||Mm(e.l,e)}function py(e){fy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Og(e.W),Lg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function vy(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||$y(n.i,e)))if(n.I=e.N,!e.J&&$y(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(v){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Lm(n),Sm(n)}Rm(n),Wg(18)}}else n.ta=i[1],0<n.ta-n.U&&i[2]<37500&&n.N&&0==n.A&&!n.v&&(n.v=Gg(dv(n.ab,n),6e3));if(Qy(n.i)<=1&&n.ka){try{n.ka()}catch(v){}n.ka=void 0}}else Um(n,11)}else if(!e.J&&n.g!=e||Lm(n),!Ev(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o,a,s,u,c,l,h,f,d,p,v=i[t];n.U=v[0],v=v[1],2==n.G?"c"==v[0]?(n.J=v[1],n.la=v[2],null!=(o=v[3])&&(n.ma=o,n.h.info("VER="+n.ma)),null!=(a=v[4])&&(n.za=a,n.h.info("SVER="+n.za)),null!=(s=v[5])&&"number"==typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n,(u=e.g)&&(!(c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null)||!(l=r.i).g&&(Sv(c,"spdy")||Sv(c,"quic")||Sv(c,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Yy(l,l.h),l.h=null)),!r.D||(h=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null)&&(r.sa=h,ky(r.F,r.D,h))),n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),f=e,(r=n).oa=Vm(r,r.H?r.la:null,r.W),f.J?(Xy(r.i,f),d=f,(p=r.K)&&d.setTimeout(p),d.B&&(fy(d),ly(d)),r.g=f):Am(r),0<n.l.length&&Om(n)):"stop"!=v[0]&&"close"!=v[0]||Um(n,7):3==n.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Um(n,7):Im(n):"noop"!=v[0]&&n.j&&n.j.wa(v),n.A=0)}zg()}catch(v){}}function gy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(sv(e)||"string"==typeof e)bv(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(sv(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(sv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function yy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof yy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function my(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];by(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)by(i,r=e.g[t])||(i[e.g[n++]=r]=1),t++;e.g.length=n}}function by(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(li=ey.prototype).setTimeout=function(e){this.P=e},li.gb=function(e){e=e.target;var t=this.L;t&&3==bm(e)?t.l():this.Ia(e)},li.Ia=function(e){try{if(e==this.g)e:{var t=bm(this.g),n=this.g.Da();if(this.g.ba(),!(t<3)&&(3!=t||Mv||this.g&&(this.h.h||this.g.ga()||_m(this.g)))){this.I||4!=t||7==n||zg(),fy(this);var r=this.g.ba();this.N=r;t:if(uy(this)){var i=_m(this.g);e="";var o=i.length,a=4==bm(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){py(this),dy(this);var s="";break t}this.h.i=new ov.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:a&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==r,h=this.j,f=this.u,d=this.A,p=this.m,v=this.X,g=t,y=r,h.info((function(){return"XMLHTTP RESP ("+p+") [ attempt "+v+"]: "+f+"\n"+d+"\n"+g+" "+y})),this.i){if(this.$&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ev(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Wg(12),py(this),dy(this);break e}Fg(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,vy(this,r)}this.U?(cy(this,t,s),Mv&&this.i&&3==t&&(jg(this.V,this.W,"tick",this.fb),this.W.start())):(Fg(this.j,this.m,s,null),vy(this,s)),4==t&&py(this),this.i&&!this.I&&(4==t?Mm(this.l,this):(this.i=!1,ly(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Wg(12)):(this.o=0,Wg(13)),py(this),dy(this)}}}catch(t){}var h,f,d,p,v,g,y},li.fb=function(){var e,t;this.g&&(e=bm(this.g),t=this.g.ga(),this.C<t.length&&(fy(this),cy(this,e,t),this.i&&4!=e&&ly(this)))},li.cancel=function(){this.I=!0,py(this)},li.eb=function(){this.B=null;var e,t,n=Date.now();0<=n-this.Y?(e=this.j,t=this.A,e.info((function(){return"TIMEOUT: "+t})),2!=this.K&&(zg(),Wg(17)),py(this),this.o=2,dy(this)):hy(this,this.Y-n)},(li=yy.prototype).R=function(){my(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},li.T=function(){return my(this),this.g.concat()},li.get=function(e,t){return by(this.h,e)?this.h[e]:t},li.set=function(e,t){by(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},li.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var _y=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wy(e,t){var n;this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof wy?(this.g=void 0!==t?t:e.g,Ty(this,e.j),this.s=e.s,Iy(this,e.i),Sy(this,e.m),this.l=e.l,t=e.h,(n=new My).i=t.i,t.g&&(n.g=new yy(t.g),n.h=t.h),Cy(this,n),this.o=e.o):e&&(n=String(e).match(_y))?(this.g=!!t,Ty(this,n[1]||"",!0),this.s=Py(n[2]||""),Iy(this,n[3]||"",!0),Sy(this,n[4]),this.l=Py(n[5]||"",!0),Cy(this,n[6]||"",!0),this.o=Py(n[7]||"")):(this.g=!!t,this.h=new My(null,this.g))}function Ey(e){return new wy(e)}function Ty(e,t,n){e.j=n?Py(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Iy(e,t,n){e.i=n?Py(t,!0):t}function Sy(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Cy(e,t,n){var r,i;t instanceof My?(e.h=t,r=e.h,(i=e.g)&&!r.j&&(Fy(r),r.i=null,r.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Uy(this,t),Vy(this,n,e))}),r)),r.j=i):(n||(t=xy(t,jy)),e.h=new My(t,e.g))}function ky(e,t,n){e.h.set(t,n)}function Oy(e){return ky(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Py(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function xy(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Ny),e=n?e.replace(/%25([0-9a-fA-F]{2})/g,"%$1"):e):null}function Ny(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}wy.prototype.toString=function(){var e=[],t=this.j;t&&e.push(xy(t,Ay,!0),":");var n=this.i;return!n&&"file"!=t||(e.push("//"),(t=this.s)&&e.push(xy(t,Ay,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(xy(n,"/"==n.charAt(0)?Dy:Ry,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",xy(n,Ly)),e.join("")};var Ay=/[#\/\?@]/g,Ry=/[#\?:]/g,Dy=/[#\?]/g,jy=/[#\?@]/g,Ly=/#/g;function My(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Fy(e){e.g||(e.g=new yy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r,i=e[n].indexOf("="),o=null;0<=i?(r=e[n].substring(0,i),o=e[n].substring(i+1)):r=e[n],t(r,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Uy(e,t){Fy(e),t=By(e,t),by(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,by((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&my(e)))}function qy(e,t){return Fy(e),t=By(e,t),by(e.g.h,t)}function Vy(e,t,n){Uy(e,t),0<n.length&&(e.i=null,e.g.set(By(e,t),wv(n)),e.h+=n.length)}function By(e,t){return t=String(t),e.j?t.toLowerCase():t}(li=My.prototype).add=function(e,t){Fy(this),this.i=null,e=By(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},li.forEach=function(e,t){Fy(this),this.g.forEach((function(n,r){bv(n,(function(n){e.call(t,n,r,this)}),this)}),this)},li.T=function(){Fy(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},li.R=function(e){Fy(this);var t=[];if("string"==typeof e)qy(this,e)&&(t=_v(t,this.g.get(By(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=_v(t,e[n])}return t},li.set=function(e,t){return Fy(this),this.i=null,qy(this,e=By(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},li.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},li.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++)for(var r=t[n],i=encodeURIComponent(String(r)),o=(r=this.R(r),0);o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}return this.i=e.join("&")};var zy=function(e,t){this.h=e,this.g=t};function Ky(e){this.l=e||Hy,e=ov.PerformanceNavigationTiming?0<(e=ov.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ov.g&&ov.g.Ea&&ov.g.Ea()&&ov.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Wy,Hy=10;function Gy(e){return e.h||e.g&&e.g.size>=e.j}function Qy(e){return e.h?1:e.g?e.g.size:0}function $y(e,t){return e.h?e.h==t:e.g&&e.g.has(t)}function Yy(e,t){e.g?e.g.add(t):e.h=t}function Xy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Jy(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null==e.g||0===e.g.size)return wv(e.i);var r=e.i;try{for(var i=rv(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Zy(){}function em(){this.g=new Zy}function tm(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function nm(e){this.l=e.$b||null,this.j=e.ib||!1}function rm(e,t){dg.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=im,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ky.prototype.cancel=function(){var e,t;if(this.i=Jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=rv(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},Zy.prototype.stringify=function(e){return ov.JSON.stringify(e,void 0)},Zy.prototype.parse=function(e){return ov.JSON.parse(e,void 0)},vv(nm,Qg),nm.prototype.g=function(){return new rm(this.l,this.j)},nm.prototype.i=(Wy={},function(){return Wy}),vv(rm,dg);var im=0;function om(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function am(e){e.readyState=4,e.l=null,e.j=null,e.A=null,sm(e)}function sm(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(li=rm.prototype).open=function(e,t){if(this.readyState!=im)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,sm(this)},li.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ov).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},li.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,am(this)),this.readyState=im},li.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,sm(this)),this.g&&(this.readyState=3,sm(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ov.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;om(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},li.Sa=function(e){var t;this.g&&(this.u&&e.value?this.response.push(e.value):this.u||(t=e.value||new Uint8Array(0),(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)),(e.done?am:sm)(this),3==this.readyState&&om(this))},li.Ua=function(e){this.g&&(this.response=this.responseText=e,am(this))},li.Ta=function(e){this.g&&(this.response=e,am(this))},li.ha=function(){this.g&&am(this)},li.setRequestHeader=function(e,t){this.v.append(e,t)},li.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},li.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(rm.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var um=ov.JSON.parse;function cm(e){dg.call(this),this.headers=new yy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lm,this.K=this.L=!1}vv(cm,dg);var lm="",hm=/^https?$/i,fm=["POST","PUT"];function dm(e){return"content-type"==e.toLowerCase()}function pm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,vm(e),ym(e)}function vm(e){e.D||(e.D=!0,pg(e,"complete"),pg(e,"error"))}function gm(e){if(e.h&&void 0!==iv&&(!e.C[1]||4!=bm(e)||2!=e.ba()))if(e.v&&4==bm(e))Pg(e.Fa,0,e);else if(pg(e,"readystatechange"),4==bm(e)){e.h=!1;try{var t,n,r,i,o=e.ba();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if((t=a)||((n=0===o)&&(!(i=String(e.H).match(_y)[1]||null)&&ov.self&&ov.self.location&&(i=(r=ov.self.location.protocol).substr(0,r.length-1)),n=!hm.test(i?i.toLowerCase():"")),t=n),t)pg(e,"complete"),pg(e,"success");else{e.m=6;try{var s=2<bm(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.ba()+"]",vm(e)}}finally{ym(e)}}}function ym(e,t){if(e.g){mm(e);var n=e.g,r=e.C[0]?av:null;e.g=null,e.C=null,t||pg(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function mm(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ov.clearTimeout(e.A),e.A=null)}function bm(e){return e.g?e.g.readyState:0}function _m(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case lm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function wm(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}var i;r||(i="",Ov(n,(function(e,t){i+=t,i+=":",i+=e,i+="\r\n"})),n=i,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):ky(e,t,n))}function Em(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Tm(e){this.za=0,this.l=[],this.h=new Mg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Em("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Em("baseRetryDelayMs",5e3,e),this.$a=Em("retryDelaySeedMs",1e4,e),this.Ya=Em("forwardChannelMaxRetries",2,e),this.ra=Em("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Ky(e&&e.concurrentRequestLimit),this.Ca=new em,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Im(e){var t,n;Cm(e),3==e.G&&(t=e.V++,ky(n=Ey(e.F),"SID",e.J),ky(n,"RID",t),ky(n,"TYPE","terminate"),xm(e,n),(t=new ey(e,e.h,t,void 0)).K=2,t.v=Oy(Ey(n)),n=!1,!(n=ov.navigator&&ov.navigator.sendBeacon?ov.navigator.sendBeacon(t.v.toString(),""):n)&&ov.Image&&((new Image).src=t.v,n=!0),n||(t.g=Bm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ly(t)),qm(e)}function Sm(e){e.g&&(Dm(e),e.g.cancel(),e.g=null)}function Cm(e){Sm(e),e.u&&(ov.clearTimeout(e.u),e.u=null),Lm(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ov.clearTimeout(e.m),e.m=null)}function km(e,t){e.l.push(new zy(e.Za++,t)),3==e.G&&Om(e)}function Om(e){Gy(e.i)||e.m||(e.m=!0,Tg(e.Ha,e),e.C=0)}function Pm(e,t){var n=t?t.m:e.V++,r=Ey(e.F);ky(r,"SID",e.J),ky(r,"RID",n),ky(r,"AID",e.U),xm(e,r),e.o&&e.s&&wm(r,e.o,e.s),n=new ey(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Nm(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Yy(e.i,n),ay(n,r,t)}function xm(e,t){e.j&&gy({},(function(e,n){ky(t,n,e)}))}function Nm(e,t,n){n=Math.min(e.l.length,n);var r=e.j?dv(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if((c-=o)<0)o=Math.max(0,i[u].h-100),s=!1;else try{!function(e,t,n){var r=n||"";try{gy(e,(function(e,n){var i=e;uv(e)&&(i=gg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(l,a,"req"+c+"_")}catch(e){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Am(e){e.g||e.u||(e.Y=1,Tg(e.Ga,e),e.A=0)}function Rm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Gg(dv(e.Ga,e),Fm(e,e.A)),e.A++,1)}function Dm(e){null!=e.B&&(ov.clearTimeout(e.B),e.B=null)}function jm(e){e.g=new ey(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ey(e.oa);ky(t,"RID","rpc"),ky(t,"SID",e.J),ky(t,"CI",e.N?"0":"1"),ky(t,"AID",e.U),xm(e,t),ky(t,"TYPE","xmlhttp"),e.o&&e.s&&wm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Oy(Ey(t)),n.s=null,n.U=!0,sy(n,e)}function Lm(e){null!=e.v&&(ov.clearTimeout(e.v),e.v=null)}function Mm(e,t){var n,r,i,o=null;if(e.g==t){Lm(e),Dm(e),e.g=null;var a=2}else{if(!$y(e.i,t))return;o=t.D,Xy(e.i,t),a=1}if(e.I=t.N,0!=e.G)if(t.i)1==a?(o=t.s?t.s.length:0,t=Date.now()-t.F,n=e.C,pg(a=Vg(),new Hg(a,o)),Om(e)):Am(e);else if(3==(n=t.o)||0==n&&0<e.I||(1!=a||(i=t,Qy((r=e).i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Gg(dv(r.Ha,r,i),Fm(r,r.C)),r.C++,0))))&&(2!=a||!Rm(e)))switch(o&&0<o.length&&(t=e.i,t.i=t.i.concat(o)),n){case 1:Um(e,5);break;case 4:Um(e,10);break;case 3:Um(e,6);break;default:Um(e,2)}}function Fm(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Um(e,t){var n,r,i,o;e.h.info("Error code "+t),2==t?(r=null,e.j&&(r=null),o=dv(e.jb,e),r||(r=new wy("//www.google.com/images/cleardot.gif"),ov.location&&"http"==ov.location.protocol||Ty(r,"https"),Oy(r)),n=r.toString(),r=o,o=new Mg,ov.Image?((i=new Image).onload=pv(tm,o,i,"TestLoadImage: loaded",!0,r),i.onerror=pv(tm,o,i,"TestLoadImage: error",!1,r),i.onabort=pv(tm,o,i,"TestLoadImage: abort",!1,r),i.ontimeout=pv(tm,o,i,"TestLoadImage: timeout",!1,r),ov.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=n):r(!1)):Wg(2),e.G=0,e.j&&e.j.va(t),qm(e),Cm(e)}function qm(e){e.G=0,e.I=-1,e.j&&(0==Jy(e.i).length&&0==e.l.length||(e.i.i.length=0,wv(e.l),e.l.length=0),e.j.ua())}function Vm(e,t,n){var r,i,o,a,s,u=(a=n)instanceof wy?Ey(a):new wy(a,void 0);return""!=u.i?(t&&Iy(u,t+"."+u.i),Sy(u,u.m)):(r=(s=ov.location).protocol,i=t?t+"."+s.hostname:s.hostname,o=+s.port,a=n,s=new wy(null,void 0),r&&Ty(s,r),i&&Iy(s,i),o&&Sy(s,o),a&&(s.l=a),u=s),e.aa&&Ov(e.aa,(function(e,t){ky(u,t,e)})),t=e.D,n=e.sa,t&&n&&ky(u,t,n),ky(u,"VER",e.ma),xm(e,u),u}function Bm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new cm(new nm({ib:!0})):new cm(e.qa)).L=e.H,t}function zm(){}function Km(){if(jv&&!(10<=Number(Wv)))throw Error("Environmental error: no available transport.")}function Wm(e,t){dg.call(this),this.g=new Tm(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ev(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ev(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new Qm(this)}function Hm(e){Xg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Gm(){Jg.call(this),this.status=1}function Qm(e){this.g=e}(li=cm.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=(this.u||ny).g(),this.C=this.u?$g(this.u):$g(ny),this.g.onreadystatechange=dv(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void pm(this,e)}e=n||"";var i,o=new yy(this.headers);r&&gy(r,(function(e,t){o.set(t,e)})),r=function(e){e:{for(var t=dm,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return t<0?null:"string"==typeof e?e.charAt(t):e[t]}(o.T()),n=ov.FormData&&e instanceof ov.FormData,0<=mv(fm,t)&&!r&&!n&&o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mm(this),0<this.B&&((this.K=(i=this.g,jv&&Kv()&&"number"==typeof i.timeout&&void 0!==i.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=dv(this.pa,this)):this.A=Pg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){pm(this,e)}},li.pa=function(){void 0!==iv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pg(this,"timeout"),this.abort(8))},li.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pg(this,"complete"),pg(this,"abort"),ym(this))},li.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ym(this,!0)),cm.Z.M.call(this)},li.Fa=function(){this.s||(this.F||this.v||this.l?gm(this):this.cb())},li.cb=function(){gm(this)},li.ba=function(){try{return 2<bm(this)?this.g.status:-1}catch(e){return-1}},li.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},li.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),um(t)}},li.Da=function(){return this.m},li.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(li=Tm.prototype).ma=8,li.G=1,li.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},li.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ey(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Nv(n=Pv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Nm(this,t,r),ky(i=Ey(this.F),"RID",e),ky(i,"CVER",22),this.D&&ky(i,"X-HTTP-Session-Id",this.D),xm(this,i),this.o&&n&&wm(i,this.o,n),Yy(this.i,t),this.Ra&&ky(i,"TYPE","init"),this.ja?(ky(i,"$req",r),ky(i,"SID","null"),t.$=!0,ay(t,i,null)):ay(t,i,r),this.G=2}}else 3==this.G&&(e?Pm(this,e):0==this.l.length||Gy(this.i)||Pm(this))},li.Ga=function(){var e;this.u=null,jm(this),this.$&&!(this.L||null==this.g||this.O<=0)&&(e=2*this.O,this.h.info("BP detection timer enabled: "+e),this.B=Gg(dv(this.bb,this),e))},li.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wg(10),Sm(this),jm(this))},li.ab=function(){null!=this.v&&(this.v=null,Sm(this),Rm(this),Wg(19))},li.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Wg(2)):(this.h.info("Failed to ping google.com"),Wg(1))},(li=zm.prototype).xa=function(){},li.wa=function(){},li.va=function(){},li.ua=function(){},li.Oa=function(){},Km.prototype.g=function(e,t){return new Wm(e,t)},vv(Wm,dg),Wm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Tg(dv(e.hb,e,t))),Wg(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Vm(e,null,e.W),Om(e)},Wm.prototype.close=function(){Im(this.g)},Wm.prototype.u=function(e){var t;"string"==typeof e?((t={}).__data__=e,km(this.g,t)):this.v?((t={}).__data__=gg(e),km(this.g,t)):km(this.g,e)},Wm.prototype.M=function(){this.g.j=null,delete this.j,Im(this.g),delete this.g,Wm.Z.M.call(this)},vv(Hm,Xg),vv(Gm,Jg),vv(Qm,zm),Qm.prototype.xa=function(){pg(this.g,"a")},Qm.prototype.wa=function(e){pg(this.g,new Hm(e))},Qm.prototype.va=function(e){pg(this.g,new Gm)},Qm.prototype.ua=function(){pg(this.g,"b")},Km.prototype.createWebChannel=Km.prototype.g,Wm.prototype.send=Wm.prototype.u,Wm.prototype.open=Wm.prototype.m,G.NO_ERROR=0,G.TIMEOUT=8,G.HTTP_ERROR=6,Q.COMPLETE="complete",(Yg.EventType=$s).OPEN="a",$s.CLOSE="b",$s.ERROR="c",$s.MESSAGE="d",dg.prototype.listen=dg.prototype.N,cm.prototype.listenOnce=cm.prototype.O,cm.prototype.getLastError=cm.prototype.La,cm.prototype.getLastErrorCode=cm.prototype.Da,cm.prototype.getStatus=cm.prototype.ba,cm.prototype.getResponseJson=cm.prototype.Qa,cm.prototype.getResponseText=cm.prototype.ga,cm.prototype.send=cm.prototype.ea;var $m=Vg,Ym=G,Xm=Q,Jm=Ug,Zm=10,eb=11,tb=nm,nb=Yg,rb=cm,ib=(ob.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},ob.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},ob);function ob(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}ib.o=-1;var ab,sb={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ub=($i(lb,ab=Error),lb),cb=new pa("@firebase/firestore");function lb(e,t){var n=this;return(n=ab.call(this,t)||this).code=e,n.message=t,n.name="FirebaseError",n.toString=function(){return n.name+": [code="+n.code+"]: "+n.message},n}function hb(){return cb.logLevel}function fb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cb.logLevel<=ua.DEBUG&&(t=n.map(vb),cb.debug.apply(cb,to(["Firestore (8.7.1): "+e],t)))}function db(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cb.logLevel<=ua.ERROR&&(t=n.map(vb),cb.error.apply(cb,to(["Firestore (8.7.1): "+e],t)))}function pb(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];cb.logLevel<=ua.WARN&&(t=n.map(vb),cb.warn.apply(cb,to(["Firestore (8.7.1): "+e],t)))}function vb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function gb(e){throw db(e="FIRESTORE (8.7.1) INTERNAL ASSERTION FAILED: "+(e=void 0===e?"Unexpected state":e)),new Error(e)}function yb(e){e||gb()}var mb=(bb.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},bb);function bb(){}function _b(e,t){return e<t?-1:t<e?1:0}function wb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Eb(e){return e+"\0"}var Tb=(Cb.now=function(){return Cb.fromMillis(Date.now())},Cb.fromDate=function(e){return Cb.fromMillis(e.getTime())},Cb.fromMillis=function(e){var t=Math.floor(e/1e3);return new Cb(t,Math.floor(1e6*(e-1e3*t)))},Cb.prototype.toDate=function(){return new Date(this.toMillis())},Cb.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},Cb.prototype._compareTo=function(e){return this.seconds===e.seconds?_b(this.nanoseconds,e.nanoseconds):_b(this.seconds,e.seconds)},Cb.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},Cb.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},Cb.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},Cb.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},Cb),Ib=(Sb.fromTimestamp=function(e){return new Sb(e)},Sb.min=function(){return new Sb(new Tb(0,0))},Sb.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},Sb.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},Sb.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},Sb.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},Sb.prototype.toTimestamp=function(){return this.timestamp},Sb);function Sb(e){this.timestamp=e}function Cb(e,t){if(this.seconds=e,(this.nanoseconds=t)<0)throw new ub(sb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(1e9<=t)throw new ub(sb.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ub(sb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(253402300800<=e)throw new ub(sb.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}function kb(e){var t,n=0;for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n++;return n}function Ob(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Pb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Object.defineProperty(Vb.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),Vb.prototype.isEqual=function(e){return 0===Vb.comparator(this,e)},Vb.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof Vb?e.forEach((function(e){t.push(e)})):t.push(e),this.construct(t)},Vb.prototype.limit=function(){return this.offset+this.length},Vb.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},Vb.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},Vb.prototype.firstSegment=function(){return this.segments[this.offset]},Vb.prototype.lastSegment=function(){return this.get(this.length-1)},Vb.prototype.get=function(e){return this.segments[this.offset+e]},Vb.prototype.isEmpty=function(){return 0===this.length},Vb.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Vb.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},Vb.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},Vb.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},Vb.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(o<i)return 1}return e.length<t.length?-1:e.length>t.length?1:0};var xb,Nb,Ab=($i(qb,Nb=G=Vb),qb.prototype.construct=function(e,t,n){return new qb(e,t,n)},qb.prototype.canonicalString=function(){return this.toArray().join("/")},qb.prototype.toString=function(){return this.canonicalString()},qb.fromString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=[],r=0,i=e;r<i.length;r++){var o=i[r];if(0<=o.indexOf("//"))throw new ub(sb.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");n.push.apply(n,o.split("/").filter((function(e){return 0<e.length})))}return new qb(n)},qb.emptyPath=function(){return new qb([])},qb),Rb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Db=($i(Ub,xb=G),Ub.prototype.construct=function(e,t,n){return new Ub(e,t,n)},Ub.isValidIdentifier=function(e){return Rb.test(e)},Ub.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ub.isValidIdentifier(e)?e:"`"+e+"`"})).join(".")},Ub.prototype.toString=function(){return this.canonicalString()},Ub.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},Ub.keyField=function(){return new Ub(["__name__"])},Ub.fromServerFormat=function(e){for(var t=[],n="",r=0,i=function(){if(0===n.length)throw new ub(sb.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");t.push(n),n=""},o=!1;r<e.length;){var a=e[r];if("\\"===a){if(r+1===e.length)throw new ub(sb.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[r+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ub(sb.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=s,r+=2}else"`"===a?o=!o:"."!==a||o?n+=a:i(),r++}if(i(),o)throw new ub(sb.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ub(t)},Ub.emptyPath=function(){return new Ub([])},Ub),jb=(Fb.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},Fb.prototype.isEqual=function(e){return wb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},Fb),Lb=(Mb.fromBase64String=function(e){return new Mb(atob(e))},Mb.fromUint8Array=function(e){return new Mb(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e))},Mb.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},Mb.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},Mb.prototype.approximateByteSize=function(){return 2*this.binaryString.length},Mb.prototype.compareTo=function(e){return _b(this.binaryString,e.binaryString)},Mb.prototype.isEqual=function(e){return this.binaryString===e.binaryString},Mb);function Mb(e){this.binaryString=e}function Fb(e){(this.fields=e).sort(Db.comparator)}function Ub(){return null!==xb&&xb.apply(this,arguments)||this}function qb(){return null!==Nb&&Nb.apply(this,arguments)||this}function Vb(e,t,n){void 0===t?t=0:t>e.length&&gb(),void 0===n?n=e.length-t:n>e.length-t&&gb(),this.segments=e,this.offset=t,this.len=n}Lb.EMPTY_BYTE_STRING=new Lb("");var Bb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zb(e){if(yb(!!e),"string"!=typeof e)return{seconds:Kb(e.seconds),nanos:Kb(e.nanos)};var t=0,n=Bb.exec(e);return yb(!!n),n[1]&&(n=((n=n[1])+"000000000").substr(0,9),t=Number(n)),e=new Date(e),{seconds:Math.floor(e.getTime()/1e3),nanos:t}}function Kb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wb(e){return"string"==typeof e?Lb.fromBase64String(e):Lb.fromUint8Array(e)}function Hb(e){return"server_timestamp"===(null===(e=((null===(e=null==e?void 0:e.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Gb(e){return e=zb(e.mapValue.fields.__local_write_time__.timestampValue),new Tb(e.seconds,e.nanos)}function Qb(e){return null==e}function $b(e){return 0===e&&1/e==-1/0}function Yb(e){return"number"==typeof e&&Number.isInteger(e)&&!$b(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Xb=(Jb.fromPath=function(e){return new Jb(Ab.fromString(e))},Jb.fromName=function(e){return new Jb(Ab.fromString(e).popFirst(5))},Jb.prototype.hasCollectionId=function(e){return 2<=this.path.length&&this.path.get(this.path.length-2)===e},Jb.prototype.isEqual=function(e){return null!==e&&0===Ab.comparator(this.path,e.path)},Jb.prototype.toString=function(){return this.path.toString()},Jb.comparator=function(e,t){return Ab.comparator(e.path,t.path)},Jb.isDocumentKey=function(e){return e.length%2==0},Jb.fromSegments=function(e){return new Jb(new Ab(e.slice()))},Jb);function Jb(e){this.path=e}function Zb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hb(e)?4:10:gb()}function e_(e,t){var n,r,i=Zb(e);if(i!==Zb(t))return!1;switch(i){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gb(e).isEqual(Gb(t));case 3:return function(t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zb(e.timestampValue);return t=zb(t.timestampValue),n.seconds===t.seconds&&n.nanos===t.nanos}(t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Wb(e.bytesValue).isEqual(Wb(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return n=t,Kb((r=e).geoPointValue.latitude)===Kb(n.geoPointValue.latitude)&&Kb(r.geoPointValue.longitude)===Kb(n.geoPointValue.longitude);case 2:return function(e,t){return"integerValue"in e&&"integerValue"in t?Kb(e.integerValue)===Kb(t.integerValue):"doubleValue"in e&&"doubleValue"in t&&((e=Kb(e.doubleValue))===(t=Kb(t.doubleValue))?$b(e)===$b(t):isNaN(e)&&isNaN(t))}(e,t);case 9:return wb(e.arrayValue.values||[],t.arrayValue.values||[],e_);case 10:return function(){var n,r=e.mapValue.fields||{},i=t.mapValue.fields||{};if(kb(r)!==kb(i))return!1;for(n in r)if(r.hasOwnProperty(n)&&(void 0===i[n]||!e_(r[n],i[n])))return!1;return!0}();default:return gb()}}function t_(e,t){return void 0!==(e.values||[]).find((function(e){return e_(e,t)}))}function n_(e,t){var n,r,i,o=Zb(e),a=Zb(t);if(o!==a)return _b(o,a);switch(o){case 0:return 0;case 1:return _b(e.booleanValue,t.booleanValue);case 2:return r=t,(i=Kb(e.integerValue||e.doubleValue))<(r=Kb(r.integerValue||r.doubleValue))?-1:r<i?1:i===r?0:isNaN(i)?isNaN(r)?0:-1:1;case 3:return r_(e.timestampValue,t.timestampValue);case 4:return r_(Gb(e),Gb(t));case 5:return _b(e.stringValue,t.stringValue);case 6:return function(e,t){return e=Wb(e),t=Wb(t),e.compareTo(t)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=_b(n[i],r[i]);if(0!==o)return o}return _b(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return n=e.geoPointValue,i=t.geoPointValue,0!==(r=_b(Kb(n.latitude),Kb(i.latitude)))?r:_b(Kb(n.longitude),Kb(i.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=n_(n[i],r[i]);if(o)return o}return _b(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=_b(r[a],o[a]);if(0!==s)return s;if(0!==(s=n_(n[r[a]],i[o[a]])))return s}return _b(r.length,o.length)}(e.mapValue,t.mapValue);default:throw gb()}}function r_(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return _b(e,t);var n=zb(e);return e=zb(t),0!==(t=_b(n.seconds,e.seconds))?t:_b(n.nanos,e.nanos)}function i_(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){return"time("+(e=zb(e)).seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wb(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Xb.fromName(n).toString()):"geoPointValue"in t?"geo("+(n=t.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in t?function(t){for(var n="[",r=!0,i=0,o=t.values||[];i<o.length;i++)r?r=!1:n+=",",n+=e(o[i]);return n+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var n="{",r=!0,i=0,o=Object.keys(t.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+e(t.fields[a])}return n+"}"}(t.mapValue):gb();var n}(e)}function o_(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function a_(e){return e&&"integerValue"in e}function s_(e){return!!e&&"arrayValue"in e}function u_(e){return e&&"nullValue"in e}function c_(e){return e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function l_(e){return e&&"mapValue"in e}function h_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue)return{timestampValue:Object.assign({},zb(e.timestampValue))};if(e.mapValue){var t={mapValue:{fields:{}}};return Ob(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=h_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=h_(e.arrayValue.values[r]);return n}return Object.assign({},e)}var f_=(d_.empty=function(){return new d_({mapValue:{}})},d_.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!l_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},d_.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=h_(t)},d_.prototype.setAll=function(e){var t=this,n=Db.emptyPath(),r={},i=[];e.forEach((function(e,o){var a;n.isImmediateParentOf(o)||(a=t.getFieldsMap(n),t.applyChanges(a,r,i),r={},i=[],n=o.popLast()),e?r[o.lastSegment()]=h_(e):i.push(o.lastSegment())})),e=this.getFieldsMap(n),this.applyChanges(e,r,i)},d_.prototype.delete=function(e){var t=this.field(e.popLast());l_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},d_.prototype.isEqual=function(e){return e_(this.value,e.value)},d_.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];l_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},d_.prototype.applyChanges=function(e,t,n){Ob(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},d_.prototype.clone=function(){return new d_(h_(this.value))},d_);function d_(e){this.value=e}var p_=(g_.newInvalidDocument=function(e){return new g_(e,0,Ib.min(),f_.empty(),0)},g_.newFoundDocument=function(e,t,n){return new g_(e,1,t,n,0)},g_.newNoDocument=function(e,t){return new g_(e,2,t,f_.empty(),0)},g_.newUnknownDocument=function(e,t){return new g_(e,3,t,f_.empty(),2)},g_.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},g_.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=f_.empty(),this.documentState=0,this},g_.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=f_.empty(),this.documentState=2,this},g_.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},g_.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(g_.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(g_.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(g_.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),g_.prototype.isValidDocument=function(){return 0!==this.documentType},g_.prototype.isFoundDocument=function(){return 1===this.documentType},g_.prototype.isNoDocument=function(){return 2===this.documentType},g_.prototype.isUnknownDocument=function(){return 3===this.documentType},g_.prototype.isEqual=function(e){return e instanceof g_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},g_.prototype.clone=function(){return new g_(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},g_.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},g_),v_=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function g_(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}function y_(e,t,n,r,i,o,a){return new v_(e,t=void 0===t?null:t,n=void 0===n?[]:n,r=void 0===r?[]:r,i=void 0===i?null:i,o=void 0===o?null:o,a=void 0===a?null:a)}function m_(e){var t=e;return null===t.h&&(e=t.path.canonicalString(),null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((function(e){return(e=e).field.canonicalString()+e.op.toString()+i_(e.value)})).join(","),e+="|ob:",e+=t.orderBy.map((function(e){return(e=e).field.canonicalString()+e.dir})).join(","),Qb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=G_(t.startAt)),t.endAt&&(e+="|ub:",e+=G_(t.endAt)),t.h=e),t.h}function b_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,i=0;i<e.orderBy.length;i++)if(n=e.orderBy[i],r=t.orderBy[i],n.dir!==r.dir||!n.field.isEqual(r.field))return!1;if(e.filters.length!==t.filters.length)return!1;for(var o,a,s=0;s<e.filters.length;s++)if(o=e.filters[s],a=t.filters[s],o.op!==a.op||!o.field.isEqual(a.field)||!e_(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Y_(e.startAt,t.startAt)&&Y_(e.endAt,t.endAt)}function __(e){return Xb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var w_,E_=($i(T_,w_=function(){}),T_.create=function(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.l(e,t,n):new k_(e,t,n):"array-contains"===t?new F_(e,n):"in"===t?new U_(e,n):"not-in"===t?new q_(e,n):"array-contains-any"===t?new V_(e,n):new T_(e,t,n)},T_.l=function(e,t,n){return new("in"===t?O_:P_)(e,n)},T_.prototype.matches=function(e){return e=e.data.field(this.field),"!="===this.op?null!==e&&this.m(n_(e,this.value)):null!==e&&Zb(this.value)===Zb(e)&&this.m(n_(e,this.value))},T_.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return 0<e;case">=":return 0<=e;default:return gb()}},T_.prototype.g=function(){return 0<=["<","<=",">",">=","!=","not-in"].indexOf(this.op)},T_);function T_(e,t,n){var r=this;return(r=w_.call(this)||this).field=e,r.op=t,r.value=n,r}var I_,S_,C_,k_=($i(A_,C_=E_),A_.prototype.matches=function(e){return e=Xb.comparator(e.key,this.key),this.m(e)},A_),O_=($i(N_,S_=E_),N_.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},N_),P_=($i(x_,I_=E_),x_.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},x_);function x_(e,t){var n=this;return(n=I_.call(this,e,"not-in",t)||this).keys=R_(0,t),n}function N_(e,t){var n=this;return(n=S_.call(this,e,"in",t)||this).keys=R_(0,t),n}function A_(e,t,n){var r=this;return(r=C_.call(this,e,t,n)||this).key=Xb.fromName(n.referenceValue),r}function R_(e,t){return((null===(t=t.arrayValue)||void 0===t?void 0:t.values)||[]).map((function(e){return Xb.fromName(e.referenceValue)}))}var D_,j_,L_,M_,F_=($i(H_,M_=E_),H_.prototype.matches=function(e){return s_(e=e.data.field(this.field))&&t_(e.arrayValue,this.value)},H_),U_=($i(W_,L_=E_),W_.prototype.matches=function(e){return null!==(e=e.data.field(this.field))&&t_(this.value.arrayValue,e)},W_),q_=($i(K_,j_=E_),K_.prototype.matches=function(e){return!t_(this.value.arrayValue,{nullValue:"NULL_VALUE"})&&null!==(e=e.data.field(this.field))&&!t_(this.value.arrayValue,e)},K_),V_=($i(z_,D_=E_),z_.prototype.matches=function(e){var t=this;return!(!s_(e=e.data.field(this.field))||!e.arrayValue.values)&&e.arrayValue.values.some((function(e){return t_(t.value.arrayValue,e)}))},z_),B_=function(e,t){this.position=e,this.before=t};function z_(e,t){return D_.call(this,e,"array-contains-any",t)||this}function K_(e,t){return j_.call(this,e,"not-in",t)||this}function W_(e,t){return L_.call(this,e,"in",t)||this}function H_(e,t){return M_.call(this,e,"array-contains",t)||this}function G_(e){return(e.before?"b":"a")+":"+e.position.map(i_).join(",")}var Q_=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function $_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Xb.comparator(Xb.fromName(a.referenceValue),n.key):n_(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Y_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!e_(e.position[n],t.position[n]))return!1;return!0}var X_=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function J_(e,t,n,r,i,o,a,s){return new X_(e,t,n,r,i,o,a,s)}function Z_(e){return new X_(e)}function ew(e){return!Qb(e.limit)&&"F"===e.limitType}function tw(e){return!Qb(e.limit)&&"L"===e.limitType}function nw(e){return 0<e.explicitOrderBy.length?e.explicitOrderBy[0].field:null}function rw(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function iw(e){return null!==e.collectionGroup}function ow(e){var t=e;if(null===t.p){t.p=[];var n=rw(t);if(e=nw(t),null!==n&&null===e)n.isKeyField()||t.p.push(new Q_(n)),t.p.push(new Q_(Db.keyField(),"asc"));else{for(var r=!1,i=0,o=t.explicitOrderBy;i<o.length;i++){var a=o[i];t.p.push(a),a.field.isKeyField()&&(r=!0)}r||(n=0<t.explicitOrderBy.length?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",t.p.push(new Q_(Db.keyField(),n)))}}return t.p}function aw(e){var t=e;if(!t.T)if("F"===t.limitType)t.T=y_(t.path,t.collectionGroup,ow(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=ow(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Q_(o.field,a))}var s=t.endAt?new B_(t.endAt.position,!t.endAt.before):null;e=t.startAt?new B_(t.startAt.position,!t.startAt.before):null,t.T=y_(t.path,t.collectionGroup,n,t.filters,t.limit,s,e)}return t.T}function sw(e,t,n){return new X_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uw(e,t){return b_(aw(e),aw(t))&&e.limitType===t.limitType}function cw(e){return m_(aw(e))+"|lt:"+e.limitType}function lw(e){return"Query(target="+(n=(t=aw(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),0<t.filters.length&&(n+=", filters: ["+t.filters.map((function(e){return(e=e).field.canonicalString()+" "+e.op+" "+i_(e.value)})).join(", ")+"]"),Qb(t.limit)||(n+=", limit: "+t.limit),0<t.orderBy.length&&(n+=", orderBy: ["+t.orderBy.map((function(e){return(e=e).field.canonicalString()+" ("+e.dir+")"})).join(", ")+"]"),t.startAt&&(n+=", startAt: "+G_(t.startAt)),t.endAt&&(n+=", endAt: "+G_(t.endAt)),"Target("+n+"); limitType=")+e.limitType+")";var t,n}function hw(e,t){return t.isFoundDocument()&&(n=e,r=t.key.path,null!==n.collectionGroup?t.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Xb.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r))&&function(t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return}return 1}(t)&&function(t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return;return 1}(t)&&(r=t,(!(t=e).startAt||$_(t.startAt,ow(t),r))&&(!t.endAt||!$_(t.endAt,ow(t),r)));var n,r}function fw(e){return function(t,n){for(var r=!1,i=0,o=ow(e);i<o.length;i++){var a=o[i],s=function(e,t,n){var r=e.field.isKeyField()?Xb.comparator(t.key,n.key):function(e,n){var r=t.data.field(e);return e=n.data.field(e),null!==r&&null!==e?n_(r,e):gb()}(e.field,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return gb()}}(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function dw(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$b(t)?"-0":t}}function pw(e){return{integerValue:""+e}}function vw(e,t){return Yb(t)?pw(t):dw(e,t)}function gw(e,t){return e instanceof Pw?a_(e=t)||e&&"doubleValue"in e?t:{integerValue:0}:null}var yw,mw,bw=($i(Ew,mw=Q=function(){this._=void 0}),Ew),_w=($i(ww,yw=Q),ww);function ww(e){var t=this;return(t=yw.call(this)||this).elements=e,t}function Ew(){return null!==mw&&mw.apply(this,arguments)||this}function Tw(e,t){for(var n=Aw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n.some((function(t){return e_(t,e)}))||n.push(e)}(i[r]);return{arrayValue:{values:n}}}var Iw,Sw=($i(Cw,Iw=Q),Cw);function Cw(e){var t=this;return(t=Iw.call(this)||this).elements=e,t}function kw(e,t){for(var n=Aw(t),r=0,i=e.elements;r<i.length;r++)!function(e){n=n.filter((function(t){return!e_(t,e)}))}(i[r]);return{arrayValue:{values:n}}}var Ow,Pw=($i(xw,Ow=Q),xw);function xw(e,t){var n=this;return(n=Ow.call(this)||this).R=e,n.A=t,n}function Nw(e){return Kb(e.integerValue||e.doubleValue)}function Aw(e){return s_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Rw(e,t){this.version=e,this.transformResults=t}var Dw=function(e,t){this.field=e,this.transform=t},jw=(Lw.none=function(){return new Lw},Lw.exists=function(e){return new Lw(void 0,e)},Lw.updateTime=function(e){return new Lw(e)},Object.defineProperty(Lw.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),Lw.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},Lw);function Lw(e,t){this.updateTime=e,this.exists=t}function Mw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}function Fw(e,t,n){var r,i,o,a;e instanceof zw?(i=t,o=n,Mw((r=e).precondition,i)&&(a=r.value.clone(),o=$w(r.fieldTransforms,o,i),a.setAll(o),i.convertToFoundDocument(qw(i),a).setHasLocalMutations())):e instanceof Kw?(o=t,i=n,Mw((a=e).precondition,o)&&(n=$w(a.fieldTransforms,i,o),(i=o.data).setAll(Gw(a)),i.setAll(n),o.convertToFoundDocument(qw(o),i).setHasLocalMutations())):(t=t,Mw(e.precondition,t)&&t.convertToNoDocument(Ib.min()))}function Uw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&wb(n,r,(function(e,t){return t=t,(e=e).field.isEqual(t.field)&&(e=e.transform,t=t.transform,e instanceof _w&&t instanceof _w||e instanceof Sw&&t instanceof Sw?wb(e.elements,t.elements,e_):e instanceof Pw&&t instanceof Pw?e_(e.A,t.A):e instanceof bw&&t instanceof bw)}))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}function qw(e){return e.isFoundDocument()?e.version:Ib.min()}var Vw,Bw,zw=($i(Hw,Bw=G=function(){}),Hw),Kw=($i(Ww,Vw=G),Ww);function Ww(e,t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=Vw.call(this)||this).key=e,o.data=t,o.fieldMask=n,o.precondition=r,o.fieldTransforms=i,o.type=1,o}function Hw(e,t,n,r){void 0===r&&(r=[]);var i=this;return(i=Bw.call(this)||this).key=e,i.value=t,i.precondition=n,i.fieldTransforms=r,i.type=0,i}function Gw(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){var r;n.isEmpty()||(r=e.data.field(n),t.set(n,r))})),t}function Qw(e,t,n){var r=new Map;yb(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,(o=a,a=s,s=n[i],o instanceof _w?Tw(o,a):o instanceof Sw?kw(o,a):s))}return r}function $w(e,t,n){for(var r,i=new Map,o=0,a=e;o<a.length;o++){var s=a[o],u=s.transform,c=n.data.field(s.field);i.set(s.field,(r=c,s=t,c=void 0,(u=u)instanceof bw?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}},r&&(c.fields.__previous_value__=r),{mapValue:c}):u instanceof _w?Tw(u,r):u instanceof Sw?kw(u,r):(r=Nw(u=gw(c=u,r))+Nw(c.A),a_(u)&&a_(c.A)?pw(r):dw(c.R,r))))}return i}function Yw(e){this.count=e}var Xw,Jw,Zw,eE=($i(rE,Zw=G),rE),tE=($i(nE,Jw=G),nE);function nE(e,t){var n=this;return(n=Jw.call(this)||this).key=e,n.precondition=t,n.type=3,n.fieldTransforms=[],n}function rE(e,t){var n=this;return(n=Zw.call(this)||this).key=e,n.precondition=t,n.type=2,n.fieldTransforms=[],n}function iE(e){switch(e){case sb.OK:return gb(),0;case sb.CANCELLED:case sb.UNKNOWN:case sb.DEADLINE_EXCEEDED:case sb.RESOURCE_EXHAUSTED:case sb.INTERNAL:case sb.UNAVAILABLE:case sb.UNAUTHENTICATED:return;case sb.INVALID_ARGUMENT:case sb.NOT_FOUND:case sb.ALREADY_EXISTS:case sb.PERMISSION_DENIED:case sb.FAILED_PRECONDITION:case sb.ABORTED:case sb.OUT_OF_RANGE:case sb.UNIMPLEMENTED:case sb.DATA_LOSS:return 1;default:return gb(),0}}function oE(e){if(void 0===e)return db("GRPC error has no .code"),sb.UNKNOWN;switch(e){case Xw.OK:return sb.OK;case Xw.CANCELLED:return sb.CANCELLED;case Xw.UNKNOWN:return sb.UNKNOWN;case Xw.DEADLINE_EXCEEDED:return sb.DEADLINE_EXCEEDED;case Xw.RESOURCE_EXHAUSTED:return sb.RESOURCE_EXHAUSTED;case Xw.INTERNAL:return sb.INTERNAL;case Xw.UNAVAILABLE:return sb.UNAVAILABLE;case Xw.UNAUTHENTICATED:return sb.UNAUTHENTICATED;case Xw.INVALID_ARGUMENT:return sb.INVALID_ARGUMENT;case Xw.NOT_FOUND:return sb.NOT_FOUND;case Xw.ALREADY_EXISTS:return sb.ALREADY_EXISTS;case Xw.PERMISSION_DENIED:return sb.PERMISSION_DENIED;case Xw.FAILED_PRECONDITION:return sb.FAILED_PRECONDITION;case Xw.ABORTED:return sb.ABORTED;case Xw.OUT_OF_RANGE:return sb.OUT_OF_RANGE;case Xw.UNIMPLEMENTED:return sb.UNIMPLEMENTED;case Xw.DATA_LOSS:return sb.DATA_LOSS;default:return gb()}}(Q=Xw=Xw||{})[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";var aE=(hE.prototype.insert=function(e,t){return new hE(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,uE.BLACK,null,null))},hE.prototype.remove=function(e){return new hE(this.comparator,this.root.remove(e,this.comparator).copy(null,null,uE.BLACK,null,null))},hE.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:0<n&&(t=t.right)}return null},hE.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;n=r<0?n.left:(t+=n.left.size+1,n.right)}return-1},hE.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(hE.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),hE.prototype.minKey=function(){return this.root.minKey()},hE.prototype.maxKey=function(){return this.root.maxKey()},hE.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},hE.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},hE.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},hE.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},hE.prototype.getIterator=function(){return new sE(this.root,null,this.comparator,!1)},hE.prototype.getIteratorFrom=function(e){return new sE(this.root,e,this.comparator,!1)},hE.prototype.getReverseIterator=function(){return new sE(this.root,null,this.comparator,!0)},hE.prototype.getReverseIteratorFrom=function(e){return new sE(this.root,e,this.comparator,!0)},hE),sE=(lE.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},lE.prototype.hasNext=function(){return 0<this.nodeStack.length},lE.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},lE),uE=(cE.prototype.copy=function(e,t,n,r,i){return new cE(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},cE.prototype.isEmpty=function(){return!1},cE.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},cE.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},cE.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},cE.prototype.minKey=function(){return this.min().key},cE.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},cE.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},cE.prototype.removeMin=function(){if(this.left.isEmpty())return cE.EMPTY;var e=this;return(e=(e=e.left.isRed()||e.left.left.isRed()?e:e.moveRedLeft()).copy(null,null,null,e.left.removeMin(),null)).fixUp()},cE.prototype.remove=function(e,t){var n,r=this;if(t(e,r.key)<0)r=(r=r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()?r:r.moveRedLeft()).copy(null,null,null,r.left.remove(e,t),null);else{if(0===t(e,(r=(r=r.left.isRed()?r.rotateRight():r).right.isEmpty()||r.right.isRed()||r.right.left.isRed()?r:r.moveRedRight()).key)){if(r.right.isEmpty())return cE.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()},cE.prototype.isRed=function(){return this.color},cE.prototype.fixUp=function(){var e=this;return(e=(e=e.right.isRed()&&!e.left.isRed()?e.rotateLeft():e).left.isRed()&&e.left.left.isRed()?e.rotateRight():e).left.isRed()&&e.right.isRed()?e.colorFlip():e},cE.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()?(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip():e},cE.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()?(e=e.rotateRight()).colorFlip():e},cE.prototype.rotateLeft=function(){var e=this.copy(null,null,cE.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},cE.prototype.rotateRight=function(){var e=this.copy(null,null,cE.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},cE.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},cE.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},cE.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw gb();if(this.right.isRed())throw gb();var e=this.left.check();if(e!==this.right.check())throw gb();return e+(this.isRed()?0:1)},cE);function cE(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cE.RED,this.left=null!=r?r:cE.EMPTY,this.right=null!=i?i:cE.EMPTY,this.size=this.left.size+1+this.right.size}function lE(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}function hE(e,t){this.comparator=e,this.root=t||uE.EMPTY}function fE(){this.size=0}uE.EMPTY=null,uE.RED=!0,uE.BLACK=!1,uE.EMPTY=(Object.defineProperty(fE.prototype,"key",{get:function(){throw gb()},enumerable:!1,configurable:!0}),Object.defineProperty(fE.prototype,"value",{get:function(){throw gb()},enumerable:!1,configurable:!0}),Object.defineProperty(fE.prototype,"color",{get:function(){throw gb()},enumerable:!1,configurable:!0}),Object.defineProperty(fE.prototype,"left",{get:function(){throw gb()},enumerable:!1,configurable:!0}),Object.defineProperty(fE.prototype,"right",{get:function(){throw gb()},enumerable:!1,configurable:!0}),fE.prototype.copy=function(e,t,n,r,i){return this},fE.prototype.insert=function(e,t,n){return new uE(e,t)},fE.prototype.remove=function(e,t){return this},fE.prototype.isEmpty=function(){return!0},fE.prototype.inorderTraversal=function(e){return!1},fE.prototype.reverseTraversal=function(e){return!1},fE.prototype.minKey=function(){return null},fE.prototype.maxKey=function(){return null},fE.prototype.isRed=function(){return!1},fE.prototype.checkMaxDepth=function(){return!0},fE.prototype.check=function(){return 0},new fE);var dE=(yE.prototype.has=function(e){return null!==this.data.get(e)},yE.prototype.first=function(){return this.data.minKey()},yE.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(yE.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),yE.prototype.indexOf=function(e){return this.data.indexOf(e)},yE.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},yE.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(0<=this.comparator(r.key,e[1]))return;t(r.key)}},yE.prototype.forEachWhile=function(e,t){for(var n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},yE.prototype.firstAfterOrEqual=function(e){return(e=this.data.getIteratorFrom(e)).hasNext()?e.getNext().key:null},yE.prototype.getIterator=function(){return new pE(this.data.getIterator())},yE.prototype.getIteratorFrom=function(e){return new pE(this.data.getIteratorFrom(e))},yE.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},yE.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},yE.prototype.isEmpty=function(){return this.data.isEmpty()},yE.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},yE.prototype.isEqual=function(e){if(!(e instanceof yE))return!1;if(this.size!==e.size)return!1;for(var t=this.data.getIterator(),n=e.data.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(r,i))return!1}return!0},yE.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},yE.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},yE.prototype.copy=function(e){var t=new yE(this.comparator);return t.data=e,t},yE),pE=(gE.prototype.getNext=function(){return this.iter.getNext().key},gE.prototype.hasNext=function(){return this.iter.hasNext()},gE),vE=new aE(Xb.comparator);function gE(e){this.iter=e}function yE(e){this.comparator=e,this.data=new aE(this.comparator)}var mE=new aE(Xb.comparator),bE=new aE(Xb.comparator),_E=new dE(Xb.comparator);function wE(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=_E,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var EE=new dE(_b),TE=(RE.createSynthesizedRemoteEventForCurrentChange=function(e,t){var n=new Map;return n.set(e,IE.createSynthesizedTargetChangeForCurrentChange(e,t)),new RE(Ib.min(),n,EE,vE,wE())},RE),IE=(AE.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new AE(Lb.EMPTY_BYTE_STRING,t,wE(),wE(),wE())},AE),SE=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},CE=function(e,t){this.targetId=e,this.V=t},kE=function(e,t,n,r){void 0===n&&(n=Lb.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},OE=(Object.defineProperty(NE.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(NE.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(NE.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(NE.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),NE.prototype.O=function(e){0<e.approximateByteSize()&&(this.F=!0,this.C=e)},NE.prototype.M=function(){var e=wE(),t=wE(),n=wE();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:gb()}})),new IE(this.C,this.N,e,t,n)},NE.prototype.L=function(){this.F=!1,this.D=jE()},NE.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},NE.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},NE.prototype.U=function(){this.S+=1},NE.prototype.K=function(){--this.S},NE.prototype.j=function(){this.F=!0,this.N=!0},NE),PE=(xE.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},xE.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:gb()}}))},xE.prototype.forEachTarget=function(e,t){var n=this;0<e.targetIds.length?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},xE.prototype.rt=function(e){var t=e.targetId,n=e.V.count;(e=this.ot(t))&&(__(e=e.target)?0===n?(e=new Xb(e.path),this.tt(t,e,p_.newNoDocument(e,Ib.min()))):yb(1===n):this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t)))},xE.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);o&&(r.current&&__(o.target)&&(o=new Xb(o.target.path),null!==t.H.get(o)||t.at(i,o)||t.tt(i,o,p_.newNoDocument(o,e))),r.$&&(n.set(i,r.M()),r.L()))}));var r=wE();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){return!(e=t.ot(e))||2===e.purpose||(i=!1)})),i&&(r=r.add(e))}));var i=new TE(e,n,this.Y,this.H,r);return this.H=vE,this.J=DE(),this.Y=new dE(_b),i},xE.prototype.Z=function(e,t){var n;this.st(e)&&(n=this.at(e,t.key)?2:0,this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e)))},xE.prototype.tt=function(e,t,n){var r;this.st(e)&&(r=this.nt(e),this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n)))},xE.prototype.removeTarget=function(e){this.G.delete(e)},xE.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},xE.prototype.U=function(e){this.nt(e).U()},xE.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new OE,this.G.set(e,t)),t},xE.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new dE(_b),this.J=this.J.insert(e,t)),t},xE.prototype.st=function(e){var t=null!==this.ot(e);return t||fb("WatchChangeAggregator","Detected inactive target",e),t},xE.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},xE.prototype.it=function(e){var t=this;this.G.set(e,new OE),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},xE.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},xE);function xE(e){this.W=e,this.G=new Map,this.H=vE,this.J=DE(),this.Y=new dE(_b)}function NE(){this.S=0,this.D=jE(),this.C=Lb.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}function AE(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}function RE(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}function DE(){return new aE(Xb.comparator)}function jE(){return new aE(Xb.comparator)}var LE={asc:"ASCENDING",desc:"DESCENDING"},ME={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FE=function(e,t){this.databaseId=e,this.I=t};function UE(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function qE(e,t){return e.I?t.toBase64():t.toUint8Array()}function VE(e){return yb(!!e),Ib.fromTimestamp((e=zb(e),new Tb(e.seconds,e.nanos)))}function BE(e,t){return new Ab(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function zE(e){return yb(cT(e=Ab.fromString(e))),e}function KE(e,t){return BE(e.databaseId,t.path)}function WE(e,t){if((t=zE(t)).get(1)!==e.databaseId.projectId)throw new ub(sb.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+e.databaseId.projectId);if(t.get(3)!==e.databaseId.database)throw new ub(sb.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+e.databaseId.database);return new Xb($E(t))}function HE(e,t){return BE(e.databaseId,t)}function GE(e){return 4===(e=zE(e)).length?Ab.emptyPath():$E(e)}function QE(e){return new Ab(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function $E(e){return yb(4<e.length&&"documents"===e.get(4)),e.popFirst(5)}function YE(e,t,n){return{name:KE(e,t),fields:n.value.mapValue.fields}}function XE(e,t,n){var r=WE(e,t.name);return e=VE(t.updateTime),t=new f_({mapValue:{fields:t.fields}}),t=p_.newFoundDocument(r,e,t),n&&t.setHasCommittedMutations(),n?t.setHasCommittedMutations():t}function JE(e,t){var n,r,i;if(t instanceof zw)n={update:YE(e,t.key,t.value)};else if(t instanceof eE)n={delete:KE(e,t.key)};else if(t instanceof Kw)n={update:YE(e,t.key,t.data),updateMask:(r=t.fieldMask,i=[],r.fields.forEach((function(e){return i.push(e.canonicalString())})),{fieldPaths:i})};else{if(!(t instanceof tE))return gb();n={verify:KE(e,t.key)}}return 0<t.fieldTransforms.length&&(n.updateTransforms=t.fieldTransforms.map((function(e){var t=e.transform;if(t instanceof bw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(t instanceof _w)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:t.elements}};if(t instanceof Sw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:t.elements}};if(t instanceof Pw)return{fieldPath:e.field.canonicalString(),increment:t.A};throw gb()}))),t.precondition.isNone||(n.currentDocument=void 0!==(t=t.precondition).updateTime?{updateTime:UE(e,t.updateTime.toTimestamp())}:void 0!==t.exists?{exists:t.exists}:gb()),n}function ZE(e,t){var n=t.currentDocument?void 0!==(a=t.currentDocument).updateTime?jw.updateTime(VE(a.updateTime)):void 0!==a.exists?jw.exists(a.exists):jw.none():jw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n,r=null;return"setToServerValue"in t?(yb("REQUEST_TIME"===t.setToServerValue),r=new bw):"appendMissingElements"in t?(n=t.appendMissingElements.values||[],r=new _w(n)):"removeAllFromArray"in t?(n=t.removeAllFromArray.values||[],r=new Sw(n)):"increment"in t?r=new Pw(e,t.increment):gb(),t=Db.fromServerFormat(t.fieldPath),new Dw(t,r)}(e,t)})):[];if(t.update){t.update.name;var i=WE(e,t.update.name),o=new f_({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=(a=t.updateMask.fieldPaths||[],new jb(a.map((function(e){return Db.fromServerFormat(e)}))));return new Kw(i,o,a,n,r)}return new zw(i,o,n,r)}return t.delete?(r=WE(e,t.delete),new eE(r,n)):t.verify?(t=WE(e,t.verify),new tE(t,n)):gb()}function eT(e,t){return{documents:[HE(e,t.path)]}}function tT(e,t){var n={structuredQuery:{}},r=t.path;return null!==t.collectionGroup?(n.parent=HE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=HE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),r=function(e){if(0!==e.length)return e=e.map((function(e){if("=="===e.op){if(c_(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NAN"}};if(u_(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(c_(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NOT_NAN"}};if(u_(e.value))return{unaryFilter:{field:oT(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oT(e.field),op:(t=e.op,ME[t]),value:e.value}};var t})),1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(t.filters),r&&(n.structuredQuery.where=r),r=function(e){if(0!==e.length)return e.map((function(e){return{field:oT((e=e).field),direction:(e=e.dir,LE[e])}}))}(t.orderBy),r&&(n.structuredQuery.orderBy=r),r=t.limit,null!==(r=e.I||Qb(r)?r:{value:r})&&(n.structuredQuery.limit=r),t.startAt&&(n.structuredQuery.startAt=rT(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rT(t.endAt)),n}function nT(e){var t=GE(e.parent),n=e.structuredQuery,r=null;0<(a=n.from?n.from.length:0)&&(yb(1===a),(s=n.from[0]).allDescendants?r=s.collectionId:t=t.child(s.collectionId));var i=[];n.where&&(i=function e(t){return t?void 0!==t.unaryFilter?[uT(t)]:void 0!==t.fieldFilter?[sT(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):gb():[]}(n.where));var o=[],a=(e=null,null),s=null;return J_(t,r,o=n.orderBy?n.orderBy.map((function(e){return new Q_(aT((t=e).field),function(){switch(t.direction){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}());var t})):o,i,e=n.limit?Qb(i="object"==typeof(i=n.limit)?i.value:i)?null:i:e,"F",a=n.startAt?iT(n.startAt):a,s=n.endAt?iT(n.endAt):s)}function rT(e){return{before:e.before,values:e.position}}function iT(e){var t=!!e.before;return e=e.values||[],new B_(e,t)}function oT(e){return{fieldPath:e.canonicalString()}}function aT(e){return Db.fromServerFormat(e.fieldPath)}function sT(e){return E_.create(aT(e.fieldFilter.field),function(){switch(e.fieldFilter.op){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gb()}}(),e.fieldFilter.value)}function uT(e){switch(e.unaryFilter.op){case"IS_NAN":var t=aT(e.unaryFilter.field);return E_.create(t,"==",{doubleValue:NaN});case"IS_NULL":return t=aT(e.unaryFilter.field),E_.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var n=aT(e.unaryFilter.field);return E_.create(n,"!=",{doubleValue:NaN});case"IS_NOT_NULL":return n=aT(e.unaryFilter.field),E_.create(n,"!=",{nullValue:"NULL_VALUE"});default:return gb()}}function cT(e){return 4<=e.length&&"projects"===e.get(0)&&"databases"===e.get(2)}function lT(e){for(var t="",n=0;n<e.length;n++)0<t.length&&(t=hT(t)),t=function(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}(e.get(n),t);return hT(t)}function hT(e){return e+"\x01\x01"}function fT(e){var t=e.length;if(yb(2<=t),2===t)return yb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ab.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||n<a)&&gb(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:gb()}o=a+2}return new Ab(r)}function dT(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}var pT=function(e,t){this.seconds=e,this.nanoseconds=t};function vT(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}function gT(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}dT.store="owner",dT.key="owner",vT.store="mutationQueues",vT.keyPath="userId",gT.store="mutations",gT.keyPath="batchId",gT.userMutationsIndex="userMutationsIndex",gT.userMutationsKeyPath=["userId","batchId"];var yT=(mT.prefixForUser=function(e){return[e]},mT.prefixForPath=function(e,t){return[e,lT(t)]},mT.key=function(e,t,n){return[e,lT(t),n]},mT);function mT(){}function bT(e,t){this.path=e,this.readTime=t}function _T(e,t){this.path=e,this.version=t}yT.store="documentMutations",yT.PLACEHOLDER=new yT;var wT=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};function ET(e){this.byteSize=e}function TT(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a}wT.store="remoteDocuments",wT.readTimeIndex="readTimeIndex",wT.readTimeIndexPath="readTime",wT.collectionReadTimeIndex="collectionReadTimeIndex",wT.collectionReadTimeIndexPath=["parentPath","readTime"],ET.store="remoteDocumentGlobal",ET.key="remoteDocumentGlobalKey",TT.store="targets",TT.keyPath="targetId",TT.queryTargetsIndexName="queryTargetsIndex",TT.queryTargetsKeyPath=["canonicalId","targetId"];var IT=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};function ST(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}function CT(e,t){this.collectionId=e,this.parent=t}function kT(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}function OT(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}function PT(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}IT.store="targetDocuments",IT.keyPath=["targetId","path"],IT.documentTargetsIndex="documentTargetsIndex",IT.documentTargetsKeyPath=["path","targetId"],ST.key="targetGlobalKey",ST.store="targetGlobal",CT.store="collectionParents",CT.keyPath=["collectionId","parent"],kT.store="clientMetadata",kT.keyPath="clientId",OT.store="bundles",OT.keyPath="bundleId",PT.store="namedQueries",PT.keyPath="name";var xT,NT=to(to([],to(to([],to(to([],to(to([],[vT.store,gT.store,yT.store,wT.store,TT.store,dT.store,ST.store,IT.store]),[kT.store])),[ET.store])),[CT.store])),[OT.store,PT.store]),AT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",RT=(KT.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},KT.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},G=KT,function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}),DT=(zT.prototype.catch=function(e){return this.next(void 0,e)},zT.prototype.next=function(e,t){var n=this;return this.callbackAttached&&gb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new zT((function(r,i){n.nextCallback=function(t){n.wrapSuccess(e,t).next(r,i)},n.catchCallback=function(e){n.wrapFailure(t,e).next(r,i)}}))},zT.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},zT.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof zT?t:zT.resolve(t)}catch(e){return zT.reject(e)}},zT.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):zT.resolve(t)},zT.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction((function(){return e(t)})):zT.reject(t)},zT.resolve=function(e){return new zT((function(t,n){t(e)}))},zT.reject=function(e){return new zT((function(t,n){n(e)}))},zT.waitFor=function(e){return new zT((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(e){return n(e)}))})),o=!0,i===r&&t()}))},zT.or=function(e){for(var t=zT.resolve(!1),n=0,r=e;n<r.length;n++)!function(e){t=t.next((function(t){return t?zT.resolve(t):e()}))}(r[n]);return t},zT.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},zT),jT=(BT.open=function(e,t,n,r){try{return new BT(t,e.transaction(r,n))}catch(e){throw new FT(t,e)}},Object.defineProperty(BT.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),BT.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(fb("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},BT.prototype.store=function(e){return e=this.transaction.objectStore(e),new HT(e)},BT),LT=(VT.delete=function(e){return fb("SimpleDb","Removing database:",e),QT(window.indexedDB.deleteDatabase(e)).toPromise()},VT.yt=function(){if("undefined"==typeof indexedDB)return!1;if(VT.gt())return!0;var e=po(),t=0<(n=VT._t(e))&&n<10,n=0<(n=VT.Et(e))&&n<4.5;return!(0<e.indexOf("MSIE ")||0<e.indexOf("Trident/")||0<e.indexOf("Edge/")||t||n)},VT.gt=function(){var e;return"undefined"!=typeof n&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"/smsapp",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Tt)},VT.It=function(e,t){return e.store(t)},VT._t=function(e){return e=(e=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i))?e[1].split("_").slice(0,2).join("."):"-1",Number(e)},VT.Et=function(e){return e=(e=e.match(/Android ([\d.]+)/i))?e[1].split(".").slice(0,2).join("."):"-1",Number(e)},VT.prototype.At=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(fb("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){e=e.target.result,t(e)},i.onblocked=function(){r(new FT(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){"VersionError"===(t=t.target.error).name?r(new ub(sb.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new FT(e,t))},i.onupgradeneeded=function(e){fb("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){fb("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},VT.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},VT.prototype.runTransaction=function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,u;return Ji(this,(function(c){switch(c.label){case 0:++o,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,a.At(e)];case 2:return a.db=c.sent(),t=jT.open(a.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),DT.reject(e)})).toPromise(),u={},s.catch((function(){})),[4,t.dt];case 3:return[2,(u.value=(c.sent(),s),u)];case 4:return s=c.sent(),u="FirebaseError"!==s.name&&o<3,fb("SimpleDb","Transaction failed with error:",s.message,"Retrying:",u),a.close(),u?[3,5]:[2,{value:Promise.reject(s)}];case 5:return[2]}}))},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(s=u.sent()))return[2,s.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},VT.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},VT),MT=(Object.defineProperty(qT.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(qT.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(qT.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),qT.prototype.done=function(){this.Vt=!0},qT.prototype.Ct=function(e){this.St=e},qT.prototype.delete=function(){return QT(this.Pt.delete())},qT),FT=($i(UT,xT=ub),UT);function UT(e,t){var n=this;return(n=xT.call(this,sb.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+t)||this).name="IndexedDbTransactionError",n}function qT(e){this.Pt=e,this.Vt=!1,this.St=null}function VT(e,t,n){this.name=e,this.version=t,this.wt=n,12.2===VT._t(po())&&db("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}function BT(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new RT,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new FT(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){t=YT(t.target.error),n.ft.reject(new FT(e,t))}}function zT(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}function KT(){this.onCommittedListeners=[]}function WT(e){return"IndexedDbTransactionError"===e.name}var HT=(GT.prototype.put=function(e,t){return QT(e=void 0!==t?(fb("SimpleDb","PUT",this.store.name,e,t),this.store.put(t,e)):(fb("SimpleDb","PUT",this.store.name,"<auto-key>",e),this.store.put(e)))},GT.prototype.add=function(e){return fb("SimpleDb","ADD",this.store.name,e,e),QT(this.store.add(e))},GT.prototype.get=function(e){var t=this;return QT(this.store.get(e)).next((function(n){return fb("SimpleDb","GET",t.store.name,e,n=void 0===n?null:n),n}))},GT.prototype.delete=function(e){return fb("SimpleDb","DELETE",this.store.name,e),QT(this.store.delete(e))},GT.prototype.count=function(){return fb("SimpleDb","COUNT",this.store.name),QT(this.store.count())},GT.prototype.Nt=function(e,t){t=this.cursor(this.options(e,t));var n=[];return this.xt(t,(function(e,t){n.push(t)})).next((function(){return n}))},GT.prototype.Ft=function(e,t){return fb("SimpleDb","DELETE ALL",this.store.name),(t=this.options(e,t)).kt=!1,t=this.cursor(t),this.xt(t,(function(e,t,n){return n.delete()}))},GT.prototype.$t=function(e,t){t?n=e:(n={},t=e);var n=this.cursor(n);return this.xt(n,t)},GT.prototype.Ot=function(e){var t=this.cursor({});return new DT((function(n,r){t.onerror=function(e){e=YT(e.target.error),r(e)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},GT.prototype.xt=function(e,t){var n=[];return new DT((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i,o=e.target.result;o?(i=new MT(o),(e=t(o.primaryKey,o.value,i))instanceof DT&&(e=e.catch((function(e){return i.done(),DT.reject(e)})),n.push(e)),i.isDone?r():null===i.Dt?o.continue():o.continue(i.Dt)):r()}})).next((function(){return DT.waitFor(n)}))},GT.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},GT.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},GT);function GT(e){this.store=e}function QT(e){return new DT((function(t,n){e.onsuccess=function(e){e=e.target.result,t(e)},e.onerror=function(e){e=YT(e.target.error),n(e)}}))}var $T=!1;function YT(e){var t=LT._t(po());if(12.2<=t&&t<13&&(t="An internal error was encountered in the Indexed Database server",0<=e.message.indexOf(t))){var n=new ub("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return $T||($T=!0,setTimeout((function(){throw n}),0)),n}return e}var XT,JT=($i(ZT,XT=G),ZT);function ZT(e,t){var n=this;return(n=XT.call(this)||this).Mt=e,n.currentSequenceNumber=t,n}function eI(e,t){return LT.It(e.Mt,t)}var tI=(sI.prototype.applyToRemoteDocument=function(e,t){for(var n,r,i,o,a,s,u=t.mutationResults,c=0;c<this.mutations.length;c++){var l=this.mutations[c];l.key.isEqual(e.key)&&(n=l,r=e,i=u[c],l=s=a=o=void 0,n instanceof zw?(a=r,s=i,l=(o=n).value.clone(),o=Qw(o.fieldTransforms,a,s.transformResults),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()):n instanceof Kw?(o=r,a=i,Mw((s=n).precondition,o)?(l=Qw(s.fieldTransforms,o,a.transformResults),(n=o.data).setAll(Gw(s)),n.setAll(l),o.convertToFoundDocument(a.version,n).setHasCommittedMutations()):o.convertToUnknownDocument(a.version)):r.convertToNoDocument(i.version).setHasCommittedMutations())}},sI.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(r=n[t]).key.isEqual(e.key)&&Fw(r,e,this.localWriteTime);for(var r,i=0,o=this.mutations;i<o.length;i++)(r=o[i]).key.isEqual(e.key)&&Fw(r,e,this.localWriteTime)},sI.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key);n=r,t.applyToLocalView(n),r.isValidDocument()||n.convertToNoDocument(Ib.min())}))},sI.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wE())},sI.prototype.isEqual=function(e){return this.batchId===e.batchId&&wb(this.mutations,e.mutations,Uw)&&wb(this.baseMutations,e.baseMutations,Uw)},sI),nI=(aI.from=function(e,t,n){yb(e.mutations.length===n.length);for(var r=bE,i=e.mutations,o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new aI(e,t,n,r)},aI),rI=(oI.prototype.withSequenceNumber=function(e){return new oI(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},oI.prototype.withResumeToken=function(e,t){return new oI(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},oI.prototype.withLastLimboFreeSnapshotVersion=function(e){return new oI(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},oI),iI=function(e){this.Lt=e};function oI(e,t,n,r,i,o,a){void 0===i&&(i=Ib.min()),void 0===o&&(o=Ib.min()),void 0===a&&(a=Lb.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}function aI(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}function sI(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}function uI(e,t){if(t.document)return XE(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Xb.fromSegments(t.noDocument.path),r=dI(t.noDocument.readTime);return n=p_.newNoDocument(n,r),t.hasCommittedMutations?n.setHasCommittedMutations():n}return t.unknownDocument?(n=Xb.fromSegments(t.unknownDocument.path),r=dI(t.unknownDocument.version),p_.newUnknownDocument(n,r)):gb()}function cI(e,t,n){var r=lI(n);if(n=t.key.path.popLast().toArray(),t.isFoundDocument()){var i={name:KE(o=e.Lt,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:UE(o,a.version.toTimestamp())},o=t.hasCommittedMutations;return new wT(null,null,i,o,r,n)}if(t.isNoDocument()){var a=t.key.path.toArray();return i=fI(t.version),o=t.hasCommittedMutations,new wT(null,new bT(a,i),null,o,r,n)}return t.isUnknownDocument()?(o=t.key.path.toArray(),t=fI(t.version),new wT(new _T(o,t),null,null,!0,r,n)):gb()}function lI(e){return[(e=e.toTimestamp()).seconds,e.nanoseconds]}function hI(e){return e=new Tb(e[0],e[1]),Ib.fromTimestamp(e)}function fI(e){return e=e.toTimestamp(),new pT(e.seconds,e.nanoseconds)}function dI(e){return e=new Tb(e.seconds,e.nanoseconds),Ib.fromTimestamp(e)}function pI(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ZE(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i,o=t.mutations[r];r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform&&(i=t.mutations[r+1],o.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r)}var a=t.mutations.map((function(t){return ZE(e.Lt,t)})),s=Tb.fromMillis(t.localWriteTimeMs);return new tI(t.batchId,s,n,a)}function vI(e){var t=dI(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?dI(e.lastLimboFreeSnapshotVersion):Ib.min(),r=void 0!==e.query.documents?(yb(1===(r=e.query).documents.length),aw(Z_(GE(r.documents[0])))):aw(nT(e.query));return new rI(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Lb.fromBase64String(e.resumeToken))}function gI(e,t){var n=fI(t.snapshotVersion),r=fI(t.lastLimboFreeSnapshotVersion),i=(__(t.target)?eT:tT)(e.Lt,t.target);return e=t.resumeToken.toBase64(),new TT(t.targetId,m_(t.target),n,e,t.sequenceNumber,r,i)}function yI(e){var t=nT({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?sw(t,t.limit,"L"):t}var mI=(bI.prototype.getBundleMetadata=function(e,t){return _I(e).get(t).next((function(e){if(e)return{id:(e=e).bundleId,createTime:dI(e.createTime),version:e.version}}))},bI.prototype.saveBundleMetadata=function(e,t){return _I(e).put({bundleId:(t=t).id,createTime:fI(VE(t.createTime)),version:t.version})},bI.prototype.getNamedQuery=function(e,t){return wI(e).get(t).next((function(e){if(e)return{name:(e=e).name,query:yI(e.bundledQuery),readTime:dI(e.readTime)}}))},bI.prototype.saveNamedQuery=function(e,t){return wI(e).put({name:(t=t).name,readTime:fI(VE(t.readTime)),bundledQuery:t.bundledQuery})},bI);function bI(){}function _I(e){return eI(e,OT.store)}function wI(e){return eI(e,PT.store)}var EI=(kI.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),DT.resolve()},kI.prototype.getCollectionParents=function(e,t){return DT.resolve(this.Bt.getEntries(t))},kI),TI=(CI.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new dE(Ab.comparator);return e=!r.has(n),this.index[t]=r.add(n),e},CI.prototype.has=function(e){var t=e.lastSegment();return e=e.popLast(),(t=this.index[t])&&t.has(e)},CI.prototype.getEntries=function(e){return(this.index[e]||new dE(Ab.comparator)).toArray()},CI),II=(SI.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(this.qt.has(t))return DT.resolve();var r=t.lastSegment(),i=t.popLast();return e.addOnCommittedListener((function(){n.qt.add(t)})),i={collectionId:r,parent:lT(i)},OI(e).put(i)},SI.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Eb(t),""],!1,!0);return OI(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(fT(o.parent))}return n}))},SI);function SI(){this.qt=new TI}function CI(){this.index={}}function kI(){this.Bt=new TI}function OI(e){return eI(e,CT.store)}var PI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xI=(NI.withCacheSize=function(e){return new NI(e,NI.DEFAULT_COLLECTION_PERCENTILE,NI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},NI);function NI(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}function AI(e,t,n){var r=e.store(gT.store),i=e.store(yT.store),o=[],a=(e=IDBKeyRange.only(n.batchId),0);e=r.$t({range:e},(function(e,t,n){return a++,n.delete()})),o.push(e.next((function(){yb(1===a)})));for(var s=[],u=0,c=n.mutations;u<c.length;u++){var l=c[u],h=yT.key(t,l.key.path,n.batchId);o.push(i.delete(h)),s.push(l.key)}return DT.waitFor(o).next((function(){return s}))}function RI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw gb();t=e.noDocument}return JSON.stringify(t).length}xI.DEFAULT_COLLECTION_PERCENTILE=10,xI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xI.DEFAULT=new xI(41943040,xI.DEFAULT_COLLECTION_PERCENTILE,xI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xI.DISABLED=new xI(-1,0,0);var DI=(jI.Qt=function(e,t,n,r){return yb(""!==e.uid),new jI(e.isAuthenticated()?e.uid:"",t,n,r)},jI.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return MI(e).$t({index:gT.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},jI.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=FI(e),a=MI(e);return a.add({}).next((function(s){yb("number"==typeof s);for(var u,c,l,h,f,d=new tI(s,t,n,r),p=(u=i.R,c=i.userId,h=(l=d).baseMutations.map((function(e){return JE(u.Lt,e)})),f=l.mutations.map((function(e){return JE(u.Lt,e)})),new gT(c,l.batchId,l.localWriteTime.toMillis(),h,f)),v=[],g=new dE((function(e,t){return _b(e.canonicalString(),t.canonicalString())})),y=0,m=r;y<m.length;y++){var b=m[y],_=yT.key(i.userId,b.key.path,s);g=g.add(b.key.path.popLast()),v.push(a.put(p)),v.push(o.put(_,yT.PLACEHOLDER))}return g.forEach((function(t){v.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=d.keys()})),DT.waitFor(v).next((function(){return d}))}))},jI.prototype.lookupMutationBatch=function(e,t){var n=this;return MI(e).get(t).next((function(e){return e?(yb(e.userId===n.userId),pI(n.R,e)):null}))},jI.prototype.jt=function(e,t){var n=this;return this.Kt[t]?DT.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){return e?(e=e.keys(),n.Kt[t]=e):null}))},jI.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=(t=IDBKeyRange.lowerBound([this.userId,r]),null);return MI(e).$t({index:gT.userMutationsIndex,range:t},(function(e,t,o){t.userId===n.userId&&(yb(t.batchId>=r),i=pI(n.R,t)),o.done()})).next((function(){return i}))},jI.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return MI(e).$t({index:gT.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},jI.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return MI(e).Nt(gT.userMutationsIndex,n).next((function(e){return e.map((function(e){return pI(t.R,e)}))}))},jI.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=yT.prefixForPath(this.userId,t.path),i=(r=IDBKeyRange.lowerBound(r),[]);return FI(e).$t({range:r},(function(r,o,a){var s=r[0],u=r[1];if(r=r[2],u=fT(u),s===n.userId&&t.path.isEqual(u))return MI(e).get(r).next((function(e){if(!e)throw gb();yb(e.userId===n.userId),i.push(pI(n.R,e))}));a.done()})).next((function(){return i}))},jI.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new dE(_b),i=[];return t.forEach((function(t){var o=yT.prefixForPath(n.userId,t.path);o=IDBKeyRange.lowerBound(o),o=FI(e).$t({range:o},(function(e,i,o){var a=e[0],s=e[1];e=e[2],s=fT(s),a===n.userId&&t.path.isEqual(s)?r=r.add(e):o.done()})),i.push(o)})),DT.waitFor(i).next((function(){return n.Wt(e,r)}))},jI.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=(t=yT.prefixForPath(this.userId,r),t=IDBKeyRange.lowerBound(t),new dE(_b));return FI(e).$t({range:t},(function(e,t,a){var s=e[0],u=e[1];e=e[2],u=fT(u),s===n.userId&&r.isPrefixOf(u)?u.length===i&&(o=o.add(e)):a.done()})).next((function(){return n.Wt(e,o)}))},jI.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(MI(e).get(t).next((function(e){if(null===e)throw gb();yb(e.userId===n.userId),r.push(pI(n.R,e))})))})),DT.waitFor(i).next((function(){return r}))},jI.prototype.removeMutationBatch=function(e,t){var n=this;return AI(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),DT.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},jI.prototype.Gt=function(e){delete this.Kt[e]},jI.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return DT.resolve();n=IDBKeyRange.lowerBound(yT.prefixForUser(t.userId));var r=[];return FI(e).$t({range:n},(function(e,n,i){e[0]===t.userId?(e=fT(e[1]),r.push(e)):i.done()})).next((function(){yb(0===r.length)}))}))},jI.prototype.containsKey=function(e,t){return LI(e,this.userId,t)},jI.prototype.zt=function(e){var t=this;return UI(e).get(this.userId).next((function(e){return e||new vT(t.userId,-1,"")}))},jI);function jI(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}function LI(e,t,n){var r=(n=yT.prefixForPath(t,n.path))[1],i=(n=IDBKeyRange.lowerBound(n),!1);return FI(e).$t({range:n,kt:!0},(function(e,n,o){var a=e[0],s=e[1];e[2],a===t&&s===r&&(i=!0),o.done()})).next((function(){return i}))}function MI(e){return eI(e,gT.store)}function FI(e){return eI(e,yT.store)}function UI(e){return eI(e,vT.store)}var qI=(zI.prototype.next=function(){return this.Ht+=2,this.Ht},zI.Jt=function(){return new zI(0)},zI.Yt=function(){return new zI(-1)},zI),VI=(BI.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new qI(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},BI.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Ib.fromTimestamp(new Tb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},BI.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},BI.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},BI.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},BI.prototype.updateTargetData=function(e,t){return this.te(e,t)},BI.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return KI(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return yb(0<t.targetCount),--t.targetCount,n.Zt(e,t)}))},BI.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return KI(e).$t((function(a,s){(s=vI(s)).sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return DT.waitFor(o)})).next((function(){return i}))},BI.prototype.forEachTarget=function(e,t){return KI(e).$t((function(e,n){n=vI(n),t(n)}))},BI.prototype.Xt=function(e){return WI(e).get(ST.key).next((function(e){return yb(null!==e),e}))},BI.prototype.Zt=function(e,t){return WI(e).put(ST.key,t)},BI.prototype.te=function(e,t){return KI(e).put(gI(this.R,t))},BI.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},BI.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},BI.prototype.getTargetData=function(e,t){var n=m_(t),r=(n=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),null);return KI(e).$t({range:n,index:TT.queryTargetsIndexName},(function(e,n,i){n=vI(n),b_(t,n.target)&&(r=n,i.done())})).next((function(){return r}))},BI.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=HI(e);return t.forEach((function(t){var a=lT(t.path);i.push(o.put(new IT(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),DT.waitFor(i)},BI.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=HI(e);return DT.forEach(t,(function(t){var o=lT(t.path);return DT.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},BI.prototype.removeMatchingKeysForTargetId=function(e,t){return e=HI(e),t=IDBKeyRange.bound([t],[t+1],!1,!0),e.delete(t)},BI.prototype.getMatchingKeysForTargetId=function(e,t){t=IDBKeyRange.bound([t],[t+1],!1,!0),e=HI(e);var n=wE();return e.$t({range:t,kt:!0},(function(e,t,r){e=fT(e[1]),e=new Xb(e),n=n.add(e)})).next((function(){return n}))},BI.prototype.containsKey=function(e,t){t=lT(t.path),t=IDBKeyRange.bound([t],[Eb(t)],!1,!0);var n=0;return HI(e).$t({index:IT.documentTargetsIndex,kt:!0,range:t},(function(e,t,r){var i=e[0];e[1],0!==i&&(n++,r.done())})).next((function(){return 0<n}))},BI.prototype.lt=function(e,t){return KI(e).get(t).next((function(e){return e?vI(e):null}))},BI);function BI(e,t){this.referenceDelegate=e,this.R=t}function zI(e){this.Ht=e}function KI(e){return eI(e,TT.store)}function WI(e){return eI(e,ST.store)}function HI(e){return eI(e,IT.store)}function GI(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){if(e.code!==sb.FAILED_PRECONDITION||e.message!==AT)throw e;return fb("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function QI(e,t){var n=e[0],r=e[1];return e=t[0],t=t[1],0===(e=_b(n,e))?_b(r,t):e}var $I=(nS.prototype.ie=function(){return++this.se},nS.prototype.re=function(e){var t=[e,this.ie()];this.buffer.size<this.ne?this.buffer=this.buffer.add(t):QI(t,e=this.buffer.last())<0&&(this.buffer=this.buffer.delete(e).add(t))},Object.defineProperty(nS.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),nS),YI=(tS.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},tS.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(tS.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),tS.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;fb("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return WT(t=n.sent())?(fb("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,GI(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},tS),XI=(eS.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},eS.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return DT.resolve(ib.o);var r=new $I(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},eS.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},eS.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},eS.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; disabled"),DT.resolve(PI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fb("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),PI):n.fe(e,t)}))},eS.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},eS.prototype.fe=function(e,t){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return r=t>c.params.maximumSequenceNumbersToCollect?(fb("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),c.params.maximumSequenceNumbersToCollect):t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return u=Date.now(),hb()<=ua.DEBUG&&fb("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),DT.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},eS),JI=(ZI.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},ZI.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},ZI.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},ZI.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},ZI.prototype.addReference=function(e,t,n){return rS(e,n)},ZI.prototype.removeReference=function(e,t,n){return rS(e,n)},ZI.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},ZI.prototype.markPotentiallyOrphaned=rS,ZI.prototype._e=function(e,t){return r=t,i=!1,UI(n=e).Ot((function(e){return LI(n,e,r).next((function(e){return e&&(i=!0),DT.resolve(!e)}))})).next((function(){return i}));var n,r,i},ZI.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){s<=t&&(s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),HI(e).delete([0,lT(a.path)])}))})),i.push(s))})).next((function(){return DT.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},ZI.prototype.removeTarget=function(e,t){return t=t.withSequenceNumber(e.currentSequenceNumber),this.db.getTargetCache().updateTargetData(e,t)},ZI.prototype.updateLimboDocument=rS,ZI.prototype.we=function(e,t){e=HI(e);var n,r=ib.o;return e.$t({index:IT.documentTargetsIndex},(function(e,i){var o=e[0];e[1],e=i.path,i=i.sequenceNumber,0===o?(r!==ib.o&&t(new Xb(fT(n)),r),r=i,n=e):r=ib.o})).next((function(){r!==ib.o&&t(new Xb(fT(n)),r)}))},ZI.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},ZI);function ZI(e,t){this.db=e,this.garbageCollector=new XI(this,t)}function eS(e,t){this.ae=e,this.params=t}function tS(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}function nS(e){this.ne=e,this.buffer=new dE(QI),this.se=0}function rS(e,t){return HI(e).put((e=e.currentSequenceNumber,new IT(0,lT(t.path),e)))}var iS,oS=(hS.prototype.get=function(e){var t=this.mapKeyFn(e);if(void 0!==(t=this.inner[t]))for(var n=0,r=t;n<r.length;n++){var i=(o=r[n])[0],o=o[1];if(this.equalsFn(i,e))return o}},hS.prototype.has=function(e){return void 0!==this.get(e)},hS.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},hS.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},hS.prototype.forEach=function(e){Ob(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=(a=i[r])[0],a=a[1];e(o,a)}}))},hS.prototype.isEmpty=function(){return Pb(this.inner)},hS),aS=(lS.prototype.getReadTime=function(e){return(e=this.changes.get(e))?e.readTime:Ib.min()},lS.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},lS.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:p_.newInvalidDocument(e),readTime:t})},lS.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?DT.resolve(n.document):this.getFromCache(e,t)},lS.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},lS.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},lS.prototype.assertNotApplied=function(){},Q=lS,cS.prototype.addEntry=function(e,t,n){return dS(e).put(pS(t),n)},cS.prototype.removeEntry=function(e,t){return e=dS(e),t=pS(t),e.delete(t)},cS.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},cS.prototype.getEntry=function(e,t){var n=this;return dS(e).get(pS(t)).next((function(e){return n.ye(t,e)}))},cS.prototype.ge=function(e,t){var n=this;return dS(e).get(pS(t)).next((function(e){return{document:n.ye(t,e),size:RI(e)}}))},cS.prototype.getEntries=function(e,t){var n=this,r=vE;return this.pe(e,t,(function(e,t){t=n.ye(e,t),r=r.insert(e,t)})).next((function(){return r}))},cS.prototype.Ee=function(e,t){var n=this,r=vE,i=new aE(Xb.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,RI(t))})).next((function(){return{documents:r,Te:i}}))},cS.prototype.pe=function(e,t,n){if(t.isEmpty())return DT.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return dS(e).$t({range:r},(function(e,t,r){for(var a=Xb.fromSegments(e);o&&Xb.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},cS.prototype.getDocumentsMatchingQuery=function(e,t,n){var r,i=this,o=vE,a=t.path.length+1,s={};return n.isEqual(Ib.min())?(r=t.path.toArray(),s.range=IDBKeyRange.lowerBound(r)):(r=t.path.toArray(),n=lI(n),s.range=IDBKeyRange.lowerBound([r,n],!0),s.index=wT.collectionReadTimeIndex),dS(e).$t(s,(function(e,n,r){e.length===a&&(n=uI(i.R,n),t.path.isPrefixOf(n.key.path)?hw(t,n)&&(o=o.insert(n.key,n)):r.done())})).next((function(){return o}))},cS.prototype.newChangeBuffer=function(e){return new sS(this,!!e&&e.trackRemovals)},cS.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},cS.prototype.getMetadata=function(e){return fS(e).get(ET.key).next((function(e){return yb(!!e),e}))},cS.prototype.me=function(e,t){return fS(e).put(ET.key,t)},cS.prototype.ye=function(e,t){return!t||(t=uI(this.R,t)).isNoDocument()&&t.version.isEqual(Ib.min())?p_.newInvalidDocument(e):t},cS),sS=($i(uS,iS=Q),uS.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new dE((function(e,t){return _b(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s,u=t.Ae.get(o);a.document.isValidDocument()?(s=cI(t.Ie.R,a.document,t.getReadTime(o)),i=i.add(o.path.popLast()),a=RI(s),r+=a-u,n.push(t.Ie.addEntry(e,o,s))):(r-=u,t.trackRemovals?(u=cI(t.Ie.R,p_.newNoDocument(o,Ib.min()),t.getReadTime(o)),n.push(t.Ie.addEntry(e,o,u))):n.push(t.Ie.removeEntry(e,o)))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),DT.waitFor(n)},uS.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},uS.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},uS);function uS(e,t){var n=this;return(n=iS.call(this)||this).Ie=e,n.trackRemovals=t,n.Ae=new oS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),n}function cS(e,t){this.R=e,this.Ut=t}function lS(){this.changes=new oS((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}function hS(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}function fS(e){return eI(e,ET.store)}function dS(e){return eI(e,wT.store)}function pS(e){return e.path.toArray()}var vS=(gS.prototype.Rt=function(e,t,n,r){var i=this;yb(n<r&&0<=n&&r<=11);var o=new jT("createOrUpgrade",t);n<1&&1<=r&&(e.createObjectStore(dT.store),(a=e).createObjectStore(vT.store,{keyPath:vT.keyPath}),a.createObjectStore(gT.store,{keyPath:gT.keyPath,autoIncrement:!0}).createIndex(gT.userMutationsIndex,gT.userMutationsKeyPath,{unique:!0}),a.createObjectStore(yT.store),yS(e),e.createObjectStore(wT.store));var a,s=DT.resolve();return n<3&&3<=r&&(0!==n&&((a=e).deleteObjectStore(IT.store),a.deleteObjectStore(TT.store),a.deleteObjectStore(ST.store),yS(e)),s=s.next((function(){return e=o.store(ST.store),t=new ST(0,0,Ib.min().toTimestamp(),0),e.put(ST.key,t);var e,t}))),n<4&&4<=r&&(s=(s=0!==n?s.next((function(){return t=e,(n=o).store(gT.store).Nt().next((function(e){t.deleteObjectStore(gT.store),t.createObjectStore(gT.store,{keyPath:gT.keyPath,autoIncrement:!0}).createIndex(gT.userMutationsIndex,gT.userMutationsKeyPath,{unique:!0});var r=n.store(gT.store);return e=e.map((function(e){return r.put(e)})),DT.waitFor(e)}));var t,n})):s).next((function(){e.createObjectStore(kT.store,{keyPath:kT.keyPath})}))),n<5&&5<=r&&(s=s.next((function(){return i.Re(o)}))),n<6&&6<=r&&(s=s.next((function(){return e.createObjectStore(ET.store),i.be(o)}))),n<7&&7<=r&&(s=s.next((function(){return i.ve(o)}))),n<8&&8<=r&&(s=s.next((function(){return i.Pe(e,o)}))),n<9&&9<=r&&(s=s.next((function(){var n;(n=e).objectStoreNames.contains("remoteDocumentChanges")&&n.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(wT.store)).createIndex(wT.readTimeIndex,wT.readTimeIndexPath,{unique:!1}),n.createIndex(wT.collectionReadTimeIndex,wT.collectionReadTimeIndexPath,{unique:!1})}))),n<10&&10<=r&&(s=s.next((function(){return i.Ve(o)}))),n<11&&11<=r?s.next((function(){e.createObjectStore(OT.store,{keyPath:OT.keyPath}),e.createObjectStore(PT.store,{keyPath:PT.keyPath})})):s},gS.prototype.be=function(e){var t=0;return e.store(wT.store).$t((function(e,n){t+=RI(n)})).next((function(){var n=new ET(t);return e.store(ET.store).put(ET.key,n)}))},gS.prototype.Re=function(e){var t=this,n=e.store(vT.store),r=e.store(gT.store);return n.Nt().next((function(n){return DT.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(gT.userMutationsIndex,i).next((function(r){return DT.forEach(r,(function(r){return yb(r.userId===n.userId),r=pI(t.R,r),AI(e,n.userId,r).next((function(){}))}))}))}))}))},gS.prototype.ve=function(e){var t=e.store(IT.store),n=e.store(wT.store);return e.store(ST.store).get(ST.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Ab(n);n=[0,lT(o)],r.push(t.get(n).next((function(n){return n?DT.resolve():t.put(new IT(0,lT(o),e.highestListenSequenceNumber))})))})).next((function(){return DT.waitFor(r)}))}))},gS.prototype.Pe=function(e,t){function n(e){if(i.add(e)){var t=e.lastSegment();return e=e.popLast(),r.put({collectionId:t,parent:lT(e)})}}e.createObjectStore(CT.store,{keyPath:CT.keyPath});var r=t.store(CT.store),i=new TI;return t.store(wT.store).$t({kt:!0},(function(e,t){return n((e=new Ab(e)).popLast())})).next((function(){return t.store(yT.store).$t({kt:!0},(function(e,t){e[0];var r=e[1];return e[2],n((r=fT(r)).popLast())}))}))},gS.prototype.Ve=function(e){var t=this,n=e.store(TT.store);return n.$t((function(e,r){return r=vI(r),r=gI(t.R,r),n.put(r)}))},gS);function gS(e){this.R=e}function yS(e){e.createObjectStore(IT.store,{keyPath:IT.keyPath}).createIndex(IT.documentTargetsIndex,IT.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(TT.store,{keyPath:TT.keyPath}).createIndex(TT.queryTargetsIndexName,TT.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ST.store)}var mS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",bS=(_S.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ub(sb.FAILED_PRECONDITION,mS);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new ib(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},_S.prototype.He=function(e){var t=this;return this.Me=function(n){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},_S.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},_S.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return Xi(t,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},_S.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ES(t).put(new kT(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(WT(t))return fb("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fb("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},_S.prototype.Je=function(e){var t=this;return wS(e).get(dT.key).next((function(e){return DT.resolve(t.tn(e))}))},_S.prototype.en=function(e){return ES(e).delete(this.clientId)},_S.prototype.nn=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i=this;return Ji(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=eI(e,kT.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return DT.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},_S.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},_S.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},_S.prototype.Ye=function(e){var t=this;return this.Ce?DT.resolve(!0):wS(e).get(dT.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ub(sb.FAILED_PRECONDITION,mS);return!1}}return!(!t.networkEnabled||!t.inForeground)||ES(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground;if(e=t.networkEnabled===e.networkEnabled,n||r&&e)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fb("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},_S.prototype.shutdown=function(){return Xi(this,void 0,void 0,(function(){var e=this;return Ji(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[dT.store,kT.store],(function(t){var n=new JT(t,ib.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},_S.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},_S.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ES(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(_S.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),_S.prototype.getMutationQueue=function(e){return DI.Qt(e,this.R,this.Ut,this.referenceDelegate)},_S.prototype.getTargetCache=function(){return this.qe},_S.prototype.getRemoteDocumentCache=function(){return this.Ue},_S.prototype.getIndexManager=function(){return this.Ut},_S.prototype.getBundleCache=function(){return this.Ke},_S.prototype.runTransaction=function(e,t,n){var r,i=this;return fb("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",NT,(function(o){return r=new JT(o,i.Ne?i.Ne.next():ib.o),"readwrite-primary"===t?i.Je(r).next((function(e){return!!e||i.Ye(r)})).next((function(t){if(!t)throw db("Failed to obtain primary lease for action '"+e+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new ub(sb.FAILED_PRECONDITION,AT);return n(r)})).next((function(e){return i.Ze(r).next((function(){return e}))})):i.dn(r).next((function(){return n(r)}))})).then((function(e){return r.raiseOnCommittedEvent(),e}))},_S.prototype.dn=function(e){var t=this;return wS(e).get(dT.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ub(sb.FAILED_PRECONDITION,mS)}))},_S.prototype.Ze=function(e){var t=new dT(this.clientId,this.allowTabSynchronization,Date.now());return wS(e).put(dT.key,t)},_S.yt=function(){return LT.yt()},_S.prototype.Xe=function(e){var t=this,n=wS(e);return n.get(dT.key).next((function(e){return t.tn(e)?(fb("IndexedDbPersistence","Releasing primary lease."),n.delete(dT.key)):DT.resolve()}))},_S.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||n<e&&(db("Detected an update time that is in the future: "+e+" > "+n),1))},_S.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},_S.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},_S.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},_S.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},_S.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return fb("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return db("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},_S.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){db("Failed to set zombie client id.",e)}},_S.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},_S.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},_S);function _S(e,t,n,r,i,o,a,s,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Se=i,this.window=o,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!_S.yt())throw new ub(sb.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JI(this,r),this.Le=t+"main",this.R=new iI(s),this.Be=new LT(this.Le,11,new vS(this.R)),this.qe=new VI(this.referenceDelegate,this.R),this.Ut=new II,this.Ue=(t=this.R,s=this.Ut,new aS(t,s)),this.Ke=new mI,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&db("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}function wS(e){return eI(e,dT.store)}function ES(e){return eI(e,kT.store)}function TS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}function IS(e,t){this.progress=e,this.wn=t}var SS=(AS.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},AS.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},AS.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},AS.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},AS.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},AS.prototype.getDocumentsMatchingQuery=function(e,t,n){return r=t,Xb.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.Tn(e,t.path):iw(t)?this.In(e,t,n):this.An(e,t,n);var r},AS.prototype.Tn=function(e,t){return this.mn(e,new Xb(t)).next((function(e){var t=mE;return e.isFoundDocument()?t.insert(e.key,e):t}))},AS.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=mE;return this.Ut.getCollectionParents(e,i).next((function(a){return DT.forEach(a,(function(a){var s=(s=t,a=a.child(i),new X_(a,null,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},AS.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=p_.newInvalidDocument(c),r=r.insert(c,l)),Fw(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){hw(t,n)||(r=r.remove(e))})),r}))},AS.prototype.Rn=function(e,t,n){for(var r=wE(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Kw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},AS),CS=(NS.Pn=function(e,t){for(var n=wE(),r=wE(),i=0,o=t.docChanges;i<o.length;i++){var a=o[i];switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}}return new NS(e,t.fromCache,n,r)},NS),kS=(xS.prototype.Vn=function(e){this.Sn=e},xS.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(Ib.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(ew(t)||tw(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(hb()<=ua.DEBUG&&fb("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),lw(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},xS.prototype.Cn=function(e,t){var n=new dE(fw(e));return t.forEach((function(t,r){hw(e,r)&&(n=n.add(r))})),n},xS.prototype.Nn=function(e,t,n,r){return n.size!==t.size||!!(t="F"===e?t.last():t.first())&&(t.hasPendingWrites||0<t.version.compareTo(r))},xS.prototype.Dn=function(e,t){return hb()<=ua.DEBUG&&fb("QueryEngine","Using full collection scan to execute query:",lw(t)),this.Sn.getDocumentsMatchingQuery(e,t,Ib.min())},xS),OS=(PS.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},PS);function PS(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new aE(_b),this.kn=new oS(m_,b_),this.$n=Ib.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new SS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}function xS(){}function NS(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}function AS(e,t,n){this.Ue=e,this._n=t,this.Ut=n}function RS(e,t,n,r){return new OS(e,t,n,r)}function DS(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return r=(n=e)._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new SS(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=wE(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function jS(e,t){var n=e;return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r,i,o,a,s,u,c,l=t.batch.keys(),h=n.On.newChangeBuffer({trackRemovals:!0});return r=n,i=e,a=h,u=(s=(o=t).batch).keys(),c=DT.resolve(),u.forEach((function(e){c=c.next((function(){return a.getEntry(i,e)})).next((function(t){var n=o.docVersions.get(e);yb(null!==n),t.version.compareTo(n)<0&&(s.applyToRemoteDocument(t,o),t.isValidDocument()&&a.addEntry(t,o.commitVersion))}))})),c.next((function(){return r._n.removeMutationBatch(i,s)})).next((function(){return h.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,l)}))}))}function LS(e){var t=e;return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function MS(e,t){var n=e,r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var s,u,c,l=i.get(o);l&&(a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)}))),0<(c=t.resumeToken).approximateByteSize()&&(s=l.withResumeToken(c,r).withSequenceNumber(e.currentSequenceNumber),i=i.insert(o,s),u=l,c=t,yb(0<(l=s).resumeToken.approximateByteSize()),(0===u.resumeToken.approximateByteSize()||3e8<=l.snapshotVersion.toMicroseconds()-u.snapshotVersion.toMicroseconds()||0<c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size)&&a.push(n.qe.updateTargetData(e,s))))}));var s,u=vE;return t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(FS(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),r.isEqual(Ib.min())||(s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)})),a.push(s)),DT.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function FS(e,t,n,r,i){var o=wE();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=vE;return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Ib.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||0<a.version.compareTo(s.version)||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):fb("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function US(e,t){var n=e;return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,DT.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new rI(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||0<e.snapshotVersion.compareTo(r.snapshotVersion))&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function qS(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:i=(r=e).Fn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!WT(o=a.sent()))throw o;return fb("LocalStore","Failed to update sequence numbers for target "+t+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function VS(e,t,n){var r=e,i=Ib.min(),o=wE();return r.persistence.runTransaction("Execute query","readonly",(function(e){return a=r,s=e,u=aw(t),(void 0!==(a=(c=a).kn.get(u))?DT.resolve(c.Fn.get(a)):c.qe.getTargetData(s,u)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Ib.min(),n?o:wE())})).next((function(e){return{documents:e,Bn:o}}));var a,s,u,c}))}function BS(e,t){var n=e,r=n.qe;return(e=n.Fn.get(t))?Promise.resolve(e.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function zS(e){var t=e;return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return n=t.On,r=e,e=t.$n,i=n,o=vE,a=lI(e),e=dS(r),r=IDBKeyRange.lowerBound(a,!0),e.$t({index:wT.readTimeIndex,range:r},(function(e,t){var n=uI(i.R,t);o=o.insert(n.key,n),a=t.readTime})).next((function(){return{wn:o,readTime:hI(a)}}));var n,r,i,o,a})).then((function(e){var n=e.wn;return e=e.readTime,t.$n=e,n}))}function KS(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return e=dS(e),t=Ib.min(),e.$t({index:wT.readTimeIndex,reverse:!0},(function(e,n,r){n.readTime&&(t=hI(n.readTime)),r.done()})).next((function(){return t}));var t})).then((function(e){t.$n=e}))]}))}))}var WS,HS,GS=(pC.prototype.getBundleMetadata=function(e,t){return DT.resolve(this.Qn.get(t))},pC.prototype.saveBundleMetadata=function(e,t){return this.Qn.set(t.id,{id:t.id,version:t.version,createTime:VE(t.createTime)}),DT.resolve()},pC.prototype.getNamedQuery=function(e,t){return DT.resolve(this.jn.get(t))},pC.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(t=t).name,query:yI(t.bundledQuery),readTime:VE(t.readTime)}),DT.resolve()},pC),QS=(dC.prototype.isEmpty=function(){return this.Wn.isEmpty()},dC.prototype.addReference=function(e,t){t=new $S(e,t),this.Wn=this.Wn.add(t),this.zn=this.zn.add(t)},dC.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},dC.prototype.removeReference=function(e,t){this.Yn(new $S(e,t))},dC.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},dC.prototype.Zn=function(e){var t=this,n=new Xb(new Ab([])),r=new $S(n,e),i=(e=new $S(n,e+1),[]);return this.zn.forEachInRange([r,e],(function(e){t.Yn(e),i.push(e.key)})),i},dC.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},dC.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},dC.prototype.es=function(e){var t=new Xb(new Ab([])),n=new $S(t,e),r=(e=new $S(t,e+1),wE());return this.zn.forEachInRange([n,e],(function(e){r=r.add(e.key)})),r},dC.prototype.containsKey=function(e){var t=new $S(e,0);return null!==(t=this.Wn.firstAfterOrEqual(t))&&e.isEqual(t.key)},dC),$S=(fC.Gn=function(e,t){return Xb.comparator(e.key,t.key)||_b(e.ns,t.ns)},fC.Hn=function(e,t){return _b(e.ns,t.ns)||Xb.comparator(e.key,t.key)},fC),YS=(hC.prototype.checkEmpty=function(e){return DT.resolve(0===this._n.length)},hC.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,0<this._n.length&&this._n[this._n.length-1],n=new tI(i,t,n,r),this._n.push(n);for(var o=0,a=r;o<a.length;o++){var s=a[o];this.rs=this.rs.add(new $S(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return DT.resolve(n)},hC.prototype.lookupMutationBatch=function(e,t){return DT.resolve(this.os(t))},hC.prototype.getNextMutationBatchAfterBatchId=function(e,t){return t=(t=this.cs(t+1))<0?0:t,DT.resolve(this._n.length>t?this._n[t]:null)},hC.prototype.getHighestUnacknowledgedBatchId=function(){return DT.resolve(0===this._n.length?-1:this.ss-1)},hC.prototype.getAllMutationBatches=function(e){return DT.resolve(this._n.slice())},hC.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new $S(t,0),i=(t=new $S(t,Number.POSITIVE_INFINITY),[]);return this.rs.forEachInRange([r,t],(function(e){e=n.os(e.ns),i.push(e)})),DT.resolve(i)},hC.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new dE(_b);return t.forEach((function(e){var t=new $S(e,0);e=new $S(e,Number.POSITIVE_INFINITY),n.rs.forEachInRange([t,e],(function(e){r=r.add(e.ns)}))})),DT.resolve(this.us(r))},hC.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1;t=n,Xb.isDocumentKey(t)||(t=t.child("")),t=new $S(new Xb(t),0);var i=new dE(_b);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(i=i.add(e.ns)),!0)}),t),DT.resolve(this.us(i))},hC.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){null!==(e=t.os(e))&&n.push(e)})),n},hC.prototype.removeMutationBatch=function(e,t){var n=this;yb(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return DT.forEach(t.mutations,(function(i){var o=new $S(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},hC.prototype.Gt=function(e){},hC.prototype.containsKey=function(e,t){var n=new $S(t,0);return n=this.rs.firstAfterOrEqual(n),DT.resolve(t.isEqual(n&&n.key))},hC.prototype.performConsistencyCheck=function(e){return this._n.length,DT.resolve()},hC.prototype.hs=function(e,t){return this.cs(e)},hC.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},hC.prototype.os=function(e){return(e=this.cs(e))<0||e>=this._n.length?null:this._n[e]},hC),XS=(lC.prototype.addEntry=function(e,t,n){var r=t.key,i=(o=this.docs.get(r))?o.size:0,o=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},lC.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},lC.prototype.getEntry=function(e,t){var n=this.docs.get(t);return DT.resolve(n?n.document.clone():p_.newInvalidDocument(t))},lC.prototype.getEntries=function(e,t){var n=this,r=vE;return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():p_.newInvalidDocument(e))})),DT.resolve(r)},lC.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=vE,i=new Xb(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=(s=o.getNext()).key,s=(u=s.value).document,u=u.readTime;if(!t.path.isPrefixOf(a.path))break;u.compareTo(n)<=0||hw(t,s)&&(r=r.insert(s.key,s.clone()))}return DT.resolve(r)},lC.prototype.fs=function(e,t){return DT.forEach(this.docs,(function(e){return t(e)}))},lC.prototype.newChangeBuffer=function(e){return new JS(this)},lC.prototype.getSize=function(e){return DT.resolve(this.size)},lC),JS=($i(cC,HS=Q),cC.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),DT.waitFor(n)},cC.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},cC.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},cC),ZS=(uC.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),DT.resolve()},uC.prototype.getLastRemoteSnapshotVersion=function(e){return DT.resolve(this.lastRemoteSnapshotVersion)},uC.prototype.getHighestSequenceNumber=function(e){return DT.resolve(this.ws)},uC.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),DT.resolve(this.highestTargetId)},uC.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),DT.resolve()},uC.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new qI(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},uC.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,DT.resolve()},uC.prototype.updateTargetData=function(e,t){return this.te(t),DT.resolve()},uC.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),--this.targetCount,DT.resolve()},uC.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),DT.waitFor(o).next((function(){return i}))},uC.prototype.getTargetCount=function(e){return DT.resolve(this.targetCount)},uC.prototype.getTargetData=function(e,t){return t=this.ds.get(t)||null,DT.resolve(t)},uC.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),DT.resolve()},uC.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),DT.waitFor(i)},uC.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),DT.resolve()},uC.prototype.getMatchingKeysForTargetId=function(e,t){return t=this._s.es(t),DT.resolve(t)},uC.prototype.containsKey=function(e,t){return DT.resolve(this._s.containsKey(t))},uC),eC=(sC.prototype.start=function(){return Promise.resolve()},sC.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(sC.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),sC.prototype.setDatabaseDeletedListener=function(){},sC.prototype.setNetworkEnabled=function(){},sC.prototype.getIndexManager=function(){return this.Ut},sC.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new YS(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},sC.prototype.getTargetCache=function(){return this.qe},sC.prototype.getRemoteDocumentCache=function(){return this.Ue},sC.prototype.getBundleCache=function(){return this.Ke},sC.prototype.runTransaction=function(e,t,n){var r=this;fb("MemoryPersistence","Starting transaction:",e);var i=new tC(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},sC.prototype.Is=function(e,t){return DT.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},sC),tC=($i(aC,WS=G),aC),nC=(oC.bs=function(e){return new oC(e)},Object.defineProperty(oC.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw gb()},enumerable:!1,configurable:!0}),oC.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),DT.resolve()},oC.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),DT.resolve()},oC.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),DT.resolve()},oC.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},oC.prototype.Es=function(){this.Rs=new Set},oC.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return DT.forEach(this.vs,(function(r){var i=Xb.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},oC.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},oC.prototype.ps=function(e){return 0},oC.prototype.Ps=function(e,t){var n=this;return DT.or([function(){return DT.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},oC),rC=(iC.prototype.isAuthenticated=function(){return null!=this.uid},iC.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},iC.prototype.isEqual=function(e){return e.uid===this.uid},iC);function iC(e){this.uid=e}function oC(e){this.persistence=e,this.As=new QS,this.Rs=null}function aC(e){var t=this;return(t=WS.call(this)||this).currentSequenceNumber=e,t}function sC(e,t){var n=this;this.gs={},this.Ne=new ib(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new ZS(this),this.Ut=new EI,this.Ue=(e=this.Ut,new XS(e,(function(e){return n.referenceDelegate.ps(e)}))),this.R=new iI(t),this.Ke=new GS(this.R)}function uC(e){this.persistence=e,this.ds=new oS(m_,b_),this.lastRemoteSnapshotVersion=Ib.min(),this.highestTargetId=0,this.ws=0,this._s=new QS,this.targetCount=0,this.ys=qI.Jt()}function cC(e){var t=this;return(t=HS.call(this)||this).Ie=e,t}function lC(e,t){this.Ut=e,this.ls=t,this.docs=new aE(Xb.comparator),this.size=0}function hC(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new dE($S.Gn)}function fC(e,t){this.key=e,this.ns=t}function dC(){this.Wn=new dE($S.Gn),this.zn=new dE($S.Hn)}function pC(e){this.R=e,this.Qn=new Map,this.jn=new Map}function vC(e,t){return"firestore_clients_"+e+"_"+t}function gC(e,t,n){return n="firestore_mutations_"+e+"_"+n,t.isAuthenticated()&&(n+="_"+t.uid),n}function yC(e,t){return"firestore_targets_"+e+"_"+t}rC.UNAUTHENTICATED=new rC(null),rC.GOOGLE_CREDENTIALS=new rC("google-credentials-uid"),rC.FIRST_PARTY=new rC("first-party-uid");var mC,bC=(BC.Vs=function(e,t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ub(i.error.code,i.error.message)),o?new BC(e,t,i.state,r):(db("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+n),null)},BC.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},BC),_C=(VC.Vs=function(e,t){var n,r=JSON.parse(t),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(n=new ub(r.error.code,r.error.message)),i?new VC(e,r.state,n):(db("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},VC.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},VC),wC=(qC.Vs=function(e,t){for(var n=JSON.parse(t),r="object"==typeof n&&n.activeTargetIds instanceof Array,i=EE,o=0;r&&o<n.activeTargetIds.length;++o)r=Yb(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new qC(e,i):(db("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},qC),EC=(UC.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new UC(t.clientId,t.onlineState):(db("SharedClientState","Failed to parse online state: "+e),null)},UC),TC=(FC.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},FC.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},FC.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},FC),IC=(MC.yt=function(e){return!(!e||!e.localStorage)},MC.prototype.start=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u,c,l=this;return Ji(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(o=h.sent(),e=0,t=o;e<t.length;e++)(n=t[e])!==this.Ns&&(r=this.getItem(vC(this.persistenceKey,n)))&&(i=wC.Vs(n,r))&&(this.ks=this.ks.insert(i.clientId,i));for(this.Qs(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),s=0,u=this.$s;s<u.length;s++)c=u[s],this.Fs(c);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},MC.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},MC.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},MC.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},MC.prototype.addPendingMutation=function(e){this.zs(e,"pending")},MC.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},MC.prototype.addLocalQueryTarget=function(e){var t,n="not-current";return this.isActiveQueryTarget(e)&&(!(t=this.storage.getItem(yC(this.persistenceKey,e)))||(t=_C.Vs(e,t))&&(n=t.state)),this.Js.Ds(e),this.Qs(),n},MC.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},MC.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},MC.prototype.clearQueryState=function(e){this.removeItem(yC(this.persistenceKey,e))},MC.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},MC.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},MC.prototype.setOnlineState=function(e){this.Xs(e)},MC.prototype.notifyBundleLoaded=function(){this.Zs()},MC.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},MC.prototype.getItem=function(e){var t=this.storage.getItem(e);return fb("SharedClientState","READ",e,t),t},MC.prototype.setItem=function(e,t){fb("SharedClientState","SET",e,t),this.storage.setItem(e,t)},MC.prototype.removeItem=function(e){fb("SharedClientState","REMOVE",e),this.storage.removeItem(e)},MC.prototype.Fs=function(e){var t=this,n=e;n.storageArea===this.storage&&(fb("SharedClientState","EVENT",n.key,n.newValue),n.key!==this.Os?this.Se.enqueueRetryable((function(){return Xi(t,void 0,void 0,(function(){var e,t,r,i;return Ji(this,(function(o){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(t=this.si(n.key,n.newValue)))return[2,this.ii(t)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(r=this.ri(n.key,n.newValue)))return[2,this.oi(r)]}else if(n.key===this.Us){if(null!==n.newValue&&(i=this.js(n.newValue)))return[2,this.Ws(i)]}else if(n.key===this.Ms)(i=function(e){var t=ib.o;if(null!=e)try{var n=JSON.parse(e);yb("number"==typeof n),t=n}catch(e){db("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==ib.o&&this.sequenceNumberHandler(i);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))})):db("Received WebStorage notification for local change. Another client might have garbage-collected our state"))},Object.defineProperty(MC.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),MC.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},MC.prototype.zs=function(e,t,n){n=new bC(this.currentUser,e,t,n),e=gC(this.persistenceKey,this.currentUser,e),this.setItem(e,n.Ss())},MC.prototype.Hs=function(e){e=gC(this.persistenceKey,this.currentUser,e),this.removeItem(e)},MC.prototype.Xs=function(e){e={clientId:this.Ns,onlineState:e},this.storage.setItem(this.Us,JSON.stringify(e))},MC.prototype.Ys=function(e,t,n){var r=yC(this.persistenceKey,e);n=new _C(e,t,n),this.setItem(r,n.Ss())},MC.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},MC.prototype.ti=function(e){return(e=this.Ls.exec(e))?e[1]:null},MC.prototype.ni=function(e,t){return e=this.ti(e),wC.Vs(e,t)},MC.prototype.si=function(e,t){var n=this.Bs.exec(e);return e=Number(n[1]),n=void 0!==n[2]?n[2]:null,bC.Vs(new rC(n),e,t)},MC.prototype.ri=function(e,t){return e=this.qs.exec(e),e=Number(e[1]),_C.Vs(e,t)},MC.prototype.js=function(e){return EC.Vs(e)},MC.prototype.ii=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(fb("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},MC.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},MC.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},MC.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},MC.prototype.Gs=function(e){var t=EE;return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},MC),SC=(LC.prototype.addPendingMutation=function(e){},LC.prototype.updateMutationState=function(e,t,n){},LC.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},LC.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},LC.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},LC.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},LC.prototype.clearQueryState=function(e){delete this.fi[e]},LC.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},LC.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},LC.prototype.start=function(){return this.li=new TC,Promise.resolve()},LC.prototype.handleUserChange=function(e,t,n){},LC.prototype.setOnlineState=function(e){},LC.prototype.shutdown=function(){},LC.prototype.writeSequenceNumber=function(e){},LC.prototype.notifyBundleLoaded=function(){},LC),CC=(jC.prototype.di=function(e){},jC.prototype.shutdown=function(){},jC),kC=(DC.prototype.di=function(e){this.gi.push(e)},DC.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},DC.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},DC.prototype._i=function(){fb("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},DC.prototype.yi=function(){fb("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},DC.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},DC),OC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},PC=(RC.prototype.Ii=function(e){this.Ai=e},RC.prototype.Ri=function(e){this.bi=e},RC.prototype.onMessage=function(e){this.vi=e},RC.prototype.close=function(){this.Ti()},RC.prototype.send=function(e){this.Ei(e)},RC.prototype.Pi=function(){this.Ai()},RC.prototype.Vi=function(e){this.bi(e)},RC.prototype.Si=function(e){this.vi(e)},RC),xC=(AC.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);return fb("RestConnection","Sending: ",i,n),t={},this.Fi(t,r),this.ki(e,i,t,n).then((function(e){return fb("RestConnection","Received: ",e),e}),(function(t){throw pb("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},AC.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},AC.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.7.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},AC.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+OC[e]},$i(NC,mC=AC),NC.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new rb;a.listenOnce(Xm.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case Ym.NO_ERROR:var t=a.getResponseJson();fb("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ym.TIMEOUT:fb("Connection",'RPC "'+e+'" timed out'),o(new ub(sb.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:var n,r,s=a.getStatus();fb("Connection",'RPC "'+e+'" failed with status:',s,"response text:",a.getResponseText()),0<s?(n=a.getResponseJson().error)&&n.status&&n.message?(u=n.status.toLowerCase().replace(/_/g,"-"),r=0<=Object.values(sb).indexOf(u)?u:sb.UNKNOWN,o(new ub(r,n.message))):o(new ub(sb.UNKNOWN,"Server responded with status "+a.getStatus())):o(new ub(sb.UNAVAILABLE,"Connection failed."));break;default:gb()}}finally{fb("Connection",'RPC "'+e+'" completed.')}var u}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},NC.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new Km,i=$m();e={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},this.useFetchStreams&&(e.xmlHttpFactory=new tb({})),this.Fi(e.initMessageHeaders,t),vo()||yo()||0<=po().indexOf("Electron/")||0<=(t=po()).indexOf("MSIE ")||0<=t.indexOf("Trident/")||0<=po().indexOf("MSAppHost/")||go()||(e.httpHeadersOverwriteParam="$httpHeaders"),fb("Connection","Creating WebChannel: "+(n=n.join("")),e);var o=r.createWebChannel(n,e),a=!1,s=!1,u=new PC({Ei:function(e){s?fb("Connection","Not sending because WebChannel is closed:",e):(a||(fb("Connection","Opening WebChannel transport."),o.open(),a=!0),fb("Connection","WebChannel sending:",e),o.send(e))},Ti:function(){return o.close()}});return e=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))},e(o,nb.EventType.OPEN,(function(){s||fb("Connection","WebChannel transport opened.")})),e(o,nb.EventType.CLOSE,(function(){s||(s=!0,fb("Connection","WebChannel transport closed"),u.Vi())})),e(o,nb.EventType.ERROR,(function(e){s||(s=!0,pb("Connection","WebChannel transport errored:",e),u.Vi(new ub(sb.UNAVAILABLE,"The operation could not be completed")))})),e(o,nb.EventType.MESSAGE,(function(e){var t,n,r,i;s||(yb(!!(t=e.data[0])),(n=t.error||(null===(i=t[0])||void 0===i?void 0:i.error))?(fb("Connection","WebChannel received error:",n),r=n.status,e=function(){var e=Xw[r];if(void 0!==e)return oE(e)}(),i=n.message,void 0===e&&(e=sb.INTERNAL,i="Unknown error status: "+r+" with message "+n.message),s=!0,u.Vi(new ub(e,i)),o.close()):(fb("Connection","WebChannel received:",t),u.Si(t)))})),e(i,Jm.STAT_EVENT,(function(e){e.stat===Zm?fb("Connection","Detected buffering proxy"):e.stat===eb&&fb("Connection","Detected no buffering proxy")})),setTimeout((function(){u.Pi()}),0),u},NC);function NC(e){var t=this;return(t=mC.call(this,e)||this).forceLongPolling=e.forceLongPolling,t.autoDetectLongPolling=e.autoDetectLongPolling,t.useFetchStreams=e.useFetchStreams,t}function AC(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}function RC(e){this.Ei=e.Ei,this.Ti=e.Ti}function DC(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}function jC(){}function LC(){this.li=new TC,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}function MC(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new aE(_b),this.started=!1,this.$s=[],n=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),this.storage=this.window.localStorage,this.currentUser=i,this.Os=vC(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new TC),this.Ls=new RegExp("^firestore_clients_"+n+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+n+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+n+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}function FC(){this.activeTargetIds=EE}function UC(e,t){this.clientId=e,this.onlineState=t}function qC(e,t){this.clientId=e,this.activeTargetIds=t}function VC(e,t,n){this.targetId=e,this.state=t,this.error=n}function BC(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}function zC(){return"undefined"!=typeof window?window:null}function KC(){return"undefined"!=typeof document?document:null}function WC(e){return new FE(e,!0)}function HC(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return Xi(o,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return vk(this)?(fb("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(4),[4,uk(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,sk(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new ek(n,r)}var GC,QC,$C,YC=(ak.prototype.reset=function(){this.qi=0},ak.prototype.Qi=function(){this.qi=this.Bi},ak.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);0<i&&fb("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},ak.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},ak.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},ak.prototype.Wi=function(){return(Math.random()-.5)*this.qi},ak),XC=(ok.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},ok.prototype.er=function(){return 2===this.state},ok.prototype.start=function(){3!==this.state?this.auth():this.nr()},ok.prototype.stop=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},ok.prototype.sr=function(){this.state=0,this.Zi.reset()},ok.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},ok.prototype.cr=function(e){this.ur(),this.stream.send(e)},ok.prototype.rr=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},ok.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},ok.prototype.close=function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===sb.RESOURCE_EXHAUSTED?(db(t.toString()),db("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===sb.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},ok.prototype.ar=function(){},ok.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new ub(sb.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},ok.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},ok.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return Xi(e,void 0,void 0,(function(){return Ji(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},ok.prototype.dr=function(e){return fb("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},ok.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(fb("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},$i(ik,$C=Q=ok),ik.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},ik.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){if("targetChange"in t){t.targetChange;var n="NO_CHANGE"===(o=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===o?1:"REMOVE"===o?2:"CURRENT"===o?3:"RESET"===o?4:gb(),r=t.targetChange.targetIds||[],i=(a=t.targetChange.resumeToken,e.I?(yb(void 0===a||"string"==typeof a),Lb.fromBase64String(a||"")):(yb(void 0===a||a instanceof Uint8Array),Lb.fromUint8Array(a||new Uint8Array))),o=(s=t.targetChange.cause)&&(u=void 0===(c=s).code?sb.UNKNOWN:oE(c.code),new ub(u,c.message||"")),a=new kE(n,r,i,o||null)}else if("documentChange"in t){t.documentChange,(n=t.documentChange).document,n.document.name,n.document.updateTime,r=WE(e,n.document.name),i=VE(n.document.updateTime);var s=new f_({mapValue:{fields:n.document.fields}}),u=(o=p_.newFoundDocument(r,i,s),n.targetIds||[]),c=n.removedTargetIds||[];a=new SE(u,c,o.key,o)}else if("documentDelete"in t)t.documentDelete,(n=t.documentDelete).document,r=WE(e,n.document),i=n.readTime?VE(n.readTime):Ib.min(),s=p_.newNoDocument(r,i),o=n.removedTargetIds||[],a=new SE([],o,s.key,s);else if("documentRemove"in t)t.documentRemove,(n=t.documentRemove).document,r=WE(e,n.document),i=n.removedTargetIds||[],a=new SE([],i,r,null);else{if(!("filter"in t))return gb();t.filter,(t=t.filter).targetId,r=new Yw(n=t.count||0),i=t.targetId,a=new CE(i,r)}return a}(this.R,e);return e=function(e){return"targetChange"in e?(e=e.targetChange).targetIds&&e.targetIds.length||!e.readTime?Ib.min():VE(e.readTime):Ib.min()}(e),this.listener._r(t,e)},ik.prototype.mr=function(e){var t,n,r,i,o={};o.database=QE(this.R),o.addTarget=(t=this.R,(r=__(r=(n=e).target)?{documents:eT(t,r)}:{query:tT(t,r)}).targetId=n.targetId,0<n.resumeToken.approximateByteSize()?r.resumeToken=qE(t,n.resumeToken):0<n.snapshotVersion.compareTo(Ib.min())&&(r.readTime=UE(t,n.snapshotVersion.toTimestamp())),r),this.R,i=e,(e=null==(e=function(){switch(i.purpose){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gb()}}())?null:{"goog-listen-tags":e})&&(o.labels=e),this.cr(o)},ik.prototype.yr=function(e){var t={};t.database=QE(this.R),t.removeTarget=e,this.cr(t)},ik),JC=($i(rk,QC=Q),Object.defineProperty(rk.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),rk.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,QC.prototype.start.call(this)},rk.prototype.ar=function(){this.gr&&this.Er([])},rk.prototype.wr=function(e){return this.Hi.Oi("Write",e)},rk.prototype.onMessage=function(e){if(yb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=(n=e.writeResults,r=e.commitTime,n&&0<n.length?(yb(void 0!==r),n.map((function(e){return n=r,(e=(t=e).updateTime?VE(t.updateTime):VE(n)).isEqual(Ib.min())&&(e=VE(n)),new Rw(e,t.transformResults||[]);var t,n}))):[]),n=VE(e.commitTime);return this.listener.Tr(n,t)}var r;return yb(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},rk.prototype.Ar=function(){var e={};e.database=QE(this.R),this.cr(e)},rk.prototype.Er=function(e){var t=this;e={streamToken:this.lastStreamToken,writes:e.map((function(e){return JE(t.R,e)}))},this.cr(e)},rk),ZC=($i(nk,GC=function(){}),nk.prototype.br=function(){if(this.Rr)throw new ub(sb.FAILED_PRECONDITION,"The client has already been terminated.")},nk.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ub(sb.UNKNOWN,e.toString())}))},nk.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===sb.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ub(sb.UNKNOWN,e.toString())}))},nk.prototype.terminate=function(){this.Rr=!0},nk),ek=(tk.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},tk.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,1<=this.vr&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},tk.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},tk.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},tk.prototype.Cr=function(e){e="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.",this.Vr?(db(e),this.Vr=!1):fb("OnlineStateTracker",e)},tk.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},tk);function tk(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}function nk(e,t,n){var r=this;return(r=GC.call(this)||this).credentials=e,r.Hi=t,r.R=n,r.Rr=!1,r}function rk(e,t,n,r,i){var o=this;return(o=QC.call(this,e,"write_stream_connection_backoff","write_stream_idle",t,n,i)||this).R=r,o.gr=!1,o}function ik(e,t,n,r,i){var o=this;return(o=$C.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",t,n,i)||this).R=r,o}function ok(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new YC(e,t)}function ak(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}function sk(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:if(!vk(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function uk(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function ck(e,t){e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),pk(e)?dk(e):Ik(e).er()&&hk(e,t))}function lk(e,t){var n=e;e=Ik(n),n.$r.delete(t),e.er()&&fk(n,t),0===n.$r.size&&(e.er()?e.ir():vk(n)&&n.Br.set("Unknown"))}function hk(e,t){e.qr.U(t.targetId),Ik(e).mr(t)}function fk(e,t){e.qr.U(t),Ik(e).yr(t)}function dk(e){e.qr=new PE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ik(e).start(),e.Br.Sr()}function pk(e){return vk(e)&&!Ik(e).tr()&&0<e.$r.size}function vk(e){return 0===e.Or.size}function gk(e){e.qr=void 0}function yk(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:if(e.Br.set("Online"),!(t instanceof kE&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),fb("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,mk(e,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof SE?e.qr.X(t):t instanceof CE?e.qr.rt(t):e.qr.et(t),n.isEqual(Ib.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,LS(e.localStore)];case 8:return i=o.sent(),0<=n.compareTo(i)?[4,(s=n,(u=(a=e).qr.ut(s)).targetChanges.forEach((function(e,t){var n;0<e.resumeToken.approximateByteSize()&&(n=a.$r.get(t))&&a.$r.set(t,n.withResumeToken(e.resumeToken,s))})),u.targetMismatches.forEach((function(e){var t=a.$r.get(e);t&&(a.$r.set(e,t.withResumeToken(Lb.EMPTY_BYTE_STRING,t.snapshotVersion)),fk(a,e),t=new rI(t.target,e,1,t.sequenceNumber),hk(a,t))})),a.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return fb("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,mk(e,i)];case 12:return o.sent(),[3,13];case 13:return[2]}var a,s,u}))}))}function mk(e,t,n){return Xi(this,void 0,void 0,(function(){var r=this;return Ji(this,(function(i){switch(i.label){case 0:if(!WT(t))throw t;return e.Or.add(1),[4,uk(e)];case 1:return i.sent(),e.Br.set("Offline"),n=n||function(){return LS(e.localStore)},e.asyncQueue.enqueueRetryable((function(){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return fb("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,sk(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function bk(e,t){return t().catch((function(n){return mk(e,n,t)}))}function _k(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i;return Ji(this,(function(o){switch(o.label){case 0:n=Sk(t=e),r=0<t.kr.length?t.kr[t.kr.length-1].batchId:-1,o.label=1;case 1:if(!(vk(t)&&t.kr.length<10))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(a=t.localStore,s=r,(u=a).persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===s&&(s=-1),u._n.getNextMutationBatchAfterBatchId(e,s)})))];case 3:return null===(i=o.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t),(e=Sk(e)).er()&&e.pr&&e.Er(t.mutations)}(t,i),[3,6]);case 4:return i=o.sent(),[4,mk(t,i)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return wk(t)&&Ek(t),[2]}var a,s,u}))}))}function wk(e){return vk(e)&&!Sk(e).tr()&&0<e.kr.length}function Ek(e){Sk(e).start()}function Tk(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=e,t?(n.Or.delete(2),[4,sk(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,uk(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ik(e){var t,n,r,i=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e.$r.forEach((function(t,n){hk(e,t)})),[2]}))}))}.bind(null,e),Ri:function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){return gk(e),pk(e)?(e.Br.Nr(t),dk(e)):e.Br.set("Unknown"),[2]}))}))}.bind(null,e),_r:yk.bind(null,e)},t.br(),new XC(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t?(e.Ur.sr(),pk(e)?dk(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),gk(e),n.label=3;case 3:return[2]}}))}))}))),e.Ur}function Sk(e){var t,n,r,i=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return Sk(e).Ar(),[2]}))}))}.bind(null,e),Ri:function(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t&&Sk(e).pr?[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return iE(r=t.code)&&r!==sb.ABORTED?(n=e.kr.shift(),Sk(e).sr(),[4,bk(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,_k(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return wk(e)&&Ek(e),[2]}}))}))}.bind(null,e),Ir:function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i;return Ji(this,(function(o){for(t=Sk(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}.bind(null,e),Tr:function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=nI.from(r,t,n),[4,bk(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,_k(e)];case 2:return o.sent(),[2]}}))}))}.bind(null,e)},t.br(),new JC(n,t.Hi,t.credentials,t.R,r)),e.Mr.push((function(t){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,_k(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),0<e.kr.length&&(fb("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),n.label=4;case 4:return[2]}}))}))}))),e.Kr}var Ck=(kk.createAndSchedule=function(e,t,n,r,i){return(i=new kk(e,t,Date.now()+n,r,i)).start(n),i},kk.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},kk.prototype.skipDelay=function(){return this.handleDelayElapsed()},kk.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ub(sb.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},kk.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},kk.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},kk);function kk(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new RT,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}function Ok(e,t){if(db("AsyncQueue",t+": "+e),WT(e))return new ub(sb.UNAVAILABLE,t+": "+e);throw e}function Pk(){this.queries=new oS(cw,uw),this.onlineState="Unknown",this.Gr=new Set}var xk=(Lk.emptySet=function(e){return new Lk(e.comparator)},Lk.prototype.has=function(e){return null!=this.keyedMap.get(e)},Lk.prototype.get=function(e){return this.keyedMap.get(e)},Lk.prototype.first=function(){return this.sortedSet.minKey()},Lk.prototype.last=function(){return this.sortedSet.maxKey()},Lk.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},Lk.prototype.indexOf=function(e){return(e=this.keyedMap.get(e))?this.sortedSet.indexOf(e):-1},Object.defineProperty(Lk.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),Lk.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},Lk.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},Lk.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},Lk.prototype.isEqual=function(e){if(!(e instanceof Lk))return!1;if(this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();t.hasNext();){var r=t.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0},Lk.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},Lk.prototype.copy=function(e,t){var n=new Lk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n},Lk),Nk=(jk.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);!n||0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):gb()},jk.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},jk),Ak=(Dk.fromInitialDocuments=function(e,t,n,r){var i=[];return t.forEach((function(e){i.push({type:0,doc:e})})),new Dk(e,t,xk.emptySet(t),i,n,r,!0,!1)},Object.defineProperty(Dk.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),Dk.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},Dk),Rk=function(){this.Wr=void 0,this.listeners=[]};function Dk(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}function jk(){this.Qr=new aE(Xb.comparator)}function Lk(e){this.comparator=e?function(t,n){return e(t,n)||Xb.comparator(t.key,n.key)}:function(e,t){return Xb.comparator(e.key,t.key)},this.keyedMap=mE,this.sortedSet=new aE(this.comparator)}function Mk(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:if(n=e,r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Rk),!i)return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=s.sent(),[3,4];case 3:return a=Ok(a=s.sent(),"Initialization of query '"+lw(t.query)+"' failed"),[2,void t.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&Uk(n),[2]}}))}))}function Fk(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){return n=e,r=t.query,i=!1,(o=n.queries.get(r))&&0<=(a=o.listeners.indexOf(t))&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Uk(e){e.Gr.forEach((function(e){e.next()}))}var qk=(Gk.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Ak(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},Gk.prototype.onError=function(e){this.Jr.error(e)},Gk.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},Gk.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},Gk.prototype.Zr=function(e){if(0<e.docChanges.length)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},Gk.prototype.no=function(e){e=Ak.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},Gk),Vk=(Hk.prototype.io=function(){return"metadata"in this.payload},Hk),Bk=(Wk.prototype.qn=function(e){return WE(this.R,e)},Wk.prototype.Un=function(e){return e.metadata.exists?XE(this.R,e.document,!1):p_.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},Wk.prototype.Kn=VE,Wk),zk=(Kk.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},Kk.prototype.co=function(e){for(var t=new Map,n=new Bk(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||wE()).add(a);t.set(c,l)}}return t},Kk.prototype.complete=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return Ji(this,(function(p){switch(p.label){case 0:for(i=e,o=wE(),a=vE,s=bE,u=0,c=n;u<c.length;u++)l=c[u],h=t.qn(l.metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,t.Un(l)),s=s.insert(h,t.Kn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,US(i,aw(Z_(Ab.fromString("__bundle__/docs/"+r))))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return FS(e,f,a,Ib.min(),s).next((function(t){return f.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}(this.localStore,new Bk(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(r=r[n],[4,function(e,t,n){return void 0===n&&(n=wE()),Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,US(e,aw(yI(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=e).persistence.runTransaction("Save named query","readwrite",(function(e){var o=VE(t.readTime);return 0<=r.snapshotVersion.compareTo(o)?i.Ke.saveNamedQuery(e,t):(o=r.withResumeToken(Lb.EMPTY_BYTE_STRING,o),i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(e,o).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)})))}))]}}))}))}(this.localStore,r,t.get(r.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new IS(Object.assign({},this.progress),e))]}}))}))},Kk);function Kk(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Qk(e)}function Wk(e){this.R=e}function Hk(e,t){this.payload=e,this.byteLength=t}function Gk(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}function Qk(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var $k=function(e){this.key=e},Yk=function(e){this.key=e},Xk=(Object.defineProperty(nO.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),nO.prototype._o=function(e,t){var n=this,r=t?t.mo:new Nk,i=(t||this).fo,o=(t||this).mutatedKeys,a=i,s=!1,u=ew(this.query)&&i.size===this.query.limit?i.last():null,c=tw(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=hw(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations);t=!1,l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),t=!0):n.yo(l,h)||(r.track({type:2,doc:h}),t=!0,(u&&0<n.lo(h,u)||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),t=!0):l&&!h&&(r.track({type:1,doc:l}),t=!0,(u||c)&&(s=!0)),t&&(o=h?(a=a.add(h),d?o.add(e):o.delete(e)):(a=a.delete(e),o.delete(e)))})),ew(this.query)||tw(this.query))for(;a.size>this.query.limit;){var l=ew(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},nO.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},nO.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return i=e.type,o=t.type,n(i)-n(o)||r.lo(e.doc,t.doc);function n(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gb()}}var i,o})),this.po(n);var a=t?this.Eo():[];return t=(n=0===this.ho.size&&this.current?1:0)!==this.ao,this.ao=n,0!==o.length||t?{snapshot:new Ak(this.query,e.fo,i,o,e.mutatedKeys,0==n,t,!1),To:a}:{To:a}},nO.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Nk,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},nO.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},nO.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},nO.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=wE(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Yk(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new $k(e))})),n},nO.prototype.Ao=function(e){return this.uo=e.Bn,this.ho=wE(),e=this._o(e.documents),this.applyChanges(e,!0)},nO.prototype.Ro=function(){return Ak.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},nO),Jk=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Zk=function(e){this.key=e,this.bo=!1},eO=(Object.defineProperty(tO.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),tO);function tO(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new oS(cw,uw),this.Vo=new Map,this.So=new Set,this.Do=new aE(Xb.comparator),this.Co=new Map,this.No=new QS,this.xo={},this.Fo=new Map,this.ko=qI.Yt(),this.onlineState="Unknown",this.$o=void 0}function nO(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=wE(),this.mutatedKeys=wE(),this.lo=fw(e),this.fo=new xk(this.lo)}function rO(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,VS(e.localStore,t.query,!1).then((function(e){return e=e.documents,t.view._o(e,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(dO(e,t.targetId,o.To),o.snapshot)]}}))}))}(e,t,n,r)},[4,VS(e.localStore,t,!0)];case 1:return o=s.sent(),a=new Xk(t,o.Bn),i=a._o(o.documents),o=IE.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),o=a.applyChanges(i,e.isPrimaryClient,o),dO(e,n,o.To),a=new Jk(t,n,a),[2,(e.Po.set(t,a),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),o.snapshot)]}}))}))}function iO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:i=EO(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,(c=i.localStore,l=t,f=c,d=Tb.now(),p=l.reduce((function(e,t){return e.add(t.key)}),wE()),f.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return f.Mn.pn(e,p).next((function(t){h=t;for(var n=[],r=0,i=l;r<i.length;r++){var o=i[r],a=function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field);null!=(a=gw(o.transform,a||null))&&(n=null==n?f_.empty():n).set(o.field,a)}return n||null}(o,h.get(o.key));null!=a&&n.push(new Kw(o.key,a,function e(t){var n=[];return Ob(t.fields,(function(t,r){var i=new Db([t]);if(l_(r))if(0===(r=e(r.mapValue).fields).length)n.push(i);else for(var o=0,a=r;o<a.length;o++){var s=a[o];n.push(i.child(s))}else n.push(i)})),new jb(n)}(a.value.mapValue),jw.exists(!0)))}return f._n.addMutationBatch(e,d,n,l)}))})).then((function(e){return e.applyToLocalDocumentSet(h),{batchId:e.batchId,changes:h}})))];case 2:return r=o.sent(),i.sharedClientState.addPendingMutation(r.batchId),a=i,s=r.batchId,u=n,c=(c=(c=a.xo[a.currentUser.toKey()])||new aE(_b)).insert(s,u),a.xo[a.currentUser.toKey()]=c,[4,vO(i,r.changes)];case 3:return o.sent(),[4,_k(i.remoteStore)];case 4:return o.sent(),[3,6];case 5:return i=Ok(i=o.sent(),"Failed to persist write"),n.reject(i),[3,6];case 6:return[2]}var a,s,u,c,l,h,f,d,p}))}))}function oO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:n=e,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,MS(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){(t=n.Co.get(t))&&(yb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),0<e.addedDocuments.size?t.bo=!0:0<e.modifiedDocuments.size?yb(t.bo):0<e.removedDocuments.size&&(yb(t.bo),t.bo=!1))})),[4,vO(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,GI(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function aO(e,t,n){var r;((e=e).isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n)&&(r=[],e.Po.forEach((function(e,n){(n=n.view.zr(t)).snapshot&&r.push(n.snapshot)})),function(e,t){e.onlineState=t;var n=!1;e.queries.forEach((function(e,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].zr(t)&&(n=!0)})),n&&Uk(e)}(e.eventManager,t),r.length&&e.vo._r(r),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t))}function sO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:r=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=r.localStore,s=t,(u=a).persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var t;return u._n.lookupMutationBatch(e,s).next((function(n){return yb(null!==n),t=n.keys(),u._n.removeMutationBatch(e,n)})).next((function(){return u._n.performConsistencyCheck(e)})).next((function(){return u.Mn.pn(e,t)}))})))];case 2:return i=o.sent(),lO(r,t,n),cO(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,vO(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,GI(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}var a,s,u}))}))}function uO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:vk((n=e).remoteStore)||fb("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(a=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return a._n.getHighestUnacknowledgedBatchId(e)}))];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return i=Ok(i=o.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}var a}))}))}function cO(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function lO(e,t,n){var r=e,i=r.xo[r.currentUser.toKey()];i&&((e=i.get(t))&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i)}function hO(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||fO(e,t)}))}function fO(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(lk(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),pO(e))}function dO(e,t,n){for(var r,i,o,a=0,s=n;a<s.length;a++){var u=s[a];u instanceof $k?(e.No.addReference(u.key,t),r=e,o=void 0,i=(o=(i=u).key).path.canonicalString(),r.Do.get(o)||r.So.has(i)||(fb("SyncEngine","New document in limbo: "+o),r.So.add(i),pO(r))):u instanceof Yk?(fb("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||fO(e,u.key)):gb()}}function pO(e){for(;0<e.So.size&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Xb(Ab.fromString(t));t=e.ko.next(),e.Co.set(t,new Zk(n)),e.Do=e.Do.insert(n,t),ck(e.remoteStore,new rI(aw(Z_(n.path)),t,2,ib.o))}}function vO(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return i=[],o=[],a=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,s){a.push(r.Oo(s,t,n).then((function(e){e&&(r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,e.fromCache?"not-current":"current"),i.push(e),e=CS.Pn(s.targetId,e),o.push(e))})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return Ji(this,(function(c){switch(c.label){case 0:n=e,c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return DT.forEach(t,(function(t){return DT.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return DT.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return c.sent(),[3,4];case 3:if(!WT(r=c.sent()))throw r;return fb("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)u=o[i],a=u.targetId,u.fromCache||(s=n.Fn.get(a),u=s.snapshotVersion,u=s.withLastLimboFreeSnapshotVersion(u),n.Fn=n.Fn.insert(a,u));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function gO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(fb("SyncEngine","User change. New user:",t.toKey()),[4,DS(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,(o=n).Fo.forEach((function(e){e.forEach((function(e){e.reject(new ub(sb.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),o.Fo.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,vO(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}var o}))}))}function yO(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,(s=(i=e).localStore,u=t,l=(c=s)._n,c.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return l.jt(e,u).next((function(t){return t?c.Mn.pn(e,t):DT.resolve(null)}))})))];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,_k(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lO(i,t,r||null),cO(i,t),i.localStore._n.Gt(t)):gb(),a.label=4;case 4:return[4,vO(i,o)];case 5:return a.sent(),[3,7];case 6:fb("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}var s,u,c,l}))}))}function mO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return Ji(this,(function(l){switch(l.label){case 0:return wO(n=e),EO(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,bO(n,r.toArray())]);case 1:return i=l.sent(),n.$o=!0,[4,Tk(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)s=a[o],ck(n.remoteStore,s);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(u=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?u.push(t):c=c.then((function(){return hO(n,t),qS(n.localStore,t,!0)})),lk(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,bO(n,u)];case 5:return l.sent(),(h=n).Co.forEach((function(e,t){lk(h.remoteStore,t)})),h.No.ts(),h.Co=new Map,h.Do=new aE(Xb.comparator),n.$o=!1,[4,Tk(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}var h}))}))}function bO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d;return Ji(this,(function(p){switch(p.label){case 0:n=e,r=[],i=[],o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],u=void 0,(c=n.Vo.get(s))&&0!==c.length?[4,US(n.localStore,aw(c[0]))]:[3,7]):[3,13];case 2:u=p.sent(),l=0,h=c,p.label=3;case 3:return l<h.length?(f=h[l],f=n.Po.get(f),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,VS((n=e).localStore,t.query,!0)];case 1:return r=i.sent(),r=t.view.Ao(r),[2,(n.isPrimaryClient&&dO(n,t.targetId,r.To),r)]}}))}))}(n,f)]):[3,6];case 4:(f=p.sent()).snapshot&&i.push(f.snapshot),p.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,BS(n.localStore,s)];case 8:return d=p.sent(),[4,US(n.localStore,d)];case 9:return u=p.sent(),[4,rO(n,_O(d),s,!1)];case 10:p.sent(),p.label=11;case 11:r.push(u),p.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function _O(e){return J_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function wO(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=oO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=e;if((e=n.Co.get(t))&&e.bo)return wE().add(e.key);var r=wE();if(!(t=n.Vo.get(t)))return r;for(var i=0,o=t;i<o.length;i++){var a=o[i];a=n.Po.get(a),r=r.unionWith(a.view.wo)}return r}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),a=r.Co.get(t),(i=a&&a.key)?(o=(o=new aE(Xb.comparator)).insert(i,p_.newNoDocument(i,Ib.min())),a=wE().add(i),a=new TE(Ib.min(),new Map,new dE(_b),o,a),[4,oO(r,a)]):[3,2];case 1:return s.sent(),r.Do=r.Do.remove(i),r.Co.delete(t),pO(r),[3,4];case 2:return[4,qS(r.localStore,t,!1).then((function(){return hO(r,t,n)})).catch(GI)];case 3:s.sent(),s.label=4;case 4:return[2]}}))}))}.bind(null,e),e.vo._r=function(e,t){for(var n=e,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query;if(s=n.queries.get(s)){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&Uk(n)}.bind(null,e.eventManager),e.vo.Mo=function(e,t,n){var r=e;if(e=r.queries.get(t))for(var i=0,o=e.listeners;i<o.length;i++)o[i].onError(n);r.queries.delete(t)}.bind(null,e.eventManager),e}function EO(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:n=e,r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,jS(n.localStore,t)];case 2:return i=o.sent(),lO(n,r,null),cO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,vO(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,GI(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sO.bind(null,e),e}function TO(e,t,n){var r=e;(function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=u.sent(),[4,(h=e.localStore,d=h,p=VE((f=r).createTime),d.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return d.Ke.getBundleMetadata(e,f.id)})).then((function(e){return!!e&&0<=e.createTime.compareTo(p)})))];case 2:return u.sent()?[4,t.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith({taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}))];case 4:return n._updateProgress(Qk(r)),i=new zk(r,e.localStore,t.R),[4,t.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(a=u.sent())&&n._updateProgress(a),[4,t.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=u.sent(),[4,vO(e,s.wn,void 0)];case 12:return u.sent(),[4,(h=e.localStore,c=r,(l=h).persistence.runTransaction("Save bundle","readwrite",(function(e){return l.Ke.saveBundleMetadata(e,c)})))];case 13:return u.sent(),n._completeWith(s.progress),[3,15];case 14:return pb("SyncEngine","Loading bundle failed with "+(s=u.sent())),n._failWith(s),[3,15];case 15:return[2]}var c,l,h,f,d,p}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var IO,SO,CO=(RO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return this.R=WC(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},RO.prototype.Uo=function(e){return null},RO.prototype.Ko=function(e){return RS(this.persistence,new kS,e.initialUser,this.R)},RO.prototype.qo=function(e){return new eC(nC.bs,this.R)},RO.prototype.Bo=function(e){return new SC},RO.prototype.terminate=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},RO),kO=($i(AO,SO=CO),AO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return[4,SO.prototype.initialize.call(this,e)];case 1:return t.sent(),[4,KS(this.localStore)];case 2:return t.sent(),[4,this.Qo.initialize(this,e)];case 3:return t.sent(),[4,EO(this.Qo.syncEngine)];case 4:return t.sent(),[4,_k(this.Qo.remoteStore)];case 5:return t.sent(),[2]}}))}))},AO.prototype.Ko=function(e){return RS(this.persistence,new kS,e.initialUser,this.R)},AO.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new YI(t,e.asyncQueue)},AO.prototype.qo=function(e){var t=TS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xI.withCacheSize(this.cacheSizeBytes):xI.DEFAULT;return new bS(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,zC(),KC(),this.R,this.sharedClientState,!!this.forceOwnership)},AO.prototype.Bo=function(e){return new SC},AO),OO=($i(NO,IO=kO),NO.prototype.initialize=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,IO.prototype.initialize.call(this,e)];case 1:return r.sent(),t=this.Qo.syncEngine,this.sharedClientState instanceof IC?(this.sharedClientState.syncEngine={ui:yO.bind(null,t),ai:function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(i=e).$o?(fb("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zS(i.localStore)];case 3:return o=s.sent(),a=TE.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,vO(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,qS(i.localStore,t,!0)];case 6:return s.sent(),hO(i,t,r),[3,8];case 7:gb(),s.label=8;case 8:return[2]}}))}))}.bind(null,t),hi:function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:if(!(r=wO(e)).$o)return[3,10];i=0,o=t,h.label=1;case 1:return i<o.length?(o=o[i],r.Vo.has(o)?(fb("SyncEngine","Adding an already active target "+o),[3,5]):[4,BS(r.localStore,o)]):[3,6];case 2:return a=h.sent(),[4,US(r.localStore,a)];case 3:return s=h.sent(),[4,rO(r,_O(a),s.targetId,!1)];case 4:h.sent(),ck(r.remoteStore,s),h.label=5;case 5:return i++,[3,1];case 6:u=function(e){return Ji(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,qS(r.localStore,e,!1).then((function(){lk(r.remoteStore,e),hO(r,e)})).catch(GI)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},c=0,l=n,h.label=7;case 7:return c<l.length?(l=l[c],[5,u(l)]):[3,10];case 8:h.sent(),h.label=9;case 9:return c++,[3,7];case 10:return[2]}}))}))}.bind(null,t),fn:function(e){return e.localStore.persistence.fn()}.bind(null,t),ci:function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){return[2,zS((t=e).localStore).then((function(e){return vO(t,e)}))]}))}))}.bind(null,t)},[4,this.sharedClientState.start()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[4,this.persistence.He((function(e){return Xi(n,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return[4,mO(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return r.sent(),[2]}}))}))},NO.prototype.Bo=function(e){var t=zC();if(!IC.yt(t))throw new ub(sb.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=TS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IC(t,e.asyncQueue,n,e.clientId,e.initialUser)},NO),PO=(xO.prototype.initialize=function(e,t){return Xi(this,void 0,void 0,(function(){var n=this;return Ji(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return aO(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=gO.bind(null,this.syncEngine),[4,Tk(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},xO.prototype.createEventManager=function(e){return new Pk},xO.prototype.createDatastore=function(e){var t=WC(e.databaseInfo.databaseId),n=(n=e.databaseInfo,new xC(n));return e=e.credentials,new ZC(e,n,t)},xO.prototype.createRemoteStore=function(e){var t=this,n=function(e){return aO(t.syncEngine,e,0)};return new HC(this.localStore,this.datastore,e.asyncQueue,n,e=new(kC.yt()?kC:CC))},xO.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){return o=new eO(e,t,n,r,i,o),a&&(o.$o=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},xO.prototype.terminate=function(){return function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=e,fb("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,uk(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},xO);function xO(){}function NO(e,t){var n=this;return(n=IO.call(this,e,t,!1)||this).Qo=e,n.cacheSizeBytes=t,n.synchronizeTabs=!0,n}function AO(e,t,n){var r=this;return(r=SO.call(this)||this).Qo=e,r.cacheSizeBytes=t,r.forceOwnership=n,r.synchronizeTabs=!1,r}function RO(){this.synchronizeTabs=!1}function DO(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return Xi(this,void 0,void 0,(function(){var r;return Ji(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var jO=(KO.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},KO.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},KO.prototype.Wo=function(){this.muted=!0},KO.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},KO),LO=(zO.prototype.close=function(){return this.Go.cancel()},zO.prototype.getMetadata=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2,this.metadata.promise]}))}))},zO.prototype.Lo=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},zO.prototype.Ho=function(){return Xi(this,void 0,void 0,(function(){var e,t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(n=this.zo.decode(e),t=Number(n),isNaN(t)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(t)]);case 2:return n=r.sent(),[2,new Vk(JSON.parse(n),e.length+t)]}}))}))},zO.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},zO.prototype.Jo=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},zO.prototype.Xo=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},zO.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},zO.prototype.tc=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},zO),MO=(BO.prototype.lookup=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),0<this.mutations.length)throw new ub(sb.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return r=QE((n=e).R)+"/documents",i={documents:t.map((function(e){return KE(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return i=s.sent(),o=new Map,i.forEach((function(e){var t;t=n.R,e="found"in(e=e)?function(e,t){yb(!!t.found),t.found.name,t.found.updateTime;var n=WE(e,t.found.name);return e=VE(t.found.updateTime),t=new f_({mapValue:{fields:t.found.fields}}),p_.newFoundDocument(n,e,t)}(t,e):"missing"in e?function(e,t){return yb(!!t.missing),yb(!!t.readTime),e=WE(e,t.missing),t=VE(t.readTime),p_.newNoDocument(e,t)}(t,e):gb(),o.set(e.key.toString(),e)})),a=[],[2,(t.forEach((function(e){yb(!!(e=o.get(e.toString()))),a.push(e)})),a)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},BO.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},BO.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},BO.prototype.delete=function(e){this.write(new eE(e,this.precondition(e))),this.writtenDocs.add(e.toString())},BO.prototype.commit=function(){return Xi(this,void 0,void 0,(function(){var e,t=this;return Ji(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){n=Xb.fromPath(n),t.mutations.push(new tE(n,t.precondition(n)))})),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=QE((n=e).R)+"/documents",i={writes:t.map((function(e){return JE(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},BO.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gb();t=Ib.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ub(sb.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},BO.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jw.updateTime(t):jw.none()},BO.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(this.writtenDocs.has(e.toString())||!t)return jw.exists(!0);if(t.isEqual(Ib.min()))throw new ub(sb.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jw.updateTime(t)},BO.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},BO.prototype.ensureCommitNotCalled=function(){},BO),FO=(VO.prototype.run=function(){--this.ec,this.nc()},VO.prototype.nc=function(){var e=this;this.Zi.ji((function(){return Xi(e,void 0,void 0,(function(){var e,t,n=this;return Ji(this,(function(r){return e=new MO(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},VO.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Qb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},VO.prototype.ic=function(e){var t=this;0<this.ec&&this.rc(e)?(--this.ec,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},VO.prototype.rc=function(e){return"FirebaseError"===e.name&&("aborted"===(e=e.code)||"failed-precondition"===e||!iE(e))},VO),UO=(qO.prototype.getConfiguration=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},qO.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},qO.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ub(sb.FAILED_PRECONDITION,"The client has already been terminated.")},qO.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new RT;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return Xi(e,void 0,void 0,(function(){var e;return Ji(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=Ok(e=n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}}))}))})),t.promise},qO);function qO(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=rC.UNAUTHENTICATED,this.clientId=mb.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return fb("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}function VO(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new YC(this.asyncQueue,"transaction_retry")}function BO(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}function zO(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new RT,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}function KO(e){this.observer=e,this.muted=!1}function WO(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i=this;return Ji(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),fb("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return Xi(i,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,DS(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function HO(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,GO(e)];case 1:return n=i.sent(),fb("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),fb("RemoteStore","RemoteStore received new credentials"),r=vk(n),n.Or.add(3),[4,uk(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,sk(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function GO(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(fb("FirestoreClient","Using default OfflineComponentProvider"),[4,WO(e,new CO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function QO(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(fb("FirestoreClient","Using default OnlineComponentProvider"),[4,HO(e,new PO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function $O(e){return GO(e).then((function(e){return e.persistence}))}function YO(e){return GO(e).then((function(e){return e.localStore}))}function XO(e){return QO(e).then((function(e){return e.remoteStore}))}function JO(e){return QO(e).then((function(e){return e.syncEngine}))}function ZO(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,QO(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return n=wO(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.Ro(),[3,4]):[3,1];case 1:return[4,US(n.localStore,aw(t))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.targetId,[4,rO(n,t,r,"current"===a)];case 3:i=s.sent(),n.isPrimaryClient&&ck(n.remoteStore,o),s.label=4;case 4:return[2,i]}}))}))}.bind(null,t.syncEngine),n.onUnlisten=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return r=(n=e).Po.get(t),1<(i=n.Vo.get(r.targetId)).length?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!uw(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,qS(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),lk(n.remoteStore,r.targetId),hO(n,r.targetId)})).catch(GI)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hO(n,r.targetId),[4,qS(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}.bind(null,t.syncEngine),n)]}}))}))}function eP(e,t,n){var r=this;void 0===n&&(n={});var i=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new jO({next:function(o){t.enqueueAndForget((function(){return Fk(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new ub(sb.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new ub(sb.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new qk(Z_(n.path),o,{includeMetadataChanges:!0,so:!0});return Mk(e,a)},[4,ZO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function tP(e,t,n){var r=this;void 0===n&&(n={});var i=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new jO({next:function(n){t.enqueueAndForget((function(){return Fk(e,a)})),n.fromCache&&"server"===r.source?i.reject(new ub(sb.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new qk(n,o,{includeMetadataChanges:!0,so:!0});return Mk(e,a)},[4,ZO(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function nP(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e}var rP=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},iP=(Object.defineProperty(gP.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),gP.prototype.isEqual=function(e){return e instanceof gP&&e.projectId===this.projectId&&e.database===this.database},gP),oP=new Map,aP=(vP.prototype.getToken=function(){return Promise.resolve(null)},vP.prototype.invalidateToken=function(){},vP.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(rC.UNAUTHENTICATED)}))},vP.prototype.removeChangeListener=function(){this.changeListener=null},vP),sP=(pP.prototype.getToken=function(){return Promise.resolve(this.token)},pP.prototype.invalidateToken=function(){},pP.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},pP.prototype.removeChangeListener=function(){this.changeListener=null},pP),uP=(dP.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(fb("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(yb("string"==typeof n.accessToken),new nP(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},dP.prototype.invalidateToken=function(){this.forceRefresh=!0},dP.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return Xi(n,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},dP.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},dP.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return yb(null===e||"string"==typeof e),new rC(e)},dP),cP=(Object.defineProperty(fP.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),fP),lP=(hP.prototype.getToken=function(){return Promise.resolve(new cP(this.hc,this.lc,this.fc))},hP.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(rC.FIRST_PARTY)}))},hP.prototype.removeChangeListener=function(){},hP.prototype.invalidateToken=function(){},hP);function hP(e,t,n){this.hc=e,this.lc=t,this.fc=n}function fP(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=rC.FIRST_PARTY}function dP(e){var t=this;function n(e){fb("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)}this.currentUser=rC.UNAUTHENTICATED,this.oc=new RT,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))},e.onInit(n),setTimeout((function(){var r;t.auth||((r=e.getImmediate({optional:!0}))?n(r):(fb("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve()))}),0)}function pP(e){this.token=e,this.changeListener=null}function vP(){this.changeListener=null}function gP(e,t){this.projectId=e,this.database=t||"(default)"}function yP(e,t,n){if(!n)throw new ub(sb.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function mP(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ub(sb.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function bP(e,t,n,r){if(!0===t&&!0===r)throw new ub(sb.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function _P(e){if(!Xb.isDocumentKey(e))throw new ub(sb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wP(e){if(Xb.isDocumentKey(e))throw new ub(sb.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function EP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return 20<e.length&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"!=typeof e)return"function"==typeof e?"a function":gb();if(e instanceof Array)return"an array";var t=function(){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&1<t.length)return t[1]}return null}();return t?"a custom "+t+" object":"an object"}function TP(e,t){if((e="_delegate"in e?e._delegate:e)instanceof t)return e;if(t.name===e.constructor.name)throw new ub(sb.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");throw e=EP(e),new ub(sb.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}function IP(e,t){if(t<=0)throw new ub(sb.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var SP,CP=(jP.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},jP),kP=(Object.defineProperty(DP.prototype,"app",{get:function(){if(!this._app)throw new ub(sb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(DP.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(DP.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),DP.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ub(sb.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CP(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new aP;switch(e.type){case"gapi":var t=e.client;return yb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new lP(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ub(sb.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},DP.prototype._getSettings=function(){return this._settings},DP.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},DP.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},DP.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},DP.prototype._terminate=function(){return(e=oP.get(this))&&(fb("ComponentProvider","Removing Datastore"),oP.delete(this),e.terminate()),Promise.resolve();var e},DP),OP=(Object.defineProperty(RP.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(RP.prototype,"parent",{get:function(){return new xP(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),RP.prototype.withConverter=function(e){return new RP(this.firestore,e,this._key)},RP),PP=(AP.prototype.withConverter=function(e){return new AP(this.firestore,e,this._query)},AP),xP=($i(NP,SP=PP),Object.defineProperty(NP.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(NP.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(NP.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new OP(this.firestore,null,new Xb(e))},enumerable:!1,configurable:!0}),NP.prototype.withConverter=function(e){return new NP(this.firestore,e,this._path)},NP);function NP(e,t,n){var r=this;return(r=SP.call(this,e,t,Z_(n))||this)._path=n,r.type="collection",r}function AP(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}function RP(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}function DP(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CP({}),this._settingsFrozen=!1,e instanceof iP?(this._databaseId=e,this._credentials=new aP):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ub(sb.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iP(e.options.projectId)}(e),this._credentials=new uP(t))}function jP(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ub(sb.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ub(sb.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,bP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}function LP(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ea(e),yP("collection","path",t),e instanceof kP)return wP(n=Ab.fromString.apply(Ab,to([t],r))),new xP(e,null,n);if(!(e instanceof OP||e instanceof xP))throw new ub(sb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wP(n=Ab.fromString.apply(Ab,to([e.path],r)).child(Ab.fromString(t))),new xP(e.firestore,null,n)}function MP(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=ea(e),yP("doc","path",t=1===arguments.length?mb.u():t),e instanceof kP)return _P(n=Ab.fromString.apply(Ab,to([t],r))),new OP(e,null,new Xb(n));if(!(e instanceof OP||e instanceof xP))throw new ub(sb.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _P(n=e._path.child(Ab.fromString.apply(Ab,to([t],r)))),new OP(e.firestore,e instanceof xP?e.converter:null,new Xb(n))}function FP(e,t){return e=ea(e),t=ea(t),(e instanceof OP||e instanceof xP)&&(t instanceof OP||t instanceof xP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function UP(e,t){return e=ea(e),t=ea(t),e instanceof PP&&t instanceof PP&&e.firestore===t.firestore&&uw(e._query,t._query)&&e.converter===t.converter}var qP=(Object.defineProperty(VP.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),VP.prototype.enqueueAndForget=function(e){this.enqueue(e)},VP.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ic(),this.Ac(e)},VP.prototype.enterRestrictedMode=function(){var e;this._c||(this._c=!0,(e=KC())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Tc))},VP.prototype.enqueue=function(e){return this.Ic(),this._c?new Promise((function(e){})):this.Ac(e)},VP.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.Rc()}))},VP.prototype.Rc=function(){return Xi(this,void 0,void 0,(function(){var e,t=this;return Ji(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!WT(e=n.sent()))throw e;return fb("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:0<this.wc.length&&this.Zi.ji((function(){return t.Rc()})),n.label=5;case 5:return[2]}}))}))},VP.prototype.Ac=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,db("INTERNAL UNHANDLED ERROR: ",(r=(n=e).message||"",r=n.stack?n.stack.includes(n.message)?n.stack:n.message+"\n"+n.stack:r)),e;var n,r})).then((function(e){return t.gc=!1,e}))}));return this.dc=n},VP.prototype.enqueueAfterDelay=function(e,t,n){var r=this;return this.Ic(),-1<this.Ec.indexOf(e)&&(t=0),n=Ck.createAndSchedule(this,e,t,n,(function(e){return r.bc(e)})),this.mc.push(n),n},VP.prototype.Ic=function(){this.yc&&gb()},VP.prototype.verifyOperationInProgress=function(){},VP.prototype.vc=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},VP.prototype.Pc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},VP.prototype.Vc=function(e){var t=this;return this.vc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.vc()}))},VP.prototype.Sc=function(e){this.Ec.push(e)},VP.prototype.bc=function(e){e=this.mc.indexOf(e),this.mc.splice(e,1)},VP);function VP(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new YC(this,"async_queue_retry"),this.Tc=function(){var t=KC();t&&fb("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=KC();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Tc)}function BP(e){return function(){if("object"==typeof e&&null!==e)for(var t=e,n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return 1}}()}var zP,KP=(GP.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},GP.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},GP.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},GP.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},GP.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},GP.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},GP),WP=($i(HP,zP=kP),HP.prototype._terminate=function(){return this._firestoreClient||$P(this),this._firestoreClient.terminate()},HP);function HP(e,t){var n=this;return(n=zP.call(this,e,t)||this).type="firestore",n._queue=new qP,n._persistenceKey="name"in e?e.name:"[DEFAULT]",n}function GP(){this._progressObserver={},this._taskCompletionResolver=new RT,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}function QP(e){return e._firestoreClient||$P(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function $P(e){var t,n,r,i=e._freezeSettings();t=e._databaseId,n=(null===(r=e._app)||void 0===r?void 0:r.options.appId)||"",r=e._persistenceKey,i=new rP(t,n,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,i.useFetchStreams),e._firestoreClient=new UO(e._credentials,e._queue,i)}function YP(e,t,n){var r=this,i=new RT;return e.asyncQueue.enqueue((function(){return Xi(r,void 0,void 0,(function(){var r;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,WO(e,n)];case 1:return o.sent(),[4,HO(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!("FirebaseError"===(r=o.sent()).name?r.code===sb.FAILED_PRECONDITION||r.code===sb.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function XP(e){if(e._initialized||e._terminated)throw new ub(sb.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var JP=(cx.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},cx),ZP=(ux.fromBase64String=function(e){try{return new ux(Lb.fromBase64String(e))}catch(e){throw new ub(sb.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},ux.fromUint8Array=function(e){return new ux(Lb.fromUint8Array(e))},ux.prototype.toBase64=function(){return this._byteString.toBase64()},ux.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},ux.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},ux.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},ux),ex=function(e){this._methodName=e},tx=(Object.defineProperty(sx.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(sx.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),sx.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},sx.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},sx.prototype._compareTo=function(e){return _b(this._lat,e._lat)||_b(this._long,e._long)},sx),nx=/^__.*__$/,rx=(ax.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms):new zw(e,this.data,t,this.fieldTransforms)},ax),ix=(ox.prototype.toMutation=function(e,t){return new Kw(e,this.data,this.fieldMask,t,this.fieldTransforms)},ox);function ox(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function ax(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}function sx(e,t){if(!isFinite(e)||e<-90||90<e)throw new ub(sb.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||180<t)throw new ub(sb.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}function ux(e){this._byteString=e}function cx(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ub(sb.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Db(e)}function lx(e){switch(e){case 0:case 2:case 1:return 1;case 3:case 4:return;default:throw gb()}}var hx=(Object.defineProperty(px.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(px.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),px.prototype.Nc=function(e){return new px(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},px.prototype.xc=function(e){var t=null===(t=this.path)||void 0===t?void 0:t.child(e);return(t=this.Nc({path:t,Fc:!1})).kc(e),t},px.prototype.$c=function(e){var t;return e=null===(t=this.path)||void 0===t?void 0:t.child(e),(e=this.Nc({path:e,Fc:!1})).Dc(),e},px.prototype.Oc=function(e){return this.Nc({path:void 0,Fc:!0})},px.prototype.Mc=function(e){return zx(e,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},px.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},px.prototype.Dc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.kc(this.path.get(e))},px.prototype.kc=function(e){if(0===e.length)throw this.Mc("Document fields must not be empty");if(lx(this.Cc)&&nx.test(e))throw this.Mc('Document fields cannot begin and end with "__"')},px),fx=(dx.prototype.qc=function(e,t,n,r){return void 0===r&&(r=!1),new hx({Cc:e,methodName:t,Bc:n,path:Db.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},dx);function dx(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||WC(e)}function px(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}function vx(e){var t=e._freezeSettings(),n=WC(e._databaseId);return new fx(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gx(e,t,n,r,i,o){var a,s,u=e.qc((o=void 0===o?{}:o).merge||o.mergeFields?2:0,t,n,i);if(Ux("Data must be an object, but it was:",u,r),r=Mx(r,u),o.merge)a=new jb(u.fieldMask),s=u.fieldTransforms;else if(o.mergeFields){for(var c=[],l=0,h=o.mergeFields;l<h.length;l++){var f=qx(t,h[l],n);if(!u.contains(f))throw new ub(sb.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");Kx(c,f)||c.push(f)}a=new jb(c),s=u.fieldTransforms.filter((function(e){return a.covers(e.field)}))}else a=null,s=u.fieldTransforms;return new rx(new f_(r),a,s)}var yx,mx=($i(bx,yx=ex),bx.prototype._toFieldTransform=function(e){if(2!==e.Cc)throw 1===e.Cc?e.Mc(this._methodName+"() can only appear at the top level of your update data"):e.Mc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},bx.prototype.isEqual=function(e){return e instanceof bx},bx);function bx(){return null!==yx&&yx.apply(this,arguments)||this}function _x(e,t,n){return new hx({Cc:3,Bc:t.settings.Bc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var wx,Ex,Tx,Ix,Sx=($i(Ax,Ix=ex),Ax.prototype._toFieldTransform=function(e){return new Dw(e.path,new bw)},Ax.prototype.isEqual=function(e){return e instanceof Ax},Ax),Cx=($i(Nx,Tx=ex),Nx.prototype._toFieldTransform=function(e){var t=_x(this,e,!0),n=this.Uc.map((function(e){return Lx(e,t)}));return n=new _w(n),new Dw(e.path,n)},Nx.prototype.isEqual=function(e){return this===e},Nx),kx=($i(xx,Ex=ex),xx.prototype._toFieldTransform=function(e){var t=_x(this,e,!0),n=this.Uc.map((function(e){return Lx(e,t)}));return n=new Sw(n),new Dw(e.path,n)},xx.prototype.isEqual=function(e){return this===e},xx),Ox=($i(Px,wx=ex),Px.prototype._toFieldTransform=function(e){var t=new Pw(e.R,vw(e.R,this.Kc));return new Dw(e.path,t)},Px.prototype.isEqual=function(e){return this===e},Px);function Px(e,t){var n=this;return(n=wx.call(this,e)||this).Kc=t,n}function xx(e,t){var n=this;return(n=Ex.call(this,e)||this).Uc=t,n}function Nx(e,t){var n=this;return(n=Tx.call(this,e)||this).Uc=t,n}function Ax(){return null!==Ix&&Ix.apply(this,arguments)||this}function Rx(e,t,n,r){var i=e.qc(1,t,n);Ux("Data must be an object, but it was:",i,r);var o=[],a=f_.empty();return Ob(r,(function(e,r){var s=Bx(t,e,n);r=ea(r),e=i.$c(s),r instanceof mx?o.push(s):null!=(e=Lx(r,e))&&(o.push(s),a.set(s,e))})),r=new jb(o),new ix(a,r,i.fieldTransforms)}function Dx(e,t,n,r,i,o){var a=e.qc(1,t,n),s=[qx(t,r,n)],u=[i];if(o.length%2!=0)throw new ub(sb.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(qx(t,o[c])),u.push(o[c+1]);for(var l,h,f,d=[],p=f_.empty(),v=s.length-1;0<=v;--v)Kx(d,s[v])||(l=s[v],h=ea(h=u[v]),f=a.$c(l),h instanceof mx?d.push(l):null!=(f=Lx(h,f))&&(d.push(l),p.set(l,f)));return i=new jb(d),new ix(p,i,a.fieldTransforms)}function jx(e,t,n,r){return Lx(n,e.qc((r=void 0!==r&&r)?4:3,t))}function Lx(e,t){if(Fx(e=ea(e)))return Ux("Unsupported field value:",t,e),Mx(e,t);if(e instanceof ex)return function(e,t){if(!lx(t.Cc))throw t.Mc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Mc(e._methodName+"() is not currently supported inside arrays");(e=e._toFieldTransform(t))&&t.fieldTransforms.push(e)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Cc)throw t.Mc("Nested arrays are not supported");return function(t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Lx(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t)}return function(t,n){if(null===(t=ea(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vw(n.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var r=Tb.fromDate(t);return{timestampValue:UE(n.R,r)}}if(t instanceof Tb)return r=new Tb(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:UE(n.R,r)};if(t instanceof tx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ZP)return{bytesValue:qE(n.R,t._byteString)};if(t instanceof OP){r=n.databaseId;var i=t.firestore._databaseId;if(!i.isEqual(r))throw n.Mc("Document reference is for database "+i.projectId+"/"+i.database+" but should be for database "+r.projectId+"/"+r.database);return{referenceValue:BE(t.firestore._databaseId||n.databaseId,t._key.path)}}throw n.Mc("Unsupported field value: "+EP(t))}(0,t)}function Mx(e,t){var n={};return Pb(e)?t.path&&0<t.path.length&&t.fieldMask.push(t.path):Ob(e,(function(e,r){null!=(r=Lx(r,t.xc(e)))&&(n[e]=r)})),{mapValue:{fields:n}}}function Fx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Tb||e instanceof tx||e instanceof ZP||e instanceof OP||e instanceof ex)}function Ux(e,t,n){if(!Fx(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))throw"an object"===(n=EP(n))?t.Mc(e+" a custom object"):t.Mc(e+" "+n);var r}function qx(e,t,n){if((t=ea(t))instanceof JP)return t._internalPath;if("string"==typeof t)return Bx(e,t);throw zx("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Vx=new RegExp("[~\\*/\\[\\]]");function Bx(t,n,r){if(0<=n.search(Vx))throw zx("Invalid field path ("+n+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,r);try{return(new(JP.bind.apply(JP,to([void 0],n.split(".")))))._internalPath}catch(e){throw zx("Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,r)}}function zx(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i;return t="Function "+t+"() called with invalid data",n&&(t+=" (via `toFirestore()`)"),n="",(o||a)&&(n+=" (found",o&&(n+=" in field "+r),a&&(n+=" in document "+i),n+=")"),new ub(sb.INVALID_ARGUMENT,(t+=". ")+e+n)}function Kx(e,t){return e.some((function(e){return e.isEqual(t)}))}var Wx,Hx=(Object.defineProperty($x.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty($x.prototype,"ref",{get:function(){return new OP(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),$x.prototype.exists=function(){return null!==this._document},$x.prototype.data=function(){if(this._document){if(this._converter){var e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},$x.prototype.get=function(e){if(this._document&&null!==(e=this._document.data.field(Yx("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e)},$x),Gx=($i(Qx,Wx=Hx),Qx.prototype.data=function(){return Wx.prototype.data.call(this)},Qx);function Qx(){return null!==Wx&&Wx.apply(this,arguments)||this}function $x(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}function Yx(e,t){return"string"==typeof t?Bx(e,t):(t instanceof JP?t:t._delegate)._internalPath}var Xx,Jx,Zx=(aN.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},aN),eN=($i(oN,Jx=Hx),oN.prototype.exists=function(){return Jx.prototype.exists.call(this)},oN.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new tN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},oN.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document&&null!==(e=this._document.data.field(Yx("DocumentSnapshot.get",e))))return this._userDataWriter.convertValue(e,t.serverTimestamps)},oN),tN=($i(iN,Xx=eN),iN.prototype.data=function(e){return Xx.prototype.data.call(this,e=void 0===e?{}:e)},iN),nN=(Object.defineProperty(rN.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(rN.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(rN.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),rN.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new tN(n._firestore,n._userDataWriter,r.key,r,new Zx(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},rN.prototype.docChanges=function(e){if((e=!!(e=void 0===e?{}:e).includeMetadataChanges)&&this._snapshot.excludesMetadataChanges)throw new ub(sb.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new tN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new tN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Zx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gb()}}(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},rN);function rN(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Zx(r.hasPendingWrites,r.fromCache),this.query=n}function iN(){return null!==Xx&&Xx.apply(this,arguments)||this}function oN(e,t,n,r,i,o){var a=this;return(a=Jx.call(this,e,t,n,r,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=i,a}function aN(e,t){this.hasPendingWrites=e,this.fromCache=t}function sN(e,t){return e instanceof eN&&t instanceof eN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof nN&&t instanceof nN&&e._firestore===t._firestore&&UP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function uN(e){if(tw(e)&&0===e.explicitOrderBy.length)throw new ub(sb.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function cN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++)e=i[r]._apply(e);return e}var lN,hN,fN,dN,pN,vN=($i(IN,pN=G=function(){}),IN.prototype._apply=function(e){var t=vx(e.firestore);return t=function(e,t,n,r,i,o){if(r.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new ub(sb.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+i+"' queries on FieldPath.documentId().");if("in"===i||"not-in"===i){kN(o,i);for(var a=[],s=0,u=o;s<u.length;s++){var c=u[s];a.push(CN(n,e,c))}l={arrayValue:{values:a}}}else l=CN(n,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||kN(o,i),l=jx(t,"where",o,"in"===i||"not-in"===i);var l=E_.create(r,i,l);return function(e,t){if(t.g()){var n=rw(e);if(null!==n&&!n.isEqual(t.field))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");null!==(n=nw(e))&&ON(0,t.field,n)}if(e=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(0<=t.indexOf(i.op))return i.op}return null}(e,function(){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}()),null!==e)throw e===t.op?new ub(sb.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new ub(sb.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+e.toString()+"' filters.")}(e,l),l}(e._query,t,e.firestore._databaseId,this.Qc,this.jc,this.Wc),new PP(e.firestore,e.converter,(t=(e=e._query).filters.concat([t]),new X_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),t,e.limit,e.limitType,e.startAt,e.endAt)))},IN),gN=($i(TN,dN=G),TN.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ub(sb.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ub(sb.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Q_(t,n);return t=r,null!==nw(n=e)||null!==(e=rw(n))&&ON(0,e,t.field),r}(e._query,this.Qc,this.Gc);return new PP(e.firestore,e.converter,(t=(e=e._query).explicitOrderBy.concat([t]),new X_(e.path,e.collectionGroup,t,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)))},TN),yN=($i(EN,fN=G),EN.prototype._apply=function(e){return new PP(e.firestore,e.converter,sw(e._query,this.zc,this.Hc))},EN),mN=($i(wN,hN=G),wN.prototype._apply=function(e){var t=SN(e,this.type,this.Jc,this.Yc);return new PP(e.firestore,e.converter,(e=e._query,t=t,new X_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)))},wN),bN=($i(_N,lN=G),_N.prototype._apply=function(e){var t=SN(e,this.type,this.Jc,this.Yc);return new PP(e.firestore,e.converter,(e=e._query,t=t,new X_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)))},_N);function _N(e,t,n){var r=this;return(r=lN.call(this)||this).type=e,r.Jc=t,r.Yc=n,r}function wN(e,t,n){var r=this;return(r=hN.call(this)||this).type=e,r.Jc=t,r.Yc=n,r}function EN(e,t,n){var r=this;return(r=fN.call(this)||this).type=e,r.zc=t,r.Hc=n,r}function TN(e,t){var n=this;return(n=dN.call(this)||this).Qc=e,n.Gc=t,n.type="orderBy",n}function IN(e,t,n){var r=this;return(r=pN.call(this)||this).Qc=e,r.jc=t,r.Wc=n,r.type="where",r}function SN(e,t,n,r){if(n[0]=ea(n[0]),n[0]instanceof Hx)return function(e,n,r,i){if(!r)throw new ub(sb.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");for(var o=[],a=0,s=ow(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(o_(n,r.key));else{var c=r.data.field(u.field);if(Hb(c))throw new ub(sb.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c)throw u=u.field.canonicalString(),new ub(sb.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.");o.push(c)}}return new B_(o,i)}(e._query,e.firestore._databaseId,n[0]._document,r);var i=vx(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ub(sb.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new ub(sb.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!iw(e)&&-1!==c.indexOf("/"))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ab.fromString(c));if(!Xb.isDocumentKey(l))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");l=new Xb(l),s.push(o_(t,l))}else c=jx(n,r,c),s.push(c)}return new B_(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function CN(e,t,n){if("string"==typeof(n=ea(n))){if(""===n)throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!iw(t)&&-1!==n.indexOf("/"))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");if(t=t.path.child(Ab.fromString(n)),!Xb.isDocumentKey(t))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+t+"' is not because it has an odd number of segments ("+t.length+").");return o_(e,new Xb(t))}if(n instanceof OP)return o_(e,n._key);throw new ub(sb.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+EP(n)+".")}function kN(e,t){if(!Array.isArray(e)||0===e.length)throw new ub(sb.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(10<e.length)throw new ub(sb.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function ON(e,t,n){if(!n.isEqual(t))throw new ub(sb.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function PN(){}function xN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}PN.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Zb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gb()}},PN.prototype.convertObject=function(e,t){var n=this,r={};return Ob(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},PN.prototype.convertGeoPoint=function(e){return new tx(Kb(e.latitude),Kb(e.longitude))},PN.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},PN.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){return Hb(t=t.mapValue.fields.__previous_value__)?e(t):t}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gb(e));default:return null}},PN.prototype.convertTimestamp=function(e){return e=zb(e),new Tb(e.seconds,e.nanos)},PN.prototype.convertDocumentKey=function(e,t){var n=Ab.fromString(e);return yb(cT(n)),e=new iP(n.get(1),n.get(3)),n=new Xb(n.popFirst(5)),e.isEqual(t)||db("Document "+n+" contains a document reference within a different database ("+e.projectId+"/"+e.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),n};var NN,AN=($i(jN,NN=Q=PN),jN.prototype.convertBytes=function(e){return new ZP(e)},jN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new OP(this.firestore,null,e)},jN),RN=(DN.prototype.set=function(e,t,n){return this._verifyNotCommitted(),t=xN((e=LN(e,this._firestore)).converter,t,n),n=gx(this._dataReader,"WriteBatch.set",e._key,t,null!==e.converter,n),this._mutations.push(n.toMutation(e._key,jw.none())),this},DN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return this._verifyNotCommitted(),e=LN(e,this._firestore),t="string"==typeof(t=ea(t))||t instanceof JP?Dx(this._dataReader,"WriteBatch.update",e._key,t,n,r):Rx(this._dataReader,"WriteBatch.update",e._key,t),this._mutations.push(t.toMutation(e._key,jw.exists(!0))),this},DN.prototype.delete=function(e){return this._verifyNotCommitted(),e=LN(e,this._firestore),this._mutations=this._mutations.concat(new eE(e._key,jw.none())),this},DN.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,0<this._mutations.length?this._commitHandler(this._mutations):Promise.resolve()},DN.prototype._verifyNotCommitted=function(){if(this._committed)throw new ub(sb.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},DN);function DN(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vx(e)}function jN(e){var t=this;return(t=NN.call(this)||this).firestore=e,t}function LN(e,t){if((e=ea(e)).firestore!==t)throw new ub(sb.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var MN,FN=($i(UN,MN=Q),UN.prototype.convertBytes=function(e){return new ZP(e)},UN.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),new OP(this.firestore,null,e)},UN);function UN(e){var t=this;return(t=MN.call(this)||this).firestore=e,t}function qN(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=TP(e,OP);var o=TP(e.firestore,WP),a=vx(o);return BN(o,[("string"==typeof(t=ea(t))||t instanceof JP?Dx(a,"updateDoc",e._key,t,n,r):Rx(a,"updateDoc",e._key,t)).toMutation(e._key,jw.exists(!0))])}function VN(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=ea(e);var r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||BP(t[i])||(r=t[i],i++);var o,a,s,u,c,l,h={includeMetadataChanges:r.includeMetadataChanges};return BP(t[i])&&(o=t[i],t[i]=null===(r=o.next)||void 0===r?void 0:r.bind(o),t[i+1]=null===(r=o.error)||void 0===r?void 0:r.bind(o),t[i+2]=null===(r=o.complete)||void 0===r?void 0:r.bind(o)),e instanceof OP?(s=TP(e.firestore,WP),u=Z_(e._key.path),l={next:function(n){t[i]&&t[i](zN(s,e,n))},error:t[i+1],complete:t[i+2]}):(a=TP(e,PP),s=TP(a.firestore,WP),u=a._query,c=new FN(s),l={next:function(e){t[i]&&t[i](new nN(s,c,a,e))},error:t[i+1],complete:t[i+2]},uN(e._query)),function(e,t,n){var r=this,i=new jO(l),o=new qk(t,i,n);return e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=Mk,[4,ZO(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))})),function(){i.Wo(),e.asyncQueue.enqueueAndForget((function(){return Xi(r,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=Fk,[4,ZO(e)];case 1:return[2,t.apply(void 0,[n.sent(),o])]}}))}))}))}}(QP(s),u,h)}function BN(e,t){return function(e,t){var n=this,r=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=iO,[4,JO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(QP(e),t)}function zN(e,t,n){var r=n.docs.get(t._key),i=new FN(e);return new eN(e,i,t._key,r,new Zx(n.hasPendingWrites,n.fromCache),t.converter)}var KN,WN=(GN.prototype.get=function(e){var t=this,n=LN(e,this._firestore),r=new AN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return gb();if((e=e[0]).isFoundDocument())return new Hx(t._firestore,r,e.key,e,n.converter);if(e.isNoDocument())return new Hx(t._firestore,r,n._key,null,n.converter);throw gb()}))},GN.prototype.set=function(e,t,n){return t=xN((e=LN(e,this._firestore)).converter,t,n),n=gx(this._dataReader,"Transaction.set",e._key,t,null!==e.converter,n),this._transaction.set(e._key,n),this},GN.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];return e=LN(e,this._firestore),t="string"==typeof(t=ea(t))||t instanceof JP?Dx(this._dataReader,"Transaction.update",e._key,t,n,r):Rx(this._dataReader,"Transaction.update",e._key,t),this._transaction.update(e._key,t),this},GN.prototype.delete=function(e){return e=LN(e,this._firestore),this._transaction.delete(e._key),this},$i(HN,KN=GN),HN.prototype.get=function(e){var t=this,n=LN(e,this._firestore),r=new FN(this._firestore);return KN.prototype.get.call(this,e).then((function(e){return new eN(t._firestore,r,n._key,e._document,new Zx(!1,!1),n.converter)}))},HN);function HN(e,t){var n=this;return(n=KN.call(this,e,t)||this)._firestore=e,n}function GN(e,t){this._firestore=e,this._transaction=t,this._dataReader=vx(e)}function QN(){if("undefined"==typeof Uint8Array)throw new ub(sb.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $N(){if("undefined"==typeof atob)throw new ub(sb.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var YN,XN=(iA.fromBase64String=function(e){return $N(),new iA(ZP.fromBase64String(e))},iA.fromUint8Array=function(e){return QN(),new iA(ZP.fromUint8Array(e))},iA.prototype.toBase64=function(){return $N(),this._delegate.toBase64()},iA.prototype.toUint8Array=function(){return QN(),this._delegate.toUint8Array()},iA.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},iA.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},iA),JN=(rA.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){XP(e=TP(e,WP));var n=QP(e),r=e._freezeSettings();return YP(n,e=new PO,new kO(e,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},rA.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){XP(e=TP(e,WP));var t=QP(e),n=e._freezeSettings();return YP(t,e=new PO,new OO(e,n.cacheSizeBytes))}(e._delegate)},rA.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ub(sb.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new RT;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return LT.yt()?(t=e+"main",[4,LT.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(TS(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},rA),ZN=(Object.defineProperty(nA.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),nA.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||pb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},nA.prototype.useEmulator=function(e,t,n){!function(e,t,n,r){void 0===r&&(r={});var i=(e=TP(e,kP))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&pb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){if(n=fo(r.mockUserToken),!(r=r.mockUserToken.sub||r.mockUserToken.user_id))throw new ub(sb.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new sP(new nP(n,new rC(r)))}}(this._delegate,e,t,n=void 0===n?{}:n)},nA.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Xi(t,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,$O(e)];case 1:return t=r.sent(),[4,XO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),(i=n).Or.delete(0),sk(i))]}var i}))}))}))}(QP(TP(this._delegate,WP)))},nA.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return Xi(t,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,$O(e)];case 1:return t=r.sent(),[4,XO(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return(t=e).Or.add(0),[4,uk(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(QP(TP(this._delegate,WP)))},nA.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&bP("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},nA.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},nA.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},nA.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(t,void 0,void 0,(function(){var t;return Ji(this,(function(r){switch(r.label){case 0:return t=uO,[4,JO(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(QP(TP(this._delegate,WP)))},nA.prototype.onSnapshotsInSync=function(e){return e=e,function(e,t){var n=this,r=new jO(t);return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,ZO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,ZO(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(QP(TP(this._delegate,WP)),BP(e)?e:{next:e})},Object.defineProperty(nA.prototype,"app",{get:function(){if(!this.Zc)throw new ub(sb.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),nA.prototype.collection=function(e){try{return new TA(this,LP(this._delegate,e))}catch(e){throw dA(e,"collection()","Firestore.collection()")}},nA.prototype.doc=function(e){try{return new hA(this,MP(this._delegate,e))}catch(e){throw dA(e,"doc()","Firestore.doc()")}},nA.prototype.collectionGroup=function(e){try{return new _A(this,function(e,t){if(e=TP(e,kP),yP("collectionGroup","collection id",t),0<=t.indexOf("/"))throw new ub(sb.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new PP(e,null,(t=t,new X_(Ab.emptyPath(),t)))}(this._delegate,e))}catch(e){throw dA(e,"collectionGroup()","Firestore.collectionGroup()")}},nA.prototype.runTransaction=function(e){var t,n=this;return function(e,t){var n=this,r=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return[4,QO(e).then((function(e){return e.datastore}))];case 1:return n=i.sent(),new FO(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(QP(t=this._delegate),(function(r){return r=new WN(t,r),e(new oA(n,r))}))},nA.prototype.batch=function(){var e=this;return QP(this._delegate),new aA(new RN(this._delegate,(function(t){return BN(e._delegate,t)})))},nA.prototype.loadBundle=function(e){throw new ub(sb.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},nA.prototype.namedQuery=function(e){throw new ub(sb.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},nA),eA=($i(tA,YN=Q),tA.prototype.convertBytes=function(e){return new XN(new ZP(e))},tA.prototype.convertReference=function(e){return e=this.convertDocumentKey(e,this.firestore._databaseId),hA.tu(e,this.firestore,null)},tA);function tA(e){var t=this;return(t=YN.call(this)||this).firestore=e,t}function nA(e,t,n){var r=this;this._delegate=t,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof iP||(this.Zc=e)}function rA(){}function iA(e){this._delegate=e}var oA=(lA.prototype.get=function(e){var t=this,n=xA(e);return this._delegate.get(n).then((function(e){return new mA(t._firestore,new eN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},lA.prototype.set=function(e,t,n){return e=xA(e),n?(mP("Transaction.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},lA.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=xA(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,to([o,t,n],r)),this},lA.prototype.delete=function(e){return e=xA(e),this._delegate.delete(e),this},lA),aA=(cA.prototype.set=function(e,t,n){return e=xA(e),n?(mP("WriteBatch.set",n),this._delegate.set(e,t,n)):this._delegate.set(e,t),this},cA.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=xA(e);return 2===arguments.length?this._delegate.update(o,t):(e=this._delegate).update.apply(e,to([o,t,n],r)),this},cA.prototype.delete=function(e){return e=xA(e),this._delegate.delete(e),this},cA.prototype.commit=function(){return this._delegate.commit()},cA),sA=(uA.prototype.fromFirestore=function(e,t){return e=new tN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null),this._delegate.fromFirestore(new bA(this._firestore,e),null!=t?t:{})},uA.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},uA.eu=function(e,t){var n=uA.nu,r=n.get(e);return r||(r=new WeakMap,n.set(e,r)),(n=r.get(t))||(n=new uA(e,new eA(e),t),r.set(t,n)),n},uA);function uA(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}function cA(e){this._delegate=e}function lA(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}sA.nu=new WeakMap;var hA=(fA.su=function(e,t,n){if(e.length%2!=0)throw new ub(sb.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new fA(t,new OP(t._delegate,n,new Xb(e)))},fA.tu=function(e,t,n){return new fA(t,new OP(t._delegate,n,e))},Object.defineProperty(fA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(fA.prototype,"parent",{get:function(){return new TA(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(fA.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),fA.prototype.collection=function(e){try{return new TA(this.firestore,LP(this._delegate,e))}catch(e){throw dA(e,"collection()","DocumentReference.collection()")}},fA.prototype.isEqual=function(e){return(e=ea(e))instanceof OP&&FP(this._delegate,e)},fA.prototype.set=function(e,t){t=mP("DocumentReference.set",t);try{return function(e,t,n){e=TP(e,OP);var r=TP(e.firestore,WP);return t=xN(e.converter,t,n),BN(r,[gx(vx(r),"setDoc",e._key,t,null!==e.converter,n).toMutation(e._key,jw.none())])}(this._delegate,e,t)}catch(e){throw dA(e,"setDoc()","DocumentReference.set()")}},fA.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?qN(this._delegate,e):qN.apply(void 0,to([this._delegate,e,t],n))}catch(e){throw dA(e,"updateDoc()","DocumentReference.update()")}},fA.prototype.delete=function(){return BN(TP((e=this._delegate).firestore,WP),[new eE(e._key,jw.none())]);var e},fA.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pA(t),i=vA(t,(function(t){return new mA(e.firestore,new eN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return VN(this._delegate,r,i)},fA.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=TP(e,OP);var t=TP(e.firestore,WP),n=QP(t),r=new FN(t);return function(e,t){var n=this,r=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(a=t,(s=e).persistence.runTransaction("read document","readonly",(function(e){return s.Mn.mn(e,a)})))];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ub(sb.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ok(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}var a,s}))}))},[4,YO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new eN(t,r,e._key,n,new Zx(null!==n&&n.hasLocalMutations,!0),e.converter)}))}:"server"===(null==e?void 0:e.source)?function(e){e=TP(e,OP);var t=TP(e.firestore,WP);return eP(QP(t),e._key,{source:"server"}).then((function(n){return zN(t,e,n)}))}:function(e){e=TP(e,OP);var t=TP(e.firestore,WP);return eP(QP(t),e._key).then((function(n){return zN(t,e,n)}))})(this._delegate).then((function(e){return new mA(t.firestore,new eN(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},fA.prototype.withConverter=function(e){return new fA(this.firestore,e?this._delegate.withConverter(sA.eu(this.firestore,e)):this._delegate.withConverter(null))},fA);function fA(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}function dA(e,t,n){return e.message=e.message.replace(t,n),e}function pA(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!BP(r))return r}return{}}function vA(e,t){var n;return{next:function(e){n.next&&n.next(t(e))},error:null===(e=(n=BP(e[0])?e[0]:BP(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===e?void 0:e.bind(n),complete:null===(e=n.complete)||void 0===e?void 0:e.bind(n)}}var gA,yA,mA=(Object.defineProperty(PA.prototype,"ref",{get:function(){return new hA(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(PA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(PA.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(PA.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),PA.prototype.data=function(e){return this._delegate.data(e)},PA.prototype.get=function(e,t){return this._delegate.get(e,t)},PA.prototype.isEqual=function(e){return sN(this._delegate,e._delegate)},PA),bA=($i(OA,yA=mA),OA.prototype.data=function(e){return this._delegate.data(e)},OA),_A=(kA.prototype.where=function(e,t,n){try{return new kA(this.firestore,cN(this._delegate,(r=n,i=t,o=Yx("where",e),new vN(o,i,r))))}catch(e){throw dA(e,/(orderBy|where)\(\)/,"Query.$1()")}var r,i,o},kA.prototype.orderBy=function(e,t){try{return new kA(this.firestore,cN(this._delegate,(n=void 0===t?"asc":t,r=Yx("orderBy",e),new gN(r,n))))}catch(e){throw dA(e,/(orderBy|where)\(\)/,"Query.$1()")}var n,r},kA.prototype.limit=function(e){try{return new kA(this.firestore,cN(this._delegate,(IP("limit",t=e),new yN("limit",t,"F"))))}catch(e){throw dA(e,"limit()","Query.limit()")}var t},kA.prototype.limitToLast=function(e){try{return new kA(this.firestore,cN(this._delegate,(IP("limitToLast",t=e),new yN("limitToLast",t,"L"))))}catch(e){throw dA(e,"limitToLast()","Query.limitToLast()")}var t},kA.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new kA(this.firestore,cN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new mN("startAt",e,!0)}.apply(void 0,e)))}catch(e){throw dA(e,"startAt()","Query.startAt()")}},kA.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new kA(this.firestore,cN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new mN("startAfter",e,!1)}.apply(void 0,e)))}catch(e){throw dA(e,"startAfter()","Query.startAfter()")}},kA.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new kA(this.firestore,cN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bN("endBefore",e,!0)}.apply(void 0,e)))}catch(e){throw dA(e,"endBefore()","Query.endBefore()")}},kA.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new kA(this.firestore,cN(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new bN("endAt",e,!1)}.apply(void 0,e)))}catch(e){throw dA(e,"endAt()","Query.endAt()")}},kA.prototype.isEqual=function(e){return UP(this._delegate,e._delegate)},kA.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=TP(e,PP);var t=TP(e.firestore,WP),n=QP(t),r=new FN(t);return function(e,t){var n=this,r=new RT;return e.asyncQueue.enqueueAndForget((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,VS(e,t,!0)];case 1:return o=a.sent(),r=new Xk(t,o.Bn),i=r._o(o.documents),i=r.applyChanges(i,!1),n.resolve(i.snapshot),[3,3];case 2:return i=a.sent(),o=Ok(i,"Failed to execute query '"+t+" against cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,YO(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new nN(t,r,e,n)}))}:"server"===(null==e?void 0:e.source)?function(e){e=TP(e,PP);var t=TP(e.firestore,WP),n=QP(t),r=new FN(t);return tP(n,e._query,{source:"server"}).then((function(n){return new nN(t,r,e,n)}))}:function(e){e=TP(e,PP);var t=TP(e.firestore,WP),n=QP(t),r=new FN(t);return uN(e._query),tP(n,e._query).then((function(n){return new nN(t,r,e,n)}))})(this._delegate).then((function(e){return new EA(t.firestore,new nN(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},kA.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=pA(t),i=vA(t,(function(t){return new EA(e.firestore,new nN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return VN(this._delegate,r,i)},kA.prototype.withConverter=function(e){return new kA(this.firestore,e?this._delegate.withConverter(sA.eu(this.firestore,e)):this._delegate.withConverter(null))},kA),wA=(Object.defineProperty(CA.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(CA.prototype,"doc",{get:function(){return new bA(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(CA.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(CA.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),CA),EA=(Object.defineProperty(SA.prototype,"query",{get:function(){return new _A(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(SA.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(SA.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(SA.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(SA.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new bA(e._firestore,t)}))},enumerable:!1,configurable:!0}),SA.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new wA(t._firestore,e)}))},SA.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new bA(n._firestore,r))}))},SA.prototype.isEqual=function(e){return sN(this._delegate,e._delegate)},SA),TA=($i(IA,gA=_A),Object.defineProperty(IA.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(IA.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(IA.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new hA(this.firestore,e):null},enumerable:!1,configurable:!0}),IA.prototype.doc=function(e){try{return new hA(this.firestore,void 0===e?MP(this._delegate):MP(this._delegate,e))}catch(e){throw dA(e,"doc()","CollectionReference.doc()")}},IA.prototype.add=function(e){var t,n,r,i=this;return n=e,e=TP((t=this._delegate).firestore,WP),r=MP(t),n=xN(t.converter,n),BN(e,[gx(vx(t.firestore),"addDoc",r._key,n,null!==t.converter,{}).toMutation(r._key,jw.exists(!1))]).then((function(){return r})).then((function(e){return new hA(i.firestore,e)}))},IA.prototype.isEqual=function(e){return FP(this._delegate,e._delegate)},IA.prototype.withConverter=function(e){return new IA(this.firestore,e?this._delegate.withConverter(sA.eu(this.firestore,e)):this._delegate.withConverter(null))},IA);function IA(e,t){var n=this;return(n=gA.call(this,e,t)||this).firestore=e,n._delegate=t,n}function SA(e,t){this._firestore=e,this._delegate=t}function CA(e,t){this._firestore=e,this._delegate=t}function kA(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eA(e)}function OA(){return null!==yA&&yA.apply(this,arguments)||this}function PA(e,t){this._firestore=e,this._delegate=t}function xA(e){return TP(e,OP)}function NA(e){this._delegate=e}function AA(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(JP.bind.apply(JP,to([void 0],e)))}function RA(e){return t=this._delegate,n=e,r=QP(t=TP(t,WP)),e=new KP,function(e,t,r){var i,o=this,a=(i=n,t=WC(t),i=function(e){if(e instanceof Uint8Array)return DO(e,void 0);if(e instanceof ArrayBuffer)return DO(new Uint8Array(e),void 0);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof i?(new TextEncoder).encode(i):i),new LO(i,t));e.asyncQueue.enqueueAndForget((function(){return Xi(o,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return t=TO,[4,JO(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(r,t._databaseId,e),e;var t,n,r}function DA(e){var t=this,n=this._delegate;return e=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=e;return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,YO(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(QP(n=TP(n,WP)),e).then((function(e){return e?new PP(n,null,e.query):null})).then((function(e){return e?new _A(t,e):null}))}AA.documentId=function(){return new AA(Db.keyField().canonicalString())},AA.prototype.isEqual=function(e){return(e=ea(e))instanceof JP&&this._delegate._internalPath.isEqual(e._internalPath)},G=AA,NA.serverTimestamp=function(){var e=new Sx("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new NA(e)},NA.delete=function(){var e=new mx("deleteField");return e._methodName="FieldValue.delete",new NA(e)},NA.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Cx("arrayUnion",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayUnion",new NA(n)},NA.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new kx("arrayRemove",e)}.apply(void 0,e);return n._methodName="FieldValue.arrayRemove",new NA(n)},NA.increment=function(e){return(e=new Ox("increment",e))._methodName="FieldValue.increment",new NA(e)},NA.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)};var jA,LA,MA={Firestore:ZN,GeoPoint:tx,Timestamp:Tb,Blob:XN,Transaction:oA,WriteBatch:aA,DocumentReference:hA,DocumentSnapshot:mA,Query:_A,QueryDocumentSnapshot:bA,QuerySnapshot:EA,CollectionReference:TA,FieldPath:G,FieldValue:Q=NA,setLogLevel:function(e){cb.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};(jA=Aa).INTERNAL.registerComponent(new ta("firestore",(function(e){var t=e.getProvider("app").getImmediate();return t=t,e=e.getProvider("auth-internal"),new ZN(t,new WP(t,e),new JN)}),"PUBLIC").setServiceProps(Object.assign({},MA))),jA.registerVersion("@firebase/firestore","2.3.8"),(LA=ZN).prototype.loadBundle=RA,LA.prototype.namedQuery=DA;var FA,UA={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qA=($i(VA,FA=Error),VA);function VA(e,t,n){return t=FA.call(this,t)||this,Object.setPrototypeOf(t,VA.prototype),t.code=e,t.details=n,t}function BA(e,t,n){var r=function(e){if(200<=e&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r;e=void 0;try{var o=t&&t.error;if(o){var a=o.status;if("string"==typeof a){if(!UA[a])return new qA("internal","internal");r=UA[a],i=a}var s=o.message;"string"==typeof s&&(i=s),void 0!==(e=o.details)&&(e=n.decode(e))}}catch(e){}return"ok"===r?null:new qA(r,i,e)}var zA=(KA.prototype.getAuthToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},KA.prototype.getInstanceIdToken=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},KA.prototype.getContext=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},KA);function KA(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}function WA(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=t(e[n]));return r}var HA=(GA.prototype.encode=function(e){var t=this;if(null==e)return null;if("number"==typeof(e=e instanceof Number?e.valueOf():e)&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return WA(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},GA.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?WA(e,(function(e){return t.decode(e)})):e},GA);function GA(){}var QA,$A,YA,XA=(Object.defineProperty(JA.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),JA.prototype._url=function(e){var t=this.app_.options.projectId;return null===this.emulatorOrigin?null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e:this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e},JA.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},JA.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},JA.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},JA.prototype.postJSON=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},JA.prototype.getAppCheckToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},JA.prototype.call=function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(a=u.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=s,h=new Promise((function(e,t){l=setTimeout((function(){t(new qA("deadline-exceeded","deadline-exceeded"))}),c)})),s=(a={timer:l,promise:h}).timer,a=a.promise,[4,Promise.race([ZA(s,this.postJSON(r,i,o)),a,ZA(s,this.cancelAllRequests)])];case 2:if(!(a=u.sent()))throw new qA("cancelled","Firebase Functions instance was deleted.");if(s=BA(a.status,a.json,this.serializer))throw s;if(!a.json)throw new qA("internal","Response is not valid JSON object.");if(void 0===(s=void 0===(s=a.json.data)?a.json.result:s))throw new qA("internal","Response is missing data field.");return[2,{data:this.serializer.decode(s)}]}var c,l,h}))}))},JA);function JA(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new HA,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new zA(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=i}}function ZA(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}function eR(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function tR(e,t,n){var r,i=new Promise((function(i,o){eR(r=e[t].apply(e,n)).then(i,o)}));return i.request=r,i}function nR(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function rR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return tR(this[t],r,arguments)})}))}function iR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function oR(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return e=this[t],(n=tR(e,r,arguments)).then((function(e){if(e)return new sR(e,n.request)}));var e,n})}))}function aR(e){this._index=e}function sR(e,t){this._cursor=e,this._request=t}function uR(e){this._store=e}function cR(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function lR(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new cR(n)}function hR(e){this._db=e}function fR(e,t,n){var r=(t=tR(indexedDB,"open",[e,t])).request;return r&&(r.onupgradeneeded=function(e){n&&n(new lR(r.result,e.oldVersion,r.transaction))}),t.then((function(e){return new hR(e)}))}function dR(e){return tR(indexedDB,"deleteDatabase",[e])}QA=Aa,$A=fetch.bind(self),YA={Functions:XA},QA.INTERNAL.registerComponent(new ta("functions",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal");return t=e.getProvider("app-check-internal"),e=e.getProvider("messaging"),new XA(r,i,e,t,n,$A)}),"PUBLIC").setServiceProps(YA).setMultipleInstances(!0)),Aa.registerVersion("@firebase/functions","0.6.13"),nR(aR,"_index",["name","keyPath","multiEntry","unique"]),rR(aR,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),oR(aR,"_index",IDBIndex,["openCursor","openKeyCursor"]),nR(sR,"_cursor",["direction","key","primaryKey","value"]),rR(sR,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(sR.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,n),eR(t._request).then((function(e){if(e)return new sR(e,t._request)}))}))})})),uR.prototype.createIndex=function(){return new aR(this._store.createIndex.apply(this._store,arguments))},uR.prototype.index=function(){return new aR(this._store.index.apply(this._store,arguments))},nR(uR,"_store",["name","keyPath","indexNames","autoIncrement"]),rR(uR,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),oR(uR,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),iR(uR,"_store",IDBObjectStore,["deleteIndex"]),cR.prototype.objectStore=function(){return new uR(this._tx.objectStore.apply(this._tx,arguments))},nR(cR,"_tx",["objectStoreNames","mode"]),iR(cR,"_tx",IDBTransaction,["abort"]),lR.prototype.createObjectStore=function(){return new uR(this._db.createObjectStore.apply(this._db,arguments))},nR(lR,"_db",["name","version","objectStoreNames"]),iR(lR,"_db",IDBDatabase,["deleteObjectStore","close"]),hR.prototype.transaction=function(){return new cR(this._db.transaction.apply(this._db,arguments))},nR(hR,"_db",["name","version","objectStoreNames"]),iR(hR,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[uR,aR].forEach((function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t=(r=arguments,Array.prototype.slice.call(r)),n=t[t.length-1],r=this._store||this._index,i=r[e].apply(r,t.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[aR,uR].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})}));var pR=1e4,vR="w:0.4.30",gR="FIS_v2",yR="https://firebaseinstallations.googleapis.com/v1",mR=36e5,bR=((G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["not-registered"]="Firebase Installation is not registered.",G["installation-not-found"]="Firebase Installation not found.",G["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',G["app-offline"]="Could not process request. Application offline.",G["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",new Co("installations","Installations",Q=G));function _R(e){return e instanceof Io&&e.code.includes("request-failed")}function wR(e){return e=e.projectId,yR+"/projects/"+e+"/installations"}function ER(e){return{token:e.token,requestStatus:2,expiresIn:(e=e.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()}}function TR(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=(n=r.sent()).error,[2,bR.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}}))}))}function IR(e){return e=e.apiKey,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function SR(e,t){return t=t.refreshToken,(e=IR(e)).append("Authorization",gR+" "+t),e}function CR(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return 500<=(t=n.sent()).status&&t.status<600?[2,e()]:[2,t]}}))}))}function kR(e){return new Promise((function(t){setTimeout(t,e)}))}var OR=/^[cdef][\w-]{21}$/,PR="";function xR(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return btoa(String.fromCharCode.apply(String,to([],eo(e)))).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22);return OR.test(t)?t:PR}catch(e){return PR}}function NR(e){return e.appName+"!"+e.appId}var AR=new Map;function RR(e,t){DR(e=NR(e),t),function(e,t){var n=LR();n&&n.postMessage({key:e,fid:t}),MR()}(e,t)}function DR(e,t){var n,r;if(e=AR.get(e))try{for(var i=Zi(e),o=i.next();!o.done;o=i.next())(0,o.value)(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}var jR=null;function LR(){return!jR&&"BroadcastChannel"in self&&((jR=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){DR(e.data.key,e.data.fid)}),jR}function MR(){0===AR.size&&jR&&(jR.close(),jR=null)}var FR,UR="firebase-installations-database",qR=1,VR="firebase-installations-store",BR=null;function zR(){return BR=BR||fR(UR,qR,(function(e){0===e.oldVersion&&e.createObjectStore(VR)}))}function KR(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n=NR(e),[4,zR()];case 1:return i=a.sent(),r=i.transaction(VR,"readwrite"),[4,(i=r.objectStore(VR)).get(n)];case 2:return o=a.sent(),[4,i.put(t,n)];case 3:return a.sent(),[4,r.complete];case 4:return a.sent(),o&&o.fid===t.fid||RR(e,t.fid),[2,t]}}))}))}function WR(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=NR(e),[4,zR()];case 1:return[4,(n=(n=r.sent()).transaction(VR,"readwrite")).objectStore(VR).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}function HR(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return n=NR(e),[4,zR()];case 1:return i=s.sent(),r=i.transaction(VR,"readwrite"),[4,(i=r.objectStore(VR)).get(n)];case 2:return o=s.sent(),void 0!==(a=t(o))?[3,4]:[4,i.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,i.put(a,n)];case 5:s.sent(),s.label=6;case 6:return[4,r.complete];case 7:return s.sent(),!a||o&&o.fid===a.fid||RR(e,a.fid),[2,a]}}))}))}function GR(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,HR(e,(function(n){return n=$R(n||{fid:xR(),registrationStatus:0}),n=function(e,t){return 0!==t.registrationStatus?1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,QR(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,kR(100)];case 3:return i.sent(),[4,QR(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,GR(e)];case 6:return r=i.sent(),n=r.installationEntry,(r=r.registrationPromise)?[2,r]:[2,n];case 7:return[2,t]}}))}))}(e)}:{installationEntry:t}:navigator.onLine?(e=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(e,t){var n=t.fid;return Xi(this,void 0,void 0,(function(){var t,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return t=wR(e),r=IR(e),a={fid:n,authVersion:gR,appId:e.appId,sdkVersion:vR},i={method:"POST",headers:r,body:JSON.stringify(a)},[4,CR((function(){return fetch(t,i)}))];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:ER(a.authToken)}];case 3:return[4,TR("Create Installation",o)];case 4:throw s.sent()}}))}))}(e,t)];case 1:return n=i.sent(),[2,KR(e,n)];case 2:return _R(r=i.sent())&&409===r.customData.serverCode?[4,WR(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,KR(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,t={fid:t.fid,registrationStatus:1,registrationTime:Date.now()}),{installationEntry:t,registrationPromise:e}):{installationEntry:t,registrationPromise:Promise.reject(bR.create("app-offline"))}}(e,n),t=n.registrationPromise,n.installationEntry}))];case 1:return(n=i.sent()).fid!==PR?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function QR(e){return HR(e,(function(e){if(!e)throw bR.create("installation-not-found");return $R(e)}))}function $R(e){return 1===(t=e).registrationStatus&&t.registrationTime+pR<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function YR(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return Xi(this,void 0,void 0,(function(){var e,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return e=function(e,t){return t=t.fid,wR(e)+"/"+t+"/authTokens:generate"}(n,t),i=SR(n,t),(s=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",s.getPlatformInfoString()),s={installation:{sdkVersion:vR}},o={method:"POST",headers:i,body:JSON.stringify(s)},[4,CR((function(){return fetch(e,o)}))];case 1:return(a=u.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,ER(s=u.sent())];case 3:return[4,TR("Generate Auth Token",a)];case 4:throw u.sent()}}))}))}function XR(e,t){return void 0===t&&(t=!1),Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,HR(e.appConfig,(function(r){if(!ZR(r))throw bR.create("not-registered");var i,o=r.authToken;if(t||2!==(i=o).requestStatus||function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mR}(i)){if(1===o.requestStatus)return n=function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,JR(e.appConfig)];case 1:n=r.sent(),r.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,kR(100)];case 3:return r.sent(),[4,JR(e.appConfig)];case 4:return n=r.sent(),[3,2];case 5:return 0===(n=n.authToken).requestStatus?[2,XR(e,t)]:[2,n]}}))}))}(e,t),r;if(!navigator.onLine)throw bR.create("app-offline");return i=r,o={requestStatus:1,requestTime:Date.now()},o=Yi(Yi({},i),{authToken:o}),n=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,YR(e,t)];case 1:return n=o.sent(),i=Yi(Yi({},t),{authToken:n}),[4,KR(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!_R(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,WR(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Yi(Yi({},t),{authToken:{requestStatus:0}}),[4,KR(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}return r}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function JR(e){return HR(e,(function(e){if(!ZR(e))throw bR.create("not-registered");var t=e.authToken;return 1===(t=t).requestStatus&&t.requestTime+pR<Date.now()?Yi(Yi({},e),{authToken:{requestStatus:0}}):e}))}function ZR(e){return void 0!==e&&2===e.registrationStatus}function eD(e,t){return void 0===t&&(t=!1),Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,GR(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}(e.appConfig)];case 1:return n.sent(),[4,XR(e,t)];case 2:return[2,n.sent().token]}}))}))}function tD(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return n=function(e,t){return t=t.fid,wR(e)+"/"+t}(e,t),i=SR(e,t),r={method:"DELETE",headers:i},[4,CR((function(){return fetch(n,r)}))];case 1:return(i=o.sent()).ok?[3,3]:[4,TR("Delete Installation",i)];case 2:throw o.sent();case 3:return[2]}}))}))}function nD(e,t){var n=e.appConfig;return function(e,t){LR();var n=NR(e);(e=AR.get(n))||(e=new Set,AR.set(n,e)),e.add(t)}(n,t),function(){var e,r,i;r=t,i=NR(e=n),(e=AR.get(i))&&(e.delete(r),0===e.size&&AR.delete(i),MR())}}function rD(e){return bR.create("missing-app-config-values",{valueName:e})}(FR=Aa).INTERNAL.registerComponent(new ta("installations",(function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:function(e){var t,n;if(!e||!e.options)throw rD("App Configuration");if(!e.name)throw rD("App Name");try{for(var r=Zi(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw rD(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,GR(e.appConfig)];case 1:return t=r.sent(),n=t.installationEntry,(t.registrationPromise||XR(e)).catch(console.error),[2,n.fid]}}))}))}(n)},getToken:function(e){return eD(n,e)},delete:function(){return function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,HR(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw bR.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw bR.create("app-offline");case 3:return[4,tD(t,n)];case 4:return r.sent(),[4,WR(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(e){return nD(n,e)}}}),"PUBLIC")),FR.registerVersion("@firebase/installations","0.4.30"),(G={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',G["only-available-in-window"]="This method is available in a Window context.",G["only-available-in-sw"]="This method is available in a service worker context.",G["permission-default"]="The notification permission was not granted and dismissed instead.",G["permission-blocked"]="The notification permission was not granted and blocked instead.",G["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",G["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",G["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",G["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",G["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",G["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",G["token-update-no-token"]="FCM returned no token when updating the user to push.",G["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",G["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",G["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",G["invalid-vapid-key"]="The public VAPID key must be a string.",G["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.";var iD,oD=new Co("messaging","Messaging",Q=G),aD="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sD="https://fcmregistrations.googleapis.com/v1",uD="FCM_MSG",cD="google.c.a.c_id";function lD(e){return e=new Uint8Array(e),btoa(String.fromCharCode.apply(String,to([],eo(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(G=iD=iD||{}).PUSH_RECEIVED="push-received",G.NOTIFICATION_CLICKED="notification-clicked";var hD="fcm_token_details_db",fD=5,dD="fcm_token_object_Store";function pD(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map((function(e){return e.name})).includes(hD))return[2,null];r.label=2;case 2:return t=null,[4,fR(hD,fD,(function(r){return Xi(n,void 0,void 0,(function(){var n,i,o;return Ji(this,(function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(dD)?[4,(o=r.transaction.objectStore(dD)).index("fcmSenderId").get(e)]:[2];case 1:return n=a.sent(),[4,o.clear()];case 2:if(a.sent(),!n)return[2];if(2===r.oldVersion){if(!(i=n).auth||!i.p256dh||!i.endpoint)return[2];t={token:i.fcmToken,createTime:null!==(o=i.createTime)&&void 0!==o?o:Date.now(),subscriptionOptions:{auth:i.auth,p256dh:i.p256dh,endpoint:i.endpoint,swScope:i.swScope,vapidKey:"string"==typeof i.vapidKey?i.vapidKey:lD(i.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(t={token:(i=n).fcmToken,createTime:i.createTime,subscriptionOptions:{auth:lD(i.auth),p256dh:lD(i.p256dh),endpoint:i.endpoint,swScope:i.swScope,vapidKey:lD(i.vapidKey)}});return[2]}}))}))}))];case 3:return r.sent().close(),[4,dR(hD)];case 4:return r.sent(),[4,dR("fcm_vapid_details_db")];case 5:return r.sent(),[4,dR("undefined")];case 6:return r.sent(),[2,function(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"==typeof e.createTime&&0<e.createTime&&"string"==typeof e.token&&0<e.token.length&&"string"==typeof t.auth&&0<t.auth.length&&"string"==typeof t.p256dh&&0<t.p256dh.length&&"string"==typeof t.endpoint&&0<t.endpoint.length&&"string"==typeof t.swScope&&0<t.swScope.length&&"string"==typeof t.vapidKey&&0<t.vapidKey.length}(t)?t:null]}}))}))}var vD="firebase-messaging-database",gD=1,yD="firebase-messaging-store",mD=null;function bD(){return mD=mD||fR(vD,gD,(function(e){0===e.oldVersion&&e.createObjectStore(yD)}))}function _D(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=ED(e),[4,bD()];case 1:return[4,r.sent().transaction(yD).objectStore(yD).get(t)];case 2:return(t=r.sent())?[2,t]:[3,3];case 3:return[4,pD(e.appConfig.senderId)];case 4:return(n=r.sent())?[4,wD(e,n)]:[3,6];case 5:return r.sent(),[2,n];case 6:return[2]}}))}))}function wD(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return n=ED(e),[4,bD()];case 1:return[4,(r=(r=i.sent()).transaction(yD,"readwrite")).objectStore(yD).put(t,n)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2,t]}}))}))}function ED(e){return e.appConfig.appId}function TD(e,t){return Xi(this,void 0,void 0,(function(){var n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,SD(e)];case 1:n={method:"DELETE",headers:n=i.sent()},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(ID(e.appConfig)+"/"+t,n)];case 3:return[4,i.sent().json()];case 4:if((n=i.sent()).error)throw r=n.error.message,oD.create("token-unsubscribe-failed",{errorInfo:r});return[3,6];case 5:throw r=i.sent(),oD.create("token-unsubscribe-failed",{errorInfo:r});case 6:return[2]}}))}))}function ID(e){return e=e.projectId,sD+"/projects/"+e+"/registrations"}function SD(e){var t=e.appConfig,n=e.installations;return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function CD(e){var t=e.p256dh,n=e.auth;return t={web:{endpoint:e.endpoint,auth:n,p256dh:t}},(e=e.vapidKey)!==aD&&(t.web.applicationPubKey=e),t}function kD(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw oD.create("permission-blocked");return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(e){e=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/");for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(t)})]}}))}))}(t,n)];case 1:return o=a.sent(),[4,_D(e)];case 2:return r=a.sent(),i={vapidKey:n,swScope:t.scope,endpoint:o.endpoint,auth:lD(o.getKey("auth")),p256dh:lD(o.getKey("p256dh"))},r?[3,3]:[2,PD(e,i)];case 3:if(s=r.subscriptionOptions,u=i.vapidKey===s.vapidKey,c=i.endpoint===s.endpoint,l=i.auth===s.auth,s=i.p256dh===s.p256dh,u&&c&&l&&s)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,TD(e,r.token)];case 5:return a.sent(),[3,7];case 6:return o=a.sent(),console.warn(o),[3,7];case 7:return[2,PD(e,i)];case 8:return Date.now()>=r.createTime+6048e5?[2,function(e,t,n){return Xi(this,void 0,void 0,(function(){var r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,SD(e)];case 1:n=a.sent(),r=CD(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(ID(e.appConfig)+"/"+t.token,r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),oD.create("token-update-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,oD.create("token-update-failed",{errorInfo:o});if(!i.token)throw oD.create("token-update-no-token");return[2,i.token]}}))}))}(t,e)];case 1:return r=a.sent(),i=Yi(Yi({},e),{token:r,createTime:Date.now()}),[4,wD(t,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,OD(t,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}({token:r.token,createTime:Date.now(),subscriptionOptions:i},e,t)]:[2,r.token];case 9:return[2]}var s,u,c,l}))}))}function OD(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,_D(e)];case 1:return(n=r.sent())?[4,TD(e,n.token)]:[3,4];case 2:return r.sent(),[4,function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return t=ED(e),[4,bD()];case 1:return[4,(n=(n=r.sent()).transaction(yD,"readwrite")).objectStore(yD).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}}))}))}(e)];case 3:r.sent(),r.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(n=r.sent())?[2,n.unsubscribe()]:[2,!0]}}))}))}function PD(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,function(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,SD(e)];case 1:n=a.sent(),r=CD(t),r={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(ID(e.appConfig),r)];case 3:return[4,a.sent().json()];case 4:return i=a.sent(),[3,6];case 5:throw o=a.sent(),oD.create("token-subscribe-failed",{errorInfo:o});case 6:if(i.error)throw o=i.error.message,oD.create("token-subscribe-failed",{errorInfo:o});if(!i.token)throw oD.create("token-subscribe-no-token");return[2,i.token]}}))}))}(e,t)];case 1:return n={token:n=r.sent(),createTime:Date.now(),subscriptionOptions:t},[4,wD(e,n)];case 2:return r.sent(),[2,n.token]}}))}))}function xD(e){return"object"==typeof e&&e&&cD in e}function ND(e){return new Promise((function(t){setTimeout(t,e)}))}var AD=(Object.defineProperty(RD.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),RD.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!=typeof e)throw oD.create("invalid-bg-handler");this.bgMessageHandler=e},RD.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},RD.prototype.getToken=function(){var e;return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return this.vapidKey?[3,2]:[4,_D(this.firebaseDependencies)];case 1:t=n.sent(),this.vapidKey=null!==(e=null===(e=null==t?void 0:t.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==e?e:aD,n.label=2;case 2:return[2,kD(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},RD.prototype.deleteToken=function(){return OD(this.firebaseDependencies,self.registration)},RD.prototype.requestPermission=function(){throw oD.create("only-available-in-window")},RD.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw oD.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw oD.create("invalid-vapid-key");this.vapidKey=e},RD.prototype.useServiceWorker=function(){throw oD.create("only-available-in-window")},RD.prototype.onMessage=function(){throw oD.create("only-available-in-window")},RD.prototype.onTokenRefresh=function(){throw oD.create("only-available-in-window")},RD.prototype.onPush=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return(r=function(e){if(!(e=e.data))return null;try{return e.json()}catch(e){return null}}(e))?[4,DD()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return(t=i.sent()).some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))?[2,function(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=iD.PUSH_RECEIVED;try{for(var i=Zi(e),o=i.next();!o.done;o=i.next())o.value.postMessage(t)}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(t,r)]:(n=!1,r.notification?[4,function(e){var t=e.actions,n=Notification.maxActions;return t&&n&&t.length>n&&console.warn("This browser only supports "+n+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(n=e.title)&&void 0!==n?n:"",e)}(((c=Yi({},(s=r).notification)).data=((u={})[uD]=s,u),c))]:[3,3]);case 2:i.sent(),n=!0,i.label=3;case 3:return!0===n&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(s=a={from:(o=r).from,collapseKey:o.collapse_key},(u=o).notification&&(s.notification={},(c=u.notification.title)&&(s.notification.title=c),(c=u.notification.body)&&(s.notification.body=c),(u=u.notification.image)&&(s.notification.image=u)),s=a,(u=o).data&&(s.data=u.data),s=a,(u=o).fcmOptions&&(s.fcmOptions={},(o=u.fcmOptions.link)&&(s.fcmOptions.link=o),(u=u.fcmOptions.analytics_label)&&(s.fcmOptions.analyticsLabel=u)),r=a,"function"==typeof this.bgMessageHandler?this.bgMessageHandler(r):this.bgMessageHandler.next(r)),[4,ND(1e3)]);case 4:return i.sent(),[2]}var o,a,s,u,c}))}))},RD.prototype.onSubChange=function(e){var t;return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return e.newSubscription?[3,2]:[4,OD(this.firebaseDependencies,self.registration)];case 1:case 5:return r.sent(),[2];case 2:return[4,_D(this.firebaseDependencies)];case 3:return n=r.sent(),[4,OD(this.firebaseDependencies,self.registration)];case 4:return r.sent(),[4,kD(this.firebaseDependencies,self.registration,null!==(t=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==t?t:aD)]}}))}))},RD.prototype.onNotificationClick=function(e){var t;return Xi(this,void 0,void 0,(function(){var n,r,i,o,a;return Ji(this,(function(s){switch(s.label){case 0:return(n=null===(t=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===t?void 0:t[uD])?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(r=function(e){var t,n=null!==(t=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==t?t:null===(n=e.notification)||void 0===n?void 0:n.click_action;return n||(xD(e.data)?self.location.origin:null)}(n))?(i=new URL(r,self.location.href),o=new URL(self.location.origin),i.host!==o.host?[2]:[4,function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:return[4,DD()];case 1:t=u.sent();try{for(n=Zi(t),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),e.host===o.host)return[2,i]}catch(u){a={error:u}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}(i)]):[2]):[2];case 1:return(a=s.sent())?[3,4]:[4,self.clients.openWindow(r)];case 2:return a=s.sent(),[4,ND(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=s.sent(),s.label=6;case 6:return a?(n.messageType=iD.NOTIFICATION_CLICKED,n.isFirebaseMessaging=!0,[2,a.postMessage(n)]):[2]}}))}))},RD);function RD(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}function DD(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var jD=(Object.defineProperty(LD.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),LD.prototype.messageEventListener=function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===iD.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback((delete(i=Object.assign({},t)).messageType,delete i.isFirebaseMessaging,i)):this.onMessageCallback.next(Object.assign({},t))),xD(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}var i}))}))},LD.prototype.getVapidKey=function(){return this.vapidKey},LD.prototype.getSwReg=function(){return this.swRegistration},LD.prototype.getToken=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw oD.create("permission-blocked");return[4,this.updateVapidKey(null==e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null==e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,kD(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},LD.prototype.updateVapidKey=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=aD),[2]}))}))},LD.prototype.updateSwReg=function(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw oD.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},LD.prototype.registerDefaultSw=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=t.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=t.sent(),oD.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},LD.prototype.deleteToken=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,OD(this.firebaseDependencies,this.swRegistration)]}}))}))},LD.prototype.requestPermission=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?oD.create("permission-blocked"):oD.create("permission-default")}}))}))},LD.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw oD.create("use-vapid-key-after-get-token");if("string"!=typeof e||0===e.length)throw oD.create("invalid-vapid-key");this.vapidKey=e},LD.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw oD.create("invalid-sw-registration");if(this.swRegistration)throw oD.create("use-sw-after-get-token");this.swRegistration=e},LD.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},LD.prototype.setBackgroundMessageHandler=function(){throw oD.create("only-available-in-sw")},LD.prototype.onBackgroundMessage=function(){throw oD.create("only-available-in-sw")},LD.prototype.onTokenRefresh=function(){return function(){}},LD.prototype.logEvent=function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case iD.NOTIFICATION_CLICKED:return"notification_open";case iD.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t[cD],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},LD);function LD(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}function MD(e){return oD.create("missing-app-config-values",{valueName:e})}function FD(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Q={isSupported:FD},Aa.INTERNAL.registerComponent(new ta("messaging",(function(e){var t=e.getProvider("app").getImmediate();if(e={app:t,appConfig:function(e){var t,n;if(!e||!e.options)throw MD("App Configuration Object");if(!e.name)throw MD("App Name");var r=e.options;try{for(var i=Zi(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw MD(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")},!FD())throw oD.create("unsupported-browser");return new(self&&"ServiceWorkerGlobalScope"in self?AD:jD)(e)}),"PUBLIC").setServiceProps(Q));var UD,qD="firebasestorage.googleapis.com",VD="storageBucket",BD=($i(zD,UD=Io),zD.prototype._codeEquals=function(e){return KD(e)===this.code},Object.defineProperty(zD.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),zD);function zD(e,t){return(e=UD.call(this,KD(e),"Firebase Storage: "+t+" ("+KD(e)+")")||this).customData={serverResponse:null},e._baseMessage=e.message,Object.setPrototypeOf(e,zD.prototype),e}function KD(e){return"storage/"+e}function WD(){return new BD("unknown","An unknown error occurred, please check the error payload for server response.")}function HD(){return new BD("canceled","User canceled the upload/download.")}function GD(){return new BD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function QD(e){return new BD("invalid-argument",e)}function $D(){return new BD("app-deleted","The Firebase app was deleted.")}function YD(e){return new BD("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function XD(e,t){return new BD("invalid-format","String does not match format '"+e+"': "+t)}function JD(e){throw new BD("internal-error","Internal error: "+e)}var ZD={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ej=function(e,t){this.data=e,this.contentType=t||null};function tj(e,t){switch(e){case ZD.RAW:return new ej(nj(t));case ZD.BASE64:case ZD.BASE64URL:return new ej(rj(e,t));case ZD.DATA_URL:return new ej(function(e){return(e=new oj(e)).base64?rj(ZD.BASE64,e.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw XD(ZD.DATA_URL,"Malformed data URL.")}return nj(t)}(e.rest)}(t),new oj(t).contentType)}throw WD()}function nj(e){for(var t=[],n=0;n<e.length;n++){var r,i,o=e.charCodeAt(n);o<=127?t.push(o):o<=2047?t.push(192|o>>6,128|63&o):55296==(64512&o)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=o,i=e.charCodeAt(++n),t.push(240|(o=65536|(1023&r)<<10|1023&i)>>18,128|o>>12&63,128|o>>6&63,128|63&o)):t.push(239,191,189):56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function rj(e,t){switch(e){case ZD.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw XD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ZD.BASE64URL:if(r=-1!==t.indexOf("+"),n=-1!==t.indexOf("/"),r||n)throw XD(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var i;try{i=atob(t)}catch(t){throw XD(e,"Invalid character found")}for(var o=new Uint8Array(i.length),a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return o}var ij,oj=function(e){var t;if(this.base64=!1,(this.contentType=null)===(t=e.match(/^data:([^,]+)?,/)))throw XD(ZD.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=t[1]||null;null!=r&&(this.base64=(n=";base64",(t=r).length>=n.length&&t.substring(t.length-n.length)===n),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)},aj={STATE_CHANGED:"state_changed"},sj={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function uj(e){switch(e){case"running":case"pausing":case"canceling":return sj.RUNNING;case"paused":return sj.PAUSED;case"success":return sj.SUCCESS;case"canceled":return sj.CANCELED;default:return sj.ERROR}}(G=ij=ij||{})[G.NO_ERROR=0]="NO_ERROR",G[G.NETWORK_ERROR=1]="NETWORK_ERROR",G[G.ABORT=2]="ABORT";var cj=(lj.prototype.send=function(e,t,n,r){if(this.sent_)throw JD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},lj.prototype.getErrorCode=function(){if(!this.sent_)throw JD("cannot .getErrorCode() before sending");return this.errorCode_},lj.prototype.getStatus=function(){if(!this.sent_)throw JD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},lj.prototype.getResponseText=function(){if(!this.sent_)throw JD("cannot .getResponseText() before sending");return this.xhr_.responseText},lj.prototype.abort=function(){this.xhr_.abort()},lj.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},lj.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},lj.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},lj);function lj(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ij.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=ij.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=ij.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}var hj=(fj.prototype.createConnection=function(){return new cj},fj);function fj(){}var dj=(Object.defineProperty(pj.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(pj.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),pj.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},pj.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},pj.makeFromBucketSpec=function(e,t){var n;try{n=pj.makeFromUrl(e,t)}catch(t){return new pj(e,"")}if(""===n.path)return n;throw new BD("invalid-default-bucket","Invalid default bucket '"+e+"'.")},pj.makeFromUrl=function(e,t){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var a=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+(t===qD?"(?:storage.googleapis.com|storage.cloud.google.com)":t)+"/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],u=0;u<s.length;u++){var c=s[u],l=c.regex.exec(e);if(l){n=new pj(l[c.indices.bucket],l[c.indices.path]||""),c.postModify(n);break}}if(null==n)throw new BD("invalid-url","Invalid URL '"+e+"'.");return n},pj);function pj(e,t){this.bucket=e,this.path_=t}var vj=(gj.prototype.getPromise=function(){return this.promise_},gj.prototype.cancel=function(e){},gj);function gj(e){this.promise_=Promise.reject(e)}function yj(e){return"string"==typeof e||e instanceof String}function mj(e){return bj()&&e instanceof Blob}function bj(){return"undefined"!=typeof Blob}function _j(e,t,n,r){if(r<t)throw QD("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(n<r)throw QD("Invalid value for '"+e+"'. Expected "+n+" or less.")}function wj(e,t){var n=t.match(/^(\w+):\/\/.+/);return(null==(null==n?void 0:n[1])?"https://"+t:t)+"/v0"+e}function Ej(e){var t,n=encodeURIComponent,r="?";for(t in e)e.hasOwnProperty(t)&&(r=r+(n(t)+"=")+n(e[t])+"&");return r.slice(0,-1)}var Tj=(Ij.prototype.start_=function(){var e,t,n,r,i,o,a,s,u,c=this;function l(e,t){var n,r=c.resolve_,i=c.reject_,o=t.connection;if(t.wasSuccessCode)try{var a=c.callback_(o,o.getResponseText());void 0!==a?r(a):r()}catch(e){i(e)}else null!==o?((n=WD()).serverResponse=o.getResponseText(),c.errorCallback_?i(c.errorCallback_(o,n)):i(n)):t.canceled?i(n=(c.appDelete_?$D:HD)()):i(n=new BD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}function h(){return 2===a}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];s||(s=!0,t.apply(null,e))}function d(t){i=setTimeout((function(){i=null,e(p,h())}),t)}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];s||(e||h()||o?f.call.apply(f,to([null,e],t)):(r<64&&(r*=2),d(1===a?(a=2,0):1e3*(r+Math.random()))))}function v(e){u||(u=!0,s||(null!==i?(e||(a=2),clearTimeout(i),d(0)):e||(a=1)))}this.canceled_?l(0,new Sj(!1,null,!0)):this.backoffId_=(e=function(e,t){var n;function r(e){var t=e.loaded;e=e.lengthComputable?e.total:-1,null!==c.progressCallback_&&c.progressCallback_(t,e)}t?e(!1,new Sj(!1,null,!0)):(n=c.pool_.createConnection(),c.pendingConnection_=n,null!==c.progressCallback_&&n.addUploadProgressListener(r),n.send(c.url_,c.method_,c.body_,c.headers_).then((function(){null!==c.progressCallback_&&n.removeUploadProgressListener(r),c.pendingConnection_=null;var t,i=n.getErrorCode()===ij.NO_ERROR,o=n.getStatus();i&&!c.isRetryStatusCode_(o)?(t=-1!==c.successCodes_.indexOf(o),e(!0,new Sj(t,n))):(t=n.getErrorCode()===ij.ABORT,e(!1,new Sj(!1,null,t)))})))},t=l,n=this.timeout_,i=null,u=s=o=!(r=1),d(a=0),setTimeout((function(){o=!0,v(!0)}),n),v)},Ij.prototype.getPromise=function(){return this.promise_},Ij.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},Ij.prototype.isRetryStatusCode_=function(e){var t=500<=e&&e<600,n=-1!==[408,429].indexOf(e);return e=-1!==this.additionalRetryCodes_.indexOf(e),t||n||e},Ij);function Ij(e,t,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}var Sj=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Cj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(bj())return new Blob(e);throw new BD("unsupported-environment","This browser doesn't seem to support creating Blobs")}var kj=(Oj.prototype.size=function(){return this.size_},Oj.prototype.type=function(){return this.type_},Oj.prototype.slice=function(e,t){if(mj(this.data_)){var n=this.data_;return null===(r=e,i=t,i=(n=n).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null)?null:new Oj(i)}var r,i;return new Oj(new Uint8Array(this.data_.buffer,e,t-e),!0)},Oj.getBlob=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(bj()){var n=e.map((function(e){return e instanceof Oj?e.data_:e}));return new Oj(Cj.apply(null,n))}n=e.map((function(e){return yj(e)?tj(ZD.RAW,e).data:e.data_}));var r=0;n.forEach((function(e){r+=e.byteLength}));var i=new Uint8Array(r),o=0;return n.forEach((function(e){for(var t=0;t<e.length;t++)i[o++]=e[t]})),new Oj(i,!0)},Oj.prototype.uploadData=function(){return this.data_},Oj);function Oj(e,t){var n=0,r="";mj(e)?(n=(this.data_=e).size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}function Pj(e){var t;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(e=t)||Array.isArray(e)?null:t}function xj(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Nj(e,t){return t}var Aj=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Nj},Rj=null;function Dj(){if(Rj)return Rj;var e=[];e.push(new Aj("bucket")),e.push(new Aj("generation")),e.push(new Aj("metageneration")),e.push(new Aj("name","fullPath",!0));var t=new Aj("name");return t.xform=function(e,t){return!yj(t=t)||t.length<2?t:xj(t)},e.push(t),(t=new Aj("size")).xform=function(e,t){return void 0!==t?Number(t):t},e.push(t),e.push(new Aj("timeCreated")),e.push(new Aj("updated")),e.push(new Aj("md5Hash",null,!0)),e.push(new Aj("cacheControl",null,!0)),e.push(new Aj("contentDisposition",null,!0)),e.push(new Aj("contentEncoding",null,!0)),e.push(new Aj("contentLanguage",null,!0)),e.push(new Aj("contentType",null,!0)),e.push(new Aj("metadata","customMetadata",!0)),Rj=e}function jj(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath;return r=new dj(n,r),t._makeStorageReference(r)}})}function Lj(e,t,n){return null===(t=Pj(t))?null:function(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return jj(r,e),r}(e,t,n)}function Mj(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}var Fj="prefixes",Uj="items";function qj(e,t,n){return null===(n=Pj(n))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Fj])for(var i=0,o=n[Fj];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new dj(t,a));r.prefixes.push(s)}if(n[Uj])for(var u=0,c=n[Uj];u<c.length;u++){var l=c[u];s=e._makeStorageReference(new dj(t,l.name)),r.items.push(s)}return r}(e,t,n)}var Vj=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Bj(e){if(!e)throw WD()}function zj(e,t){return function(n,r){return Bj(null!==(r=Lj(e,r,t))),r}}function Kj(e,t){return function(n,r){return Bj(null!==(r=qj(e,t,r))),r}}function Wj(e,t){return function(n,r){var i=Lj(e,r,t);return Bj(null!==i),function(e,t,n){if(null===(t=Pj(t)))return null;if(!yj(t.downloadTokens))return null;if(0===(t=t.downloadTokens).length)return null;var r=encodeURIComponent;return t.split(",").map((function(t){var i=e.bucket,o=e.fullPath;return wj("/b/"+r(i)+"/o/"+r(o),n)+Ej({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Hj(e){return function(t,n){var r,i=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new BD("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new BD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(r=e.bucket,new BD("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,new BD("unauthorized","User does not have permission to access '"+i+"'.")):n;return i.serverResponse=n.serverResponse,i}}function Gj(e){var t=Hj(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(n=e.path,i=new BD("object-not-found","Object '"+n+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Qj(e,t,n){var r=wj(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime;return(i=new Vj(r,"GET",zj(e,n),i)).errorHandler=Gj(t),i}function $j(e,t,n){return(n=Object.assign({},n)).fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=(e=t,(t=null)&&t.contentType||e&&e.type()||"application/octet-stream")),n}function Yj(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=$j(t,r,i);if(i="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Mj(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",null===(r=kj.getBlob(i,r,"\r\n--"+s+"--")))throw GD();return s={name:u.fullPath},u=wj(o,e.host),o=e.maxUploadRetryTime,(o=new Vj(u,"POST",zj(e,n),o)).urlParams=s,o.headers=a,o.body=r.uploadData(),o.errorHandler=Hj(t),o}var Xj=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Jj(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){Bj(!1)}return Bj(!!n&&-1!==(t||["active"]).indexOf(n)),n}function Zj(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=$j(t,r,i);return i={name:a.fullPath},o=wj(o,e.host),r={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},n=Mj(a,n),e=e.maxUploadRetryTime,e=new Vj(o,"POST",(function(e){var t;Jj(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){Bj(!1)}return Bj(yj(t)),t}),e),e.urlParams=i,e.headers=r,e.body=n,e.errorHandler=Hj(t),e}function eL(e,t,n,r){return e=e.maxUploadRetryTime,e=new Vj(n,"POST",(function(e){var t=Jj(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){Bj(!1)}return n||Bj(!1),n=Number(n),Bj(!isNaN(n)),new Xj(n,r.size(),"final"===t)}),e),e.headers={"X-Goog-Upload-Command":"query"},e.errorHandler=Hj(t),e}function tL(e,t,n,r,i,o,a,s){var u=new Xj(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new BD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;if(0<i&&(l=Math.min(l,i)),a=u.current,i={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},null===(c=r.slice(a,a+l)))throw GD();return a=t.maxUploadRetryTime,a=new Vj(n,"POST",(function(e,n){var i=Jj(e,["active","final"]),a=u.current+l,s=r.size();return n="final"===i?zj(t,o)(e,n):null,new Xj(a,s,"final"===i,n)}),a),a.headers=i,a.body=c.uploadData(),a.progressCallback=s||null,a.errorHandler=Hj(e),a}var nL=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(this.next=(e=e).next,this.error=e.error,this.complete=e.complete)};function rL(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var iL=(oL.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},oL.prototype._shouldDoResumable=function(e){return 262144<e.size()},oL.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},oL.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},oL.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=Zj(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},oL.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=eL(e._ref.storage,e._ref._location,t,e._blob);r=e._ref.storage._makeRequest(i,n,r),(e._request=r).getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},oL.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new Xj(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=tL(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(i){return e._error=i,void e._transition("error")}o=e._ref.storage._makeRequest(a,i,o),(e._request=o).getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},oL.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},oL.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Qj(e._ref.storage,e._ref._location,e._mappings);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},oL.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=Yj(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata);n=e._ref.storage._makeRequest(r,t,n),(e._request=n).getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},oL.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},oL.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=HD(),this._state=e,this._notifyObservers()}},oL.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(oL.prototype,"snapshot",{get:function(){var e=uj(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),oL.prototype.on=function(e,t,n,r){var i=this,o=new nL(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},oL.prototype.then=function(e,t){return this._promise.then(e,t)},oL.prototype.catch=function(e){return this.then(null,e)},oL.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},oL.prototype._removeObserver=function(e){-1!==(e=this._observers.indexOf(e))&&this._observers.splice(e,1)},oL.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},oL.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(uj(this._state)){case sj.SUCCESS:rL(this._resolve.bind(null,this.snapshot))();break;case sj.CANCELED:case sj.ERROR:rL(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},oL.prototype._notifyObserver=function(e){switch(uj(this._state)){case sj.RUNNING:case sj.PAUSED:e.next&&rL(e.next.bind(e,this.snapshot))();break;case sj.SUCCESS:e.complete&&rL(e.complete.bind(e))();break;case sj.CANCELED:case sj.ERROR:default:e.error&&rL(e.error.bind(e,this._error))()}},oL.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},oL.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},oL.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},oL);function oL(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Dj(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}var aL=(sL.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},sL.prototype._newRef=function(e,t){return new sL(e,t)},Object.defineProperty(sL.prototype,"root",{get:function(){var e=new dj(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"name",{get:function(){return xj(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(sL.prototype,"parent",{get:function(){var e=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);return null===e?null:(e=new dj(this._location.bucket,e),new sL(this._service,e))},enumerable:!1,configurable:!0}),sL.prototype._throwIfRoot=function(e){if(""===this._location.path)throw YD(e)},sL);function sL(e,t){this._service=e,this._location=t instanceof dj?t:dj.makeFromUrl(t,e.host)}function uL(e){var t={prefixes:[],items:[]};return function e(t,n,r){return Xi(this,void 0,void 0,(function(){var i,o;return Ji(this,(function(a){switch(a.label){case 0:return[4,cL(t,{pageToken:r})];case 1:return i=a.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(o=n.items).push.apply(o,i.items),null==i.nextPageToken?[3,3]:[4,e(t,n,i.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}(e,t).then((function(){return t}))}function cL(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return null!=t&&"number"==typeof t.maxResults&&_j("options.maxResults",1,1e3,t.maxResults),n=t||{},i=e.storage,o=e._location,a="/",s=n.pageToken,u=n.maxResults,c={},o.isRoot?c.prefix="":c.prefix=o.path+"/",a&&0<a.length&&(c.delimiter=a),s&&(c.pageToken=s),u&&(c.maxResults=u),s=wj(o.bucketOnlyServerUrl(),i.host),u=i.maxOperationRetryTime,(u=new Vj(s,"GET",Kj(i,o.bucket),u)).urlParams=c,u.errorHandler=Hj(o),[4,e.storage.makeRequestWithTokens(u)];case 1:return[2,r.sent().getPromise()]}var i,o,a,s,u,c}))}))}function lL(e,t){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("updateMetadata"),r=e.storage,i=e._location,o=t,a=Dj(),s=wj(i.fullServerUrl(),r.host),u=Mj(o,a),o=r.maxOperationRetryTime,(o=new Vj(s,"PATCH",zj(r,a),o)).headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=Gj(i),[4,e.storage.makeRequestWithTokens(o)];case 1:return[2,n.sent().getPromise()]}var r,i,o,a,s,u}))}))}function hL(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("getDownloadURL"),n=e.storage,r=e._location,i=Dj(),o=wj(r.fullServerUrl(),n.host),a=n.maxOperationRetryTime,(a=new Vj(o,"GET",Wj(n,i),a)).errorHandler=Gj(r),[4,e.storage.makeRequestWithTokens(a)];case 1:return[2,t.sent().getPromise().then((function(e){if(null===e)throw new BD("no-download-url","The given file does not have any download URLs.");return e}))]}var n,r,i,o,a}))}))}function fL(e){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(t){switch(t.label){case 0:return e._throwIfRoot("deleteObject"),n=e.storage,i=wj((r=e._location).fullServerUrl(),n.host),n=n.maxOperationRetryTime,(n=new Vj(i,"DELETE",(function(e,t){}),n)).successCodes=[200,204],n.errorHandler=Gj(r),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,t.sent().getPromise()]}var n,r,i}))}))}function dL(e,t){var n;return n=e._location.path,t=(t=t).split("/").filter((function(e){return 0<e.length})).join("/"),t=0===n.length?t:n+"/"+t,t=new dj(e._location.bucket,t),new aL(e.storage,t)}function pL(e){return/^[A-Za-z]+:\/\//.test(e)}function vL(e,t){if(e instanceof mL){var n=e;if(null==n._bucket)throw new BD("no-default-bucket","No default bucket found. Did you set the '"+VD+"' property when initializing the app?");return n=new aL(n,n._bucket),null!=t?vL(n,t):n}if(void 0===t)return e;if(t.includes(".."))throw QD('`path` param cannot contain ".."');return dL(e,t)}function gL(e,t){if(t&&pL(t)){if(e instanceof mL)return new aL(e,t);throw QD("To use ref(service, url), the first argument must be a Storage instance.")}return vL(e,t)}function yL(e,t){return null==(t=null==t?void 0:t[VD])?null:dj.makeFromBucketSpec(t,e)}var mL=(Object.defineProperty(bL.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=dj.makeFromBucketSpec(this._url,e):this._bucket=yL(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(bL.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){_j("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(bL.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){_j("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),bL.prototype._getAuthToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(e=t.sent()))return[2,e.accessToken];t.label=2;case 2:return[2,null]}}))}))},bL.prototype._getAppCheckToken=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},bL.prototype._delete=function(){return this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear(),Promise.resolve()},bL.prototype._makeStorageReference=function(e){return new aL(this,e)},bL.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new vj($D());var i,o,a,s,u,c,l=(i=e,o=this._appId,a=t,s=n,u=this._pool,c=this._firebaseVersion,e=Ej(i.urlParams),t=i.url+e,e=n=Object.assign({},i.headers),(o=o)&&(e["X-Firebase-GMPID"]=o),o=n,null!==(a=a)&&0<a.length&&(o.Authorization="Firebase "+a),c=c,n["X-Firebase-Storage-Version"]="webjs/"+(null!=c?c:"AppManager"),c=n,null!==(s=s)&&(c["X-Firebase-AppCheck"]=s),new Tj(t,i.method,n,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,u));return this._requests.add(l),l.getPromise().then((function(){return r._requests.delete(l)}),(function(){return r._requests.delete(l)})),l},bL.prototype.makeRequestWithTokens=function(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=r.sent(),t=n[0],n=n[1],[2,this._makeRequest(e,t,n)]}}))}))},bL);function bL(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=qD,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?dj.makeFromBucketSpec(i,this._host):yL(this._host,this.app.options)}function _L(e,t,n){return t=t,n=n,(e=e=ea(e))._throwIfRoot("uploadBytesResumable"),new iL(e,new kj(t),n)}function wL(e){return function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Qj(e.storage,e._location,Dj()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=ea(e))}function EL(e,t){return gL(e=ea(e),t)}var TL=(Object.defineProperty(IL.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(IL.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(IL.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(IL.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),IL);function IL(e,t,n){this._delegate=e,this.task=t,this.ref=n}var SL=(Object.defineProperty(CL.prototype,"snapshot",{get:function(){return new TL(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),CL.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new TL(t,n,n._ref))}),t)},CL.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"==typeof t?function(e){return t(new TL(e,i,i._ref))}:{next:t.next?function(e){return t.next(new TL(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},CL);function CL(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}var kL=(Object.defineProperty(OL.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new PL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(OL.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new PL(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(OL.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),OL);function OL(e,t){this._delegate=e,this._service=t}var PL=(Object.defineProperty(xL.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(xL.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(xL.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),xL.prototype.toString=function(){return this._delegate.toString()},xL.prototype.child=function(e){return new xL(dL(this._delegate,e),this.storage)},Object.defineProperty(xL.prototype,"root",{get:function(){return new xL(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(xL.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new xL(e,this.storage)},enumerable:!1,configurable:!0}),xL.prototype.put=function(e,t){return this._throwIfRoot("put"),new SL(_L(this._delegate,e,t),this)},xL.prototype.putString=function(e,t,n){return void 0===t&&(t=ZD.RAW),this._throwIfRoot("putString"),e=tj(t,e),null==(n=Yi({},n)).contentType&&null!=e.contentType&&(n.contentType=e.contentType),new SL(new iL(this._delegate,new kj(e.data,!0),n),this)},xL.prototype.listAll=function(){var e=this;return uL(ea(this._delegate)).then((function(t){return new kL(t,e.storage)}))},xL.prototype.list=function(e){var t=this;return e=e||void 0,cL(ea(this._delegate),e).then((function(e){return new kL(e,t.storage)}))},xL.prototype.getMetadata=function(){return wL(this._delegate)},xL.prototype.updateMetadata=function(e){return lL(ea(this._delegate),e)},xL.prototype.getDownloadURL=function(){return hL(ea(this._delegate))},xL.prototype.delete=function(){return this._throwIfRoot("delete"),fL(ea(this._delegate))},xL.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw YD(e)},xL);function xL(e,t){this._delegate=e,this.storage=t}var NL,AL,RL=(Object.defineProperty(DL.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(DL.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),DL.prototype.ref=function(e){if(pL(e))throw QD("ref() expected a child path but got a URL, use refFromURL instead.");return new PL(EL(this._delegate,e),this)},DL.prototype.refFromURL=function(e){if(!pL(e))throw QD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{dj.makeFromUrl(e,this._delegate.host)}catch(e){throw QD("refFromUrl() expected a valid full URL but got an invalid one.")}return new PL(EL(this._delegate,e),this)},DL.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},DL.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},DL.prototype.useEmulator=function(e,t){this._delegate.host="http://"+e+":"+t},DL);function DL(e,t){var n=this;this.app=e,this._delegate=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}function jL(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return t=e.getProvider("auth-internal"),e=e.getProvider("app-check-internal"),new RL(r,new mL(r,t,e,new hj,n,Aa.SDK_VERSION))}AL={TaskState:sj,TaskEvent:aj,StringFormat:ZD,Storage:mL,Reference:PL},(NL=Aa).INTERNAL.registerComponent(new ta("storage",jL,"PUBLIC").setServiceProps(AL).setMultipleInstances(!0)),NL.registerVersion("@firebase/storage","0.5.6");var LL,ML,FL="0.4.16",UL="FB-PERF-TRACE-MEASURE",qL="@firebase/performance/config",VL="@firebase/performance/configexpire",BL=(Q="Performance",(G={})["trace started"]="Trace {$traceName} was started before.",G["trace stopped"]="Trace {$traceName} is not running.",G["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",G["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",G["no window"]="Window is not available.",G["no app id"]="App id is not available.",G["no project id"]="Project id is not available.",G["no api key"]="Api key is not available.",G["invalid cc log"]="Attempted to queue invalid cc event",G["FB not default"]="Performance can only start when Firebase app instance is the default one.",G["RC response not ok"]="RC response is not ok",G["invalid attribute name"]="Attribute name {$attributeName} is invalid.",G["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",G["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",G["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",new Co("performance",Q,G=G)),zL=new pa(Q);zL.logLevel=ua.INFO;var KL,WL=(HL.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},HL.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},HL.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},HL.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},HL.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},HL.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},HL.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!bo()||(zL.info("IndexedDB is not supported by current browswer"),!1):(zL.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},HL.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}})).observe({entryTypes:[e]})},HL.getInstance=function(){return LL=void 0===LL?new HL(ML):LL},HL);function HL(e){if(!(this.window=e))throw BL.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}function GL(e,t){var n=e.length-t.length;if(n<0||1<n)throw BL.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var QL,$L,YL=(XL.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw BL.create("no app id");return e},XL.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw BL.create("no project id");return e},XL.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw BL.create("no api key");return e},XL.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},XL.getInstance=function(){return KL=void 0===KL?new XL:KL},XL);function XL(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=GL("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=GL("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}(Q=$L=$L||{})[Q.UNKNOWN=0]="UNKNOWN",Q[Q.VISIBLE=1]="VISIBLE",Q[Q.HIDDEN=2]="HIDDEN";var JL=["firebase_","google_","ga_"],ZL=new RegExp("^[a-zA-Z]\\w*$");function eM(){switch(WL.getInstance().document.visibilityState){case"visible":return $L.VISIBLE;case"hidden":return $L.HIDDEN;default:return $L.UNKNOWN}}var tM="0.0.1",nM={loggingEnabled:!0},rM="FIREBASE_INSTALLATIONS_AUTH";function iM(e){var t,n=function(){var e=WL.getInstance().localStorage;if(e){var t=e.getItem(VL);if(t&&function(e){return Number(e)>Date.now()}(t)&&(e=e.getItem(qL)))try{return JSON.parse(e)}catch(e){return}}}();return n?(aM(n),Promise.resolve()):(t=e,function(){var e=YL.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+YL.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+YL.getInstance().getApiKey();return e=new Request(n,{method:"POST",headers:{Authorization:rM+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:YL.getInstance().getAppId(),app_version:FL,sdk_version:tM})}),fetch(e).then((function(e){if(e.ok)return e.json();throw BL.create("RC response not ok")}))})).catch((function(){zL.info(oM)})).then(aM).then((function(e){var t;t=e,e=WL.getInstance().localStorage,t&&e&&(e.setItem(qL,JSON.stringify(t)),e.setItem(VL,String(Date.now()+60*YL.getInstance().configTimeToLive*60*1e3)))}),(function(){})))}var oM="Could not fetch config, will use default configs";function aM(e){if(!e)return e;var t=YL.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=nM.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=sM(t.tracesSamplingRate),t.logNetworkAfterSampling=sM(t.networkRequestsSamplingRate),e}function sM(e){return Math.random()<=e}var uM,cM=1;function lM(){return cM=2,uM=uM||function(){var e=WL.getInstance().document;return new Promise((function(t){var n;e&&"complete"!==e.readyState?(n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())},e.addEventListener("readystatechange",n)):t()}))}().then((function(){return(e=YL.getInstance().installationsService.getId()).then((function(e){QL=e})),e;var e})).then(iM).then(hM,hM)}function hM(){cM=3}var fM,dM=1e4,pM=5500,vM=3,gM=1e3,yM=vM,mM=[],bM=!1;function _M(e){setTimeout((function(){var e,t;if(0!==yM)return mM.length?(t=(e=mM.splice(0,gM)).map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}})),void function(e,t){return function(e){var t=YL.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||zL.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=dM;isNaN(n)||(r=Math.max(n,r)),e=e.logResponseDetails,Array.isArray(e)&&0<e.length&&"RETRY_REQUEST_LATER"===e[0].responseAction&&(mM=to(to([],t),mM),zL.info("Retry transport request later.")),yM=vM,_M(r)}))}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:YL.getInstance().logSource,log_event:t},e).catch((function(){mM=to(to([],e),mM),yM--,zL.info("Tries left: "+yM+"."),_M(dM)}))):_M(dM)}),e)}function wM(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];!function(e){if(!e.eventTime||!e.message)throw BL.create("invalid cc log");mM=to(to([],mM),[e])}({message:e.apply(void 0,t),eventTime:Date.now()})}}function EM(e,t){(fM=fM||wM(SM))(e,t)}function TM(e){var t=YL.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&WL.getInstance().requiredApisAvailable()&&(e.isAuto&&eM()!==$L.VISIBLE||(3===cM?IM(e):lM().then((function(){return IM(e)}),(function(){return IM(e)}))))}function IM(e){var t;!QL||(t=YL.getInstance()).loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return EM(e,1)}),0)}function SM(e,t){return(0===t?function(e){return e={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},e={application_info:CM(),network_request_metric:e},JSON.stringify(e)}:function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};return 0!==Object.keys(e.counters).length&&(t.counters=e.counters),e=e.getAttributes(),0!==Object.keys(e).length&&(t.custom_attributes=e),t={application_info:CM(),trace_metric:t},JSON.stringify(t)})(e)}function CM(){return{google_app_id:YL.getInstance().getAppId(),app_instance_id:QL,web_app_info:{sdk_version:FL,page_url:WL.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=WL.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:eM(),effective_connection_type:function(){var e=WL.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var e}var kM=["_fp","_fcp","_fid"],OM=(PM.prototype.start=function(){if(1!==this.state)throw BL.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},PM.prototype.stop=function(){if(2!==this.state)throw BL.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),TM(this)},PM.prototype.record=function(e,t,n){if(e<=0)throw BL.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw BL.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=Yi({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}TM(this)},PM.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},PM.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||100<n.length||!(r&&r.startsWith("_wt_")&&-1<kM.indexOf(n))&&n.startsWith("_"))throw BL.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=(e=t,(t=Math.floor(e))<e&&zL.info("Metric value should be an Integer, setting the value as : "+t+"."),t)},PM.prototype.getMetric=function(e){return this.counters[e]||0},PM.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||40<n.length)&&!JL.some((function(e){return n.startsWith(e)}))&&!!n.match(ZL),i=0!==(i=t).length&&i.length<=100;if(r&&i)this.customAttributes[e]=t;else{if(!r)throw BL.create("invalid attribute name",{attributeName:e});if(!i)throw BL.create("invalid attribute value",{attributeValue:t})}},PM.prototype.getAttribute=function(e){return this.customAttributes[e]},PM.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},PM.prototype.getAttributes=function(){return Yi({},this.customAttributes)},PM.prototype.setStartTime=function(e){this.startTimeUs=e},PM.prototype.setDuration=function(e){this.durationUs=e},PM.prototype.calculateTraceMetrics=function(){var e;(e=(e=this.api.getEntriesByName(this.traceMeasure))&&e[0])&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},PM.createOobTrace=function(e,t,n){var r,i=WL.getInstance().getUrl();i&&(r=new PM("_wt_"+i,!0),i=Math.floor(1e3*WL.getInstance().getTimeOrigin()),r.setStartTime(i),e&&e[0]&&(r.setDuration(Math.floor(1e3*e[0].duration)),r.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),r.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),r.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),t&&((e=t.find((function(e){return"first-paint"===e.name})))&&e.startTime&&r.putMetric("_fp",Math.floor(1e3*e.startTime)),(t=t.find((function(e){return"first-contentful-paint"===e.name})))&&t.startTime&&r.putMetric("_fcp",Math.floor(1e3*t.startTime)),n&&r.putMetric("_fid",Math.floor(1e3*n))),TM(r))},PM.createUserTimingTrace=function(e){TM(new PM(e,!1,e))},PM);function PM(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=WL.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||UL+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}function xM(e){var t,n,r,i=e;i&&void 0!==i.responseStart&&(n=WL.getInstance().getTimeOrigin(),r=Math.floor(1e3*(i.startTime+n)),e=i.responseStart?Math.floor(1e3*(i.responseStart-i.startTime)):void 0,n=Math.floor(1e3*(i.responseEnd-i.startTime)),i={url:i.name&&i.name.split("?")[0],responsePayloadBytes:i.transferSize,startTimeUs:r,timeToResponseInitiatedUs:e,timeToResponseCompletedUs:n},t=i,(r=YL.getInstance()).instrumentationEnabled&&(e=t.url,n=r.logEndPointUrl.split("?")[0],i=r.flTransportEndpointUrl.split("?")[0],e!==n&&e!==i&&r.loggingEnabled&&r.logNetworkAfterSampling&&setTimeout((function(){return EM(t,0)}),0)))}var NM=5e3;function AM(){QL&&(setTimeout((function(){var e,t=WL.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");t.onFirstInputDelay?(e=setTimeout((function(){OM.createOobTrace(n,r),e=void 0}),NM),t.onFirstInputDelay((function(t){e&&(clearTimeout(e),OM.createOobTrace(n,r,t))}))):OM.createOobTrace(n,r)}),0),setTimeout((function(){for(var e=WL.getInstance(),t=0,n=e.getEntriesByType("resource");t<n.length;t++)xM(n[t]);e.setupObserver("resource",xM)}),0),setTimeout((function(){for(var e=WL.getInstance(),t=0,n=e.getEntriesByType("measure");t<n.length;t++)RM(n[t]);e.setupObserver("measure",RM)}),0))}function RM(e){(e=e.name).substring(0,UL.length)!==UL&&OM.createUserTimingTrace(e)}var DM,jM=(LM.prototype.trace=function(e){return new OM(e)},Object.defineProperty(LM.prototype,"instrumentationEnabled",{get:function(){return YL.getInstance().instrumentationEnabled},set:function(e){YL.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(LM.prototype,"dataCollectionEnabled",{get:function(){return YL.getInstance().dataCollectionEnabled},set:function(e){YL.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),LM);function LM(e){this.app=e,WL.getInstance().requiredApisAvailable()&&_o().then((function(e){e&&(bM||(_M(pM),bM=!0),lM().then(AM,AM))})).catch((function(e){zL.info("Environment doesn't support IndexedDB: "+e)}))}function MM(e,t){if("[DEFAULT]"!==e.name)throw BL.create("FB not default");if("undefined"==typeof window)throw BL.create("no window");return ML=window,YL.getInstance().firebaseAppInstance=e,YL.getInstance().installationsService=t,new jM(e)}(DM=Aa).INTERNAL.registerComponent(new ta("performance",(function(e){return MM(e.getProvider("app").getImmediate(),e=e.getProvider("installations").getImmediate())}),"PUBLIC")),DM.registerVersion("@firebase/performance","0.4.16");var FM,UM,qM="firebase_id",VM="origin",BM=6e4,zM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KM="https://www.googletagmanager.com/gtag/js";(Q=FM=FM||{}).EVENT="event",Q.SET="set",Q.CONFIG="config",(Q=UM=UM||{}).ADD_SHIPPING_INFO="add_shipping_info",Q.ADD_PAYMENT_INFO="add_payment_info",Q.ADD_TO_CART="add_to_cart",Q.ADD_TO_WISHLIST="add_to_wishlist",Q.BEGIN_CHECKOUT="begin_checkout",Q.CHECKOUT_PROGRESS="checkout_progress",Q.EXCEPTION="exception",Q.GENERATE_LEAD="generate_lead",Q.LOGIN="login",Q.PAGE_VIEW="page_view",Q.PURCHASE="purchase",Q.REFUND="refund",Q.REMOVE_FROM_CART="remove_from_cart",Q.SCREEN_VIEW="screen_view",Q.SEARCH="search",Q.SELECT_CONTENT="select_content",Q.SELECT_ITEM="select_item",Q.SELECT_PROMOTION="select_promotion",Q.SET_CHECKOUT_OPTION="set_checkout_option",Q.SHARE="share",Q.SIGN_UP="sign_up",Q.TIMING_COMPLETE="timing_complete",Q.VIEW_CART="view_cart",Q.VIEW_ITEM="view_item",Q.VIEW_ITEM_LIST="view_item_list",Q.VIEW_PROMOTION="view_promotion",Q.VIEW_SEARCH_RESULTS="view_search_results";var WM=new pa("@firebase/analytics");function HM(e,t,n,r){return function(i,o,a){return Xi(this,void 0,void 0,(function(){var s;return Ji(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==FM.EVENT?[3,2]:[4,function(e,t,n,r,i){return Xi(this,void 0,void 0,(function(){var o,a,s,u,c,l,h;return Ji(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(h=i.send_to,Array.isArray(h)||(h=[h]),[4,Promise.all(n)]):[3,2];case 1:for(a=f.sent(),s=function(e){var n;if(!(n=(n=a.find((function(t){return t.measurementId===e})))&&t[n.appId]))return o=[],"break";o.push(n)},u=0,c=h;u<c.length&&(l=c[u],"break"!==s(l));u++);f.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return f.sent(),e(FM.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),WM.error(h),[3,5];case 5:return[2]}}))}))}(e,t,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==FM.CONFIG?[3,4]:[4,function(e,t,n,r,i,o){return Xi(this,void 0,void 0,(function(){var a,s;return Ji(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return(s=(s=u.sent()).find((function(e){return e.measurementId===i})))?[4,t[s.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return s=u.sent(),WM.error(s),[3,8];case 8:return e(FM.CONFIG,i,o),[2]}}))}))}(e,t,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:e(FM.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),WM.error(s),[3,7];case 7:return[2]}}))}))}}(Q={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",Q["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",Q["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",Q["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Q["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",Q["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",Q["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",Q["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',Q["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.';var GM=new Co("analytics","Analytics",Q=Q),QM=30;function $M(e,t){void 0===t&&(t=1e3),this.throttleMetadata=e=void 0===e?{}:e,this.intervalMillis=t}var YM=new($M.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},$M.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},$M.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},$M);function XM(e){var t;return Xi(this,void 0,void 0,(function(){var n,r,i,o;return Ji(this,(function(a){switch(a.label){case 0:return n=e.appId,o=e.apiKey,o={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":o})},n=zM.replace("{app-id}",n),[4,fetch(n,o)];case 1:if(200===(r=a.sent()).status||304===r.status)return[3,6];i="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,r.json()];case 3:return o=a.sent(),null!==(t=o.error)&&void 0!==t&&t.message&&(i=o.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw GM.create("config-fetch-failed",{httpStatus:r.status,responseMessage:i});case 6:return[2,r.json()]}}))}))}function JM(e,t,n){return void 0===t&&(t=YM),Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u=this;return Ji(this,(function(c){if(a=e.options,r=a.appId,i=a.apiKey,o=a.measurementId,!r)throw GM.create("no-app-id");if(i)return a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new tF,setTimeout((function(){return Xi(u,void 0,void 0,(function(){return Ji(this,(function(e){return s.abort(),[2]}))}))}),void 0!==n?n:BM),[2,function e(t,n,r,i){var o=n.throttleEndTimeMillis,a=n.backoffCount;return void 0===i&&(i=YM),Xi(this,void 0,void 0,(function(){var n,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:n=t.appId,s=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,ZM(r,o)];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),s)return WM.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:s}];throw c;case 4:return h.trys.push([4,6,,7]),[4,XM(t)];case 5:return l=h.sent(),i.deleteThrottleMetadata(n),[2,l];case 6:if(eF(u=h.sent()))return c=503===Number(u.customData.httpStatus)?Zo(a,i.intervalMillis,QM):Zo(a,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+c,backoffCount:a+1},i.setThrottleMetadata(n,l),WM.debug("Calling attemptFetch again in "+c+" millis"),[2,e(t,l,r,i)];if(i.deleteThrottleMetadata(n),s)return WM.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:n,measurementId:s}];throw u;case 7:return[2]}}))}))}({appId:r,apiKey:i,measurementId:o},a,s,t)];if(o)return[2,{measurementId:o,appId:r}];throw GM.create("no-api-key")}))}))}function ZM(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(GM.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function eF(e){if(e instanceof Io&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}var tF=(nF.prototype.addEventListener=function(e){this.listeners.push(e)},nF.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},nF);function nF(){this.listeners=[]}function rF(e,t,n,r,i,o){return Xi(this,void 0,void 0,(function(){var a,s,u;return Ji(this,(function(c){switch(c.label){case 0:return(a=JM(e)).then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&WM.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return WM.error(e)})),t.push(a),s=function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:return bo()?[3,1]:(WM.warn(GM.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,_o()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),WM.warn(GM.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){if(e)return r.getId()})),[4,Promise.all([a,s])];case 1:return u=c.sent(),a=u[0],s=u[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(KM))return r}}()||(l=o,h=a.measurementId,(f=document.createElement("script")).src=KM+"?l="+l+"&id="+h,f.async=!0,document.head.appendChild(f)),i("js",new Date),(u={})[VM]="firebase",u.update=!0,u=u,null!=s&&(u[qM]=s),i(FM.CONFIG,a.measurementId,u),[2,a.measurementId]}var l,h,f}))}))}var iF,oF,aF={},sF=[],uF={},cF="dataLayer",lF="gtag",hF=!1;function fF(e){if(hF)throw GM.create("already-initialized");e.dataLayerName&&(cF=e.dataLayerName),e.gtagName&&(lF=e.gtagName)}function dF(e,t){i=[],go()&&i.push("This is a browser extension environment."),wo()||i.push("Cookies are not available."),0<i.length&&(i=i.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),i=GM.create("invalid-analytics-context",{errorInfo:i}),WM.warn(i.message));var n,r,i,o=e.options.appId;if(!o)throw GM.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw GM.create("no-api-key");WM.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=aF[o])throw GM.create("already-exists",{id:o});return hF||(r=cF,i=[],Array.isArray(window[r])?i=window[r]:window[r]=i,n=cF,r=lF,i=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[n].push(arguments)},window[r]&&"function"==typeof window[r]&&(i=window[r]),window[r]=HM(i,aF,sF,uF),r={gtagCore:i,wrappedGtag:window[r]},oF=r.wrappedGtag,iF=r.gtagCore,hF=!0),aF[o]=rF(e,sF,uF,t,iF,cF),{app:e,logEvent:function(e,t,n){(function(e,t,n,r,i){return Xi(this,void 0,void 0,(function(){var o;return Ji(this,(function(a){switch(a.label){case 0:return i&&i.global?(e(FM.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=a.sent(),o=Yi(Yi({},r),{send_to:o}),e(FM.EVENT,n,o),a.label=3;case 3:return[2]}}))}))})(oF,aF[o],e,t,n).catch((function(e){return WM.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i;return Ji(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(FM.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(FM.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(oF,aF[o],e,t).catch((function(e){return WM.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i;return Ji(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(FM.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(FM.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(oF,aF[o],e,t).catch((function(e){return WM.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return Xi(this,void 0,void 0,(function(){var i,o,a,s,u;return Ji(this,(function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return e(FM.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:u=c.sent(),e(FM.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}}))}))})(oF,aF[o],e,t).catch((function(e){return WM.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return Xi(this,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(aF[o],e).catch((function(e){return WM.error(e)}))},INTERNAL:{delete:function(){return delete aF[o],Promise.resolve()}}}}var pF,vF="analytics";function gF(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:if(go())return[2,!1];if(!wo())return[2,!1];if(!bo())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,_o()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}(pF=Aa).INTERNAL.registerComponent(new ta(vF,(function(e){return dF(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:fF,EventName:UM,isSupported:gF})),pF.INTERNAL.registerComponent(new ta("analytics-internal",(function(e){try{return{logEvent:e.getProvider(vF).getImmediate().logEvent}}catch(e){throw GM.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),pF.registerVersion("@firebase/analytics","0.6.14");var yF=(mF.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t;return t=n<=e,this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+t+"."),t},mF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return r=i.sent(),t=r[0],(r=r[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,t)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return n=i.sent(),r=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===n.status&&r.push(this.storage.setLastSuccessfulFetchResponse(n)),[4,Promise.all(r)];case 3:return i.sent(),[2,n]}}))}))},mF);function mF(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}(Q={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Q["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Q["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Q["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Q["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Q["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Q["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Q["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Q["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Q["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Q["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Q["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Q["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.";var bF=new Co("remoteconfig","Remote Config",Q=Q),_F=(wF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,c,l;return Ji(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:i=h.sent(),t=i[0],r=i[1],n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",i=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},r={sdk_version:this.sdkVersion,app_instance_id:t,app_instance_id_token:r,app_id:this.appId,language_code:(f=void 0===f?navigator:f).languages&&f.languages[0]||f.language},r={method:"POST",headers:n,body:JSON.stringify(r)},i=fetch(i,r),r=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([i,r])];case 3:return h.sent(),[4,i];case 4:return l=h.sent(),[3,6];case 5:throw r=h.sent(),i="fetch-client-network","AbortError"===r.name&&(i="fetch-timeout"),bF.create(i,{originalErrorMessage:r.message});case 6:if(o=l.status,a=l.headers.get("ETag")||void 0,200!==l.status)return[3,11];c=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,l.json()];case 8:return c=h.sent(),[3,10];case 9:throw l=h.sent(),bF.create("fetch-client-parse",{originalErrorMessage:l.message});case 10:s=c.entries,u=c.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===u?o=500:"NO_CHANGE"===u?o=304:"NO_TEMPLATE"!==u&&"EMPTY_CONFIG"!==u||(s={}),304!==o&&200!==o)throw bF.create("fetch-status",{httpStatus:o});return[2,{status:o,eTag:a,config:s}]}var f}))}))},wF);function wF(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}var EF=(TF.prototype.addEventListener=function(e){this.listeners.push(e)},TF.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},TF);function TF(){this.listeners=[]}var IF=["1","true","t","yes","y","on"],SF=(CF.prototype.asString=function(){return this._value},CF.prototype.asBoolean=function(){return"static"!==this._source&&0<=IF.indexOf(this._value.toLowerCase())},CF.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)?0:e},CF.prototype.getSource=function(){return this._source},CF);function CF(e,t){void 0===t&&(t=""),this._source=e,this._value=t}var kF=(OF.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=ua.DEBUG;break;case"silent":this._logger.logLevel=ua.SILENT;break;default:this._logger.logLevel=ua.ERROR}},Object.defineProperty(OF.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(OF.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),OF.prototype.activate=function(){return Xi(this,void 0,void 0,(function(){var e,t;return Ji(this,(function(n){switch(n.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=n.sent(),e=t[0],t=t[1],e&&e.config&&e.eTag&&e.eTag!==t?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return n.sent(),[2,!0]}}))}))},OF.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},OF.prototype.fetch=function(){return Xi(this,void 0,void 0,(function(){var e,t,n,r=this;return Ji(this,(function(i){switch(i.label){case 0:e=new EF,setTimeout((function(){return Xi(r,void 0,void 0,(function(){return Ji(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return t=i.sent(),a="fetch-throttle",n=(o=t)instanceof Io&&-1!==o.code.indexOf(a)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),t;case 6:return[2]}var o,a}))}))},OF.prototype.fetchAndActivate=function(){return Xi(this,void 0,void 0,(function(){return Ji(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},OF.prototype.getAll=function(){var e=this;return function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(Yi(Yi({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},OF.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},OF.prototype.getNumber=function(e){return this.getValue(e).asNumber()},OF.prototype.getString=function(e){return this.getValue(e).asString()},OF.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new SF("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new SF("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new SF("static"))},OF);function OF(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}function PF(e,t){return e=e.target.error||void 0,bF.create(t,{originalErrorMessage:e&&e.message})}var xF="app_namespace_store",NF="firebase_remote_config",AF=1,RF=(DF.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},DF.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},DF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},DF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},DF.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},DF.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},DF.prototype.getActiveConfig=function(){return this.get("active_config")},DF.prototype.setActiveConfig=function(e){return this.set("active_config",e)},DF.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},DF.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},DF.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},DF.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},DF.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},DF.prototype.get=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([xF],"readonly").objectStore(xF),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(PF(e,"storage-get"))},s.onsuccess=function(e){e=e.target.result,r(e?e.value:void 0)}}catch(o){i(bF.create("storage-get",{originalErrorMessage:o&&o.message}))}}))]}}))}))},DF.prototype.set=function(e,t){return Xi(this,void 0,void 0,(function(){var n,r=this;return Ji(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([xF],"readwrite").objectStore(xF),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(PF(e,"storage-set"))},u.onsuccess=function(){i()}}catch(i){o(bF.create("storage-set",{originalErrorMessage:i&&i.message}))}}))]}}))}))},DF.prototype.delete=function(e){return Xi(this,void 0,void 0,(function(){var t,n=this;return Ji(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([xF],"readwrite").objectStore(xF),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(PF(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(r){i(bF.create("storage-delete",{originalErrorMessage:r&&r.message}))}}))]}}))}))},DF.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},DF);function DF(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open(NF,AF);n.onerror=function(e){t(PF(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(xF,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}var jF=(LF.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},LF.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},LF.prototype.getActiveConfig=function(){return this.activeConfig},LF.prototype.loadFromStorage=function(){return Xi(this,void 0,void 0,(function(){var e,t,n;return Ji(this,(function(r){switch(r.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(e=r.sent())&&(this.lastFetchStatus=e),[4,t];case 2:return(t=r.sent())&&(this.lastSuccessfulFetchTimestampMillis=t),[4,n];case 3:return(n=r.sent())&&(this.activeConfig=n),[2]}}))}))},LF.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},LF.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},LF.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},LF);function LF(e){this.storage=e}var MF=(FF.prototype.fetch=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},FF.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return Xi(this,void 0,void 0,(function(){var t,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,(a=e.signal,s=n,new Promise((function(e,t){var n=Math.max(s-Date.now(),0),r=setTimeout(e,n);a.addEventListener((function(){clearTimeout(r),t(bF.create("fetch-throttle",{throttleEndTimeMillis:s}))}))})))];case 1:o.sent(),o.label=2;case 2:return o.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=o.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return o.sent(),[2,t];case 5:if(!function(e){if(e instanceof Io&&e.customData)return 429===(e=Number(e.customData.httpStatus))||500===e||503===e||504===e}(i=o.sent()))throw i;return i={throttleEndTimeMillis:Date.now()+Zo(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(i)];case 6:return o.sent(),[2,this.attemptFetch(e,i)];case 7:return[2]}var a,s}))}))},FF);function FF(e,t){this.client=e,this.storage=t}var UF,qF="@firebase/remote-config";(UF=Aa).INTERNAL.registerComponent(new ta("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"==typeof window)throw bF.create("registration-window");var o=r.options,a=o.projectId,s=o.apiKey,u=o.appId;if(!a)throw bF.create("registration-project-id");if(!s)throw bF.create("registration-api-key");if(!u)throw bF.create("registration-app-id");return n=n||"firebase",t=new RF(u,r.name,n),e=new jF(t),(o=new pa(qF)).logLevel=ua.ERROR,u=new _F(i,UF.SDK_VERSION,n,a,s,u),u=new MF(u,t),u=new yF(u,t,e,o),(o=new kF(r,u,e,t,o)).ensureInitialized(),o}),"PUBLIC").setMultipleInstances(!0)),UF.registerVersion(qF,"0.1.41"),(Q={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",Q["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",Q["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Q["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Q["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Q["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Q["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Q["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Q["recaptcha-error"]="ReCAPTCHA error.";var VF=new Co("appCheck","AppCheck",Q=Q),BF=new Map,zF={activated:!1,tokenObservers:[]},KF={enabled:!1};function WF(e){return BF.get(e)||zF}function HF(e,t){BF.set(e,t)}function GF(){return self.grecaptcha}function QF(e){if(!WF(e).activated)throw VF.create("use-before-activation",{appName:e.name})}var $F="https://www.google.com/recaptcha/api.js";function YF(e,t){var n=WF(e),r=new lo;HF(e,Yi(Yi({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,o=document.createElement("div");o.id=i,o.style.display="none",document.body.appendChild(o);var a=GF();return a?a.ready((function(){XF(e,t,a,i),r.resolve(a)})):(n=function(){var n=GF();if(!n)throw new Error("no recaptcha");n.ready((function(){XF(e,t,n,i),r.resolve(n)}))},(o=document.createElement("script")).src=""+$F,o.onload=n,document.head.appendChild(o)),r.promise}function XF(e,t,n,r){r=n.render(r,{sitekey:t,size:"invisible"}),t=WF(e),HF(e,Yi(Yi({},t),{reCAPTCHAState:Yi(Yi({},t.reCAPTCHAState),{widgetId:r})}))}var JF="https://content-firebaseappcheck.googleapis.com/v1beta",ZF="exchangeRecaptchaToken",eU="exchangeDebugToken",tU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},nU=(rU.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},rU.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},rU.prototype.isRunning=function(){return!!this.pending},rU.prototype.process=function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new lo,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new lo,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},rU.prototype.getNextRun=function(e){return e?(this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration()):(e=this.nextErrorWaitInterval,this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e)},rU);function rU(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,i<(this.nextErrorWaitInterval=r))throw new Error("Proactive refresh lower bound greater than upper bound!")}function iU(e,t){var n=e.url,r=e.body;return Xi(this,void 0,void 0,(function(){var e,i,o,a,s;return Ji(this,(function(u){switch(u.label){case 0:i={"Content-Type":"application/json"},(e=t.getImmediate({optional:!0}))&&(i["X-Firebase-Client"]=e.getPlatformInfoString()),i={method:"POST",body:JSON.stringify(r),headers:i},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,fetch(n,i)];case 2:return s=u.sent(),[3,4];case 3:throw i=u.sent(),VF.create("fetch-network-error",{originalErrorMessage:i.message});case 4:if(200!==s.status)throw VF.create("fetch-status-error",{httpStatus:s.status});u.label=5;case 5:return u.trys.push([5,7,,8]),[4,s.json()];case 6:return o=u.sent(),[3,8];case 7:throw a=u.sent(),VF.create("fetch-parse-error",{originalErrorMessage:a.message});case 8:if(!(s=o.ttl.match(/^([\d.]+)(s)$/))||!s[2]||isNaN(Number(s[1])))throw VF.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+o.ttl});return a=1e3*Number(s[1]),s=Date.now(),[2,{token:o.attestationToken,expireTimeMillis:s+a,issuedAtTimeMillis:s}]}}))}))}function oU(e,t){var n=(r=e.options).projectId,r=(e=r.appId,r.apiKey);return{url:JF+"/projects/"+n+"/apps/"+e+":"+eU+"?key="+r,body:{debug_token:t}}}var aU="firebase-app-check-database",sU=1,uU="firebase-app-check-store",cU="debug-token",lU=null;function hU(){return lU=lU||new Promise((function(e,t){try{var n=indexedDB.open(aU,sU);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){t(VF.create("storage-open",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(uU,{keyPath:"compositeKey"})}}catch(n){t(VF.create("storage-open",{originalErrorMessage:n.message}))}}))}function fU(e,t){return Xi(this,void 0,void 0,(function(){var n,r,i;return Ji(this,(function(o){switch(o.label){case 0:return[4,hU()];case 1:return r=o.sent(),n=r.transaction(uU,"readwrite"),r=n.objectStore(uU),i=r.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){i.onsuccess=function(t){e()},n.onerror=function(e){t(VF.create("storage-set",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}}))]}}))}))}function dU(e){return Xi(this,void 0,void 0,(function(){var t,n,r;return Ji(this,(function(i){switch(i.label){case 0:return[4,hU()];case 1:return n=i.sent(),t=n.transaction(uU,"readonly"),n=t.objectStore(uU),r=n.get(e),[2,new Promise((function(e,n){r.onsuccess=function(t){t=t.target.result,e(t?t.value:void 0)},t.onerror=function(e){n(VF.create("storage-get",{originalErrorMessage:null===(e=e.target.error)||void 0===e?void 0:e.message}))}}))]}}))}))}function pU(e){return e.options.appId+"-"+e.name}var vU=new pa("@firebase/app-check");function gU(e){return Xi(this,void 0,void 0,(function(){var t,n;return Ji(this,(function(r){switch(r.label){case 0:if(!bo())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,dU(pU(e))];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),vU.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}function yU(e,t){return bo()?fU(pU(e),t).catch((function(e){vU.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function mU(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){switch(t.label){case 0:e=void 0,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,dU(cU)];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),[3,4];case 4:return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),fU(cU,e).catch((function(e){return vU.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work")),[2,e]}}))}))}var bU={error:"UNKNOWN_ERROR"};function _U(e,t,n){return void 0===n&&(n=!1),Xi(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h,f;return Ji(this,(function(d){switch(d.label){case 0:return QF(e),r=WF(e),i=r.token,o=void 0,i?[3,2]:[4,gU(e)];case 1:(a=d.sent())&&IU(a)&&(i=a,HF(e,Yi(Yi({},r),{token:i})),TU(e,{token:i.token})),d.label=2;case 2:return!n&&i&&IU(i)?[2,{token:i.token}]:KF.enabled?(s=iU,u=oU,c=[e],[4,function(){return Xi(this,void 0,void 0,(function(){var e;return Ji(this,(function(t){if((e=KF).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}()]):[3,6];case 3:return[4,s.apply(void 0,[u.apply(void 0,c.concat([d.sent()])),t])];case 4:return l=d.sent(),[4,yU(e,l)];case 5:return d.sent(),HF(e,Yi(Yi({},r),{token:l})),[2,{token:l.token}];case 6:return d.trys.push([6,12,,13]),r.customProvider?[4,r.customProvider.getToken()]:[3,8];case 7:return c=d.sent(),l=null!==(l=Ao(c.token))&&l<Date.now()&&0<l?1e3*l:Date.now(),i=Yi(Yi({},c),{issuedAtTimeMillis:l}),[3,11];case 8:return[4,function(e){return Xi(this,void 0,void 0,(function(){var t;return Ji(this,(function(n){switch(n.label){case 0:return QF(e),[4,WF(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=WF(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}(e).catch((function(e){throw VF.create("recaptcha-error")}))];case 9:return h=d.sent(),[4,iU((p=e,v=(g=e.options).projectId,p=g.appId,g=g.apiKey,{url:JF+"/projects/"+v+"/apps/"+p+":"+ZF+"?key="+g,body:{recaptcha_token:h}}),t)];case 10:i=d.sent(),d.label=11;case 11:return[3,13];case 12:return h=d.sent(),vU.error(h),o=h,[3,13];case 13:return i?[3,14]:(g=o,f={token:function(e){return so.encodeString(JSON.stringify(e),!1)}(bU),error:g},[3,16]);case 14:return f={token:i.token},HF(e,Yi(Yi({},r),{token:i})),[4,yU(e,i)];case 15:d.sent(),d.label=16;case 16:return TU(e,f),[2,f]}var p,v,g}))}))}function wU(e,t,n,r,i){var o,a=WF(e);n={next:r,error:i,type:n},(n=Yi(Yi({},a),{tokenObservers:to(to([],a.tokenObservers),[n])})).tokenRefresher||(t=function(e,t){var n=this;return new nU((function(){return Xi(n,void 0,void 0,(function(){var n;return Ji(this,(function(r){switch(r.label){case 0:return WF(e).token?[3,2]:[4,_U(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,_U(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){if((n=WF(e)).token){var t=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5,n=n.token.expireTimeMillis-3e5;return t=Math.min(t,n),Math.max(0,t-Date.now())}return 0}),tU.RETRIAL_MIN_WAIT,tU.RETRIAL_MAX_WAIT)}(e,t),n.tokenRefresher=t),n.tokenRefresher.isRunning()||!0!==a.isTokenAutoRefreshEnabled||n.tokenRefresher.start(),a.token&&IU(a.token)&&(o=a.token,Promise.resolve().then((function(){return r({token:o.token})})).catch((function(){}))),HF(e,n)}function EU(e,t){var n=WF(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),HF(e,Yi(Yi({},n),{tokenObservers:r}))}function TU(e,t){for(var n=0,r=WF(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(e){}}}function IU(e){return 0<e.expireTimeMillis-Date.now()}function SU(e,t){return{app:e,activate:function(t,n){return function(e,t,n){var r=WF(e);if(r.activated)throw VF.create("already-activated",{appName:e.name});r=Yi(Yi({},r),{activated:!0}),"string"==typeof t?r.siteKey=t:r.customProvider=t,r.isTokenAutoRefreshEnabled=void 0===n?e.automaticDataCollectionEnabled:n,HF(e,r),r.siteKey&&YF(e,r.siteKey).catch((function(){}))}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return r=t,(t=WF(n=e)).tokenRefresher&&(!0===r?t.tokenRefresher.start():t.tokenRefresher.stop()),void HF(n,Yi(Yi({},t),{isTokenAutoRefreshEnabled:r}));var n,r},getToken:function(n){return function(e,t,n){return Xi(this,void 0,void 0,(function(){var r;return Ji(this,(function(i){switch(i.label){case 0:return[4,_U(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return o=e,a=t,s=r,u=function(){},r=function(){},u=null!=(n=n).next?n.next.bind(n):n,null!=n.error?r=n.error.bind(n):s&&(r=s),wU(o,a,"EXTERNAL",u,r),function(){return EU(o,u)};var o,a,s,u},INTERNAL:{delete:function(){for(var t=0,n=WF(e).tokenObservers;t<n.length;t++){var r=n[t];EU(e,r.next)}return Promise.resolve()}}}}var CU,kU,OU,PU,xU="app-check-internal";return(CU=Aa).INTERNAL.registerComponent(new ta("appCheck",(function(e){return SU(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(xU).initialize()}))),CU.INTERNAL.registerComponent(new ta(xU,(function(e){var t,n,r=e.getProvider("app").getImmediate();return e=e.getProvider("platform-logger"),t=r,n=e,{getToken:function(e){return _U(t,n,e)},addTokenListener:function(e){return wU(t,n,"INTERNAL",e)},removeTokenListener:function(e){return EU(t,e)}}}),"PUBLIC").setInstantiationMode("EXPLICIT")),CU.registerVersion("@firebase/app-check","0.2.0"),"string"!=typeof(PU=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof t)return t;throw new Error("Unable to locate global object.")}()).FIREBASE_APPCHECK_DEBUG_TOKEN&&!0!==PU.FIREBASE_APPCHECK_DEBUG_TOKEN||((kU=KF).enabled=!0,OU=new lo,kU.token=OU,"string"==typeof PU.FIREBASE_APPCHECK_DEBUG_TOKEN?OU.resolve(PU.FIREBASE_APPCHECK_DEBUG_TOKEN):OU.resolve(mU())),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"),Aa.registerVersion("firebase","8.7.1","cdn"),Aa}()}).call(this,n(24),n(32))},,function(e,t,n){"use strict";n.r(t),n.d(t,"CSSTransition",(function(){return T})),n.d(t,"ReplaceTransition",(function(){return R})),n.d(t,"SwitchTransition",(function(){return q})),n.d(t,"TransitionGroup",(function(){return P})),n.d(t,"Transition",(function(){return _})),n.d(t,"config",(function(){return h}));var r=n(9),i=n(16),o=n(12);n(5);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(3),u=n.n(s),c=n(22),l=n.n(c),h={disabled:!1},f=u.a.createContext(null),d="unmounted",p="exited",v="entering",g="entered",y="exiting",m=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=p,r.appearStatus=v):i=g:i=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:i},r.nextCallback=null,r}Object(o.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==g&&(t=v):n!==v&&n!==g||(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===v?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||h.disabled?this.safeSetState({status:g},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:v},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:g},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.a.findDOMNode(this);t&&!h.disabled?(this.props.onExit(r),this.safeSetState({status:y},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(i.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u.a.createElement(f.Provider,{value:null},"function"===typeof n?n(e,r):u.a.cloneElement(u.a.Children.only(n),r))},t}(u.a.Component);function b(){}m.contextType=f,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:b,onEntering:b,onEntered:b,onExit:b,onExiting:b,onExited:b},m.UNMOUNTED=d,m.EXITED=p,m.ENTERING=v,m.ENTERED=g,m.EXITING=y;var _=m,w=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&w(e,r),i&&w(e,i),o&&w(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return u.a.createElement(_,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u.a.Component);E.defaultProps={classNames:""},E.propTypes={};var T=E;function I(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function S(e,t,n){return null!=n[t]?n[t]:e.props[t]}function C(e,t,n){var r=I(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var u=o in t,c=o in r,l=t[o],h=Object(s.isValidElement)(l)&&!l.props.in;!c||u&&!h?c||!u||h?c&&u&&Object(s.isValidElement)(l)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:l.props.in,exit:S(a,"exit",e),enter:S(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:S(a,"exit",e),enter:S(a,"enter",e)})}})),i}var k=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},O=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,I(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:S(e,"appear",n),enter:S(e,"enter",n),exit:S(e,"exit",n)})}))):C(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=I(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(r.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(i.a)(e,["component","childFactory"]),o=this.state.contextValue,a=k(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?u.a.createElement(f.Provider,{value:o},a):u.a.createElement(f.Provider,{value:o},u.a.createElement(t,r,a))},t}(u.a.Component);O.propTypes={},O.defaultProps={component:"div",childFactory:function(e){return e}};var P=O,x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}Object(o.a)(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=u.a.Children.toArray(i)[t];if(o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]){var a=o.props.nodeRef?void 0:l.a.findDOMNode(this);this.props[e](a)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=Object(i.a)(e,["children","in"]),o=u.a.Children.toArray(t),a=o[0],s=o[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,u.a.createElement(P,r,n?u.a.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):u.a.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(u.a.Component);x.propTypes={};var N,A,R=x;var D="out-in",j="in-out",L=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},M=((N={})[D]=function(e){var t=e.current,n=e.changeState;return u.a.cloneElement(t,{in:!1,onExited:L(t,"onExited",(function(){n(v,null)}))})},N[j]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,u.a.cloneElement(r,{in:!0,onEntered:L(r,"onEntered",(function(){n(v)}))})]},N),F=((A={})[D]=function(e){var t=e.children,n=e.changeState;return u.a.cloneElement(t,{in:!0,onEntered:L(t,"onEntered",(function(){n(g,u.a.cloneElement(t,{in:!0}))}))})},A[j]=function(e){var t=e.current,n=e.children,r=e.changeState;return[u.a.cloneElement(t,{in:!1,onExited:L(t,"onExited",(function(){r(g,u.a.cloneElement(n,{in:!0}))}))}),u.a.cloneElement(n,{in:!0})]},A),U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:g,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===v&&e.mode===j?{status:v}:!t.current||(n=t.current,r=e.children,n===r||u.a.isValidElement(n)&&u.a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:u.a.cloneElement(e.children,{in:!0})}:{status:y};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,o=i.status,a=i.current,s={children:n,current:a,changeState:this.changeState,status:o};switch(o){case v:e=F[r](s);break;case y:e=M[r](s);break;case g:e=a}return u.a.createElement(f.Provider,{value:{isMounting:!this.appeared}},e)},t}(u.a.Component);U.propTypes={},U.defaultProps={mode:D};var q=U}]]);
//# sourceMappingURL=2.637c1618.chunk.js.map